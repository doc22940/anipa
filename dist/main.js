!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.anipa=t():e.anipa=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"debounce",(function(){return O})),r.d(n,"throttle",(function(){return j})),r.d(n,"keyEach",(function(){return k})),r.d(n,"keyMap",(function(){return w})),r.d(n,"get",(function(){return P})),r.d(n,"defaultValue",(function(){return S})),r.d(n,"isUndefined",(function(){return T})),r.d(n,"isNotUndefined",(function(){return C})),r.d(n,"isArray",(function(){return E})),r.d(n,"isBoolean",(function(){return R})),r.d(n,"isString",(function(){return _})),r.d(n,"isNotString",(function(){return A})),r.d(n,"isObject",(function(){return D})),r.d(n,"isFunction",(function(){return M})),r.d(n,"isNumber",(function(){return I})),r.d(n,"clone",(function(){return L})),r.d(n,"cleanObject",(function(){return X})),r.d(n,"combineKeyArray",(function(){return Y})),r.d(n,"repeat",(function(){return F})),r.d(n,"CSS_TO_STRING",(function(){return N})),r.d(n,"STRING_TO_CSS",(function(){return V}));var o={};r.r(o),r.d(o,"round",(function(){return H})),r.d(o,"degreeToRadian",(function(){return Z})),r.d(o,"radianToDegree",(function(){return Q})),r.d(o,"getXInCircle",(function(){return $})),r.d(o,"getYInCircle",(function(){return J})),r.d(o,"getXYInCircle",(function(){return K})),r.d(o,"getDist",(function(){return W})),r.d(o,"calculateAngle",(function(){return ee})),r.d(o,"uuid",(function(){return re})),r.d(o,"uuidShort",(function(){return ne}));var i={};r.r(i),r.d(i,"ReverseXyz",(function(){return Ge})),r.d(i,"ReverseRGB",(function(){return ze})),r.d(i,"XYZtoRGB",(function(){return qe})),r.d(i,"LABtoXYZ",(function(){return Ue})),r.d(i,"PivotXyz",(function(){return He})),r.d(i,"XYZtoLAB",(function(){return Ze})),r.d(i,"LABtoRGB",(function(){return Qe}));var u={};r.r(u),r.d(u,"RGBtoHSV",(function(){return $e})),r.d(u,"RGBtoCMYK",(function(){return Je})),r.d(u,"RGBtoHSL",(function(){return Ke})),r.d(u,"c",(function(){return We})),r.d(u,"gray",(function(){return et})),r.d(u,"RGBtoSimpleGray",(function(){return tt})),r.d(u,"RGBtoGray",(function(){return rt})),r.d(u,"brightness",(function(){return nt})),r.d(u,"RGBtoYCrCb",(function(){return ot})),r.d(u,"PivotRGB",(function(){return it})),r.d(u,"RGBtoXYZ",(function(){return ut})),r.d(u,"RGBtoLAB",(function(){return at}));var a={};r.r(a),r.d(a,"HUEtoRGB",(function(){return ct})),r.d(a,"HSLtoHSV",(function(){return lt})),r.d(a,"HSLtoRGB",(function(){return st}));var c={};r.r(c),r.d(c,"isColor",(function(){return gt})),r.d(c,"matches",(function(){return dt})),r.d(c,"convertMatches",(function(){return bt})),r.d(c,"convertMatchesArray",(function(){return mt})),r.d(c,"reverseMatches",(function(){return Ot})),r.d(c,"trim",(function(){return kt})),r.d(c,"parse",(function(){return wt})),r.d(c,"parseGradient",(function(){return Pt}));var l={};r.r(l),r.d(l,"format",(function(){return It})),r.d(l,"hex",(function(){return Lt})),r.d(l,"rgb",(function(){return Xt})),r.d(l,"hsl",(function(){return Yt}));var s={};r.r(s),r.d(s,"randomNumber",(function(){return Ft})),r.d(s,"random",(function(){return Nt}));var f={};r.r(f),r.d(f,"CMYKtoRGB",(function(){return Vt}));var p={};r.r(p),r.d(p,"HSVtoRGB",(function(){return Bt})),r.d(p,"HSVtoHSL",(function(){return Gt}));var h={};r.r(h),r.d(h,"YCrCbtoRGB",(function(){return zt}));var v={};function g(e){return function(e){if(Array.isArray(e))return e}(e)||b(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var r=void 0;return function(n,o,i,u,a){r&&clearTimeout(r),r=setTimeout((function(){e(n,o,i,u,a)}),t||300)}}function j(e,t){var r=void 0;return function(n,o,i,u,a){r||(r=setTimeout((function(){e(n,o,i,u,a),r=null}),t||300))}}function k(e,t){Object.keys(e).forEach((function(r,n){t(r,e[r],n)}))}function w(e,t){return Object.keys(e).map((function(r,n){return t(r,e[r],n)}))}function P(e,t,r){var n=S(e[t],t);return M(r)?r(n):n}function S(e,t){return void 0===e?t:e}function T(e){return null==e}function C(e){return!1===T(e)}function E(e){return Array.isArray(e)}function R(e){return"boolean"==typeof e}function _(e){return"string"==typeof e}function A(e){return!1===_(e)}function D(e){return"object"==m(e)&&!E(e)&&!I(e)&&!_(e)&&null!==e}function M(e){return"function"==typeof e}function I(e){return"number"==typeof e}function L(e){return JSON.parse(JSON.stringify(e))}function X(e){var t={};return Object.keys(e).filter((function(t){return!!e[t]})).forEach((function(r){t[r]=e[r]})),t}function Y(e){return Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].join(", "))})),e}function F(e){return d(Array(e))}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e;return Object.keys(r).filter((function(e){return r[e]})).map((function(e){return"".concat(e,": ").concat(r[e])})).join(";"+t)}function V(e){var t={};return(e+="").split(";").forEach((function(e){var r=g(e.split(":").map((function(e){return e.trim()}))),n=r[0],o=r.slice(1);""!=n&&(t[n]=o.join(":"))})),t}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(e,t){if(_(t)){var r=B(t.split(":"),4),n=r[0],o=r[1],i=r[2],u=r[3];return 3600*(n=parseInt(n,10))+60*(o=parseInt(o,10))+(i=parseInt(i,10))+(u=parseInt(u,10))*(1/e)}return I(t)?t/e:0}function z(e,t){var r=Math.floor(t/3600),n=Math.floor(t/60%60),o=Math.floor(t%60),i=Math.round((t-Math.floor(t))*e);return i===e&&(i=0,60===(o+=1)&&60===(n+=1)&&(r+=1)),[r,n,o,i].map((function(e){return(e+"").padStart(2,"0")})).join(":")}function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return z(e,G(e,t)-G(e,r))}function U(e){var t={id:0,start:0,speed:e.speed||1,elapsed:e.elapsed||0,duration:e.duration||0,iterationStartCount:1,iterationCount:e.iterationCount||Number.MAX_SAFE_INTEGER,direction:e.direction||"normal",log:[],logIndex:0,tick:e.tick||function(){},startCallback:e.start||function(){},endCallback:e.end||function(){},firstCallback:e.first||function(){},lastCallback:e.last||function(){}},r=function(e){return"normal"===t.direction||"reverse"!==t.direction&&("alternate"===t.direction?t.iterationStartCount%2==1:"alternate-reverse"===t.direction?t.iterationStartCount%2==0:void 0)?e:1-e},n=function(e){var n=!1;null===t.start&&(t.start=e,n=!0);var u=e-t.start;t.elapsed+=u*t.speed,t.start=e,t.elapsed>t.duration&&(t.elapsed=t.duration);var a=r(t.elapsed/t.duration)*t.duration;n&&t.startCallback(a,t),t.log[t.logIndex++]={elapsed:a,dt:t.lastTime-a},t.lastTime=a,t.tick(a,t),t.elapsed===t.duration?i():o()},o=function(){t.id=requestAnimationFrame(n)},i=function(){t.endCallback(t.elapsed,t),t.iterationStartCount++,t.iterationStartCount>t.iterationCount?(t.lastCallback(t.elapsed,t),cancelAnimationFrame(t.id)):(t.start=null,t.elapsed=0,o())},u=function(e){t.elapsed=e,t.tick(t.elapsed,t)};return{play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.start=null,t.iterationStartCount=1,t.log=[],t.lastTime=0,t.logIndex=0,I(e.elapsed)&&(t.elapsed=e.elapsed),I(e.speed)&&(t.speed=e.speed),I(e.duration)&&(t.duration=e.duration),I(e.iterationCount)&&(t.iterationCount=e.iterationCount||Number.MAX_SAFE_INTEGER),_(e.direction)&&(t.direction=e.direction),M(e.tick)&&(t.tick=e.tick),M(e.start)&&(t.startCallback=e.start),M(e.end)&&(t.endCallback=e.end),M(e.first)&&(t.firstCallback=e.first),M(e.last)&&(t.lastCallback=e.last),t.firstCallback(t.elapsed,t),o()},stop:function(){cancelAnimationFrame(t.id)},tick:n,first:function(e){u(0)},last:function(e){u(t.duration)},seek:u,timer:t}}function H(e,t){return t=T(t)?1:t,Math.round(e*t)/t}function Z(e){return e*Math.PI/180}function Q(e){var t=180*e/Math.PI;return t<0&&(t=360+t),t}function $(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+t*Math.cos(Z(e))}function J(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+t*Math.sin(Z(e))}function K(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:$(e,t,r),y:J(e,t,n)}}function W(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Math.sqrt(Math.pow(Math.abs(r-e),2)+Math.pow(Math.abs(n-t),2))}function ee(e,t){return Q(Math.atan2(t,e))}r.r(v),r.d(v,"interpolateRGB",(function(){return qt})),r.d(v,"interpolateRGBObject",(function(){return Ut})),r.d(v,"scale",(function(){return Ht})),r.d(v,"blend",(function(){return Zt})),r.d(v,"mix",(function(){return Qt})),r.d(v,"contrast",(function(){return $t})),r.d(v,"contrastColor",(function(){return Jt})),r.d(v,"gradient",(function(){return Kt})),r.d(v,"scaleHSV",(function(){return Wt})),r.d(v,"scaleH",(function(){return er})),r.d(v,"scaleS",(function(){return tr})),r.d(v,"scaleV",(function(){return rr}));var te=/[xy]/g;function re(){var e=(new Date).getTime();return"xxx12-xx-34xx".replace(te,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}))}function ne(){var e=(new Date).getTime();return"idxxxxxxx".replace(te,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}))}var oe={linear:!0,ease:!0,"ease-in":!0,"ease-out":!0,"ease-in-out":!0},ie=[[0,0,1,1,"linear",!0],[.25,.1,.25,1,"ease",!0],[.42,0,1,1,"ease-in",!0],[0,0,.58,1,"ease-out",!0],[.47,0,.745,.715,"ease-in-sine"],[.39,.575,.565,1,"ease-out-sine"],[.445,.05,.55,.95,"ease-in-out-sine"],[.55,.085,.68,.53,"ease-in-quad"],[.25,.46,.45,.94,"ease-out-quad"],[.455,.03,.515,.955,"ease-in-out-quad"],[.55,.055,.675,.19,"ease-in-cubic"],[.215,.61,.355,1,"ease-out-cubic"],[.645,.045,.355,1,"ease-in-out-cubic"],[.895,.03,.685,.22,"ease-in-quart"],[.165,.84,.44,1,"ease-out-quart"],[.77,0,.175,1,"ease-in-out-quart"],[.6,.04,.98,.335,"ease-in-circ"],[.075,.82,.165,1,"ease-out-circ"],[.785,.135,.15,.86,"ease-in-out-circ"],[.95,.05,.795,.035,"ease-in-expo"],[.19,1,.22,1,"ease-out-expo"],[1,0,0,1,"ease-in-out-expo"],[.755,.05,.855,.06,"ease-in-quint"],[.23,1,.32,1,"ease-out-quint"],[.86,0,.07,1,"ease-in-out-quint"],[.6,-.28,.735,.045,"ease-in-back"],[.175,.885,.32,1.275,"ease-out-back"],[.68,-.55,.265,1.55,"ease-in-out-back"]],ue=function(e){if("string"==typeof e){if(oe[e])return ie.filter((function(t){return t[4]===e}))[0];var t=e.replace("cubic-bezier","").replace("(","").replace(")","").split(",");return t=t.map((function(e){return parseFloat(e.trim())}))}return e},ae=function(e,t,r,n){var o=[e,t,r,n];return function(e){return ye(o,e)}},ce=function(e,t,r){var n=[e,t,r];return function(e){return he(n,e)}},le=function(e,t,r,n,o,i,u,a){for(var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1e3,l=ae({x:e,y:t},{x:r,y:n},{x:o,y:i},{x:u,y:a}),s=0,f=l(0),p=0;p<=c;p++){var y=p/c,h=l(y);s+=W(f.x,f.y,h.x,h.y),f=h}return s},se=function(e,t,r,n,o,i){for(var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3,a=ce({x:e,y:t},{x:r,y:n},{x:o,y:i}),c=0,l=a(0),s=0;s<=u;s++){var f=s/u,p=a(f);c+=W(l.x,l.y,p.x,p.y),l=p}return c},fe=function(e){var t=ue(e),r={x:t[0],y:t[1]},n={x:t[2],y:t[3]};return ae({x:0,y:0},r,n,{x:1,y:1})},pe=function(e,t,r){return{x:e.x+(t.x-e.x)*r,y:e.y+(t.y-e.y)*r}},ye=function(e,t){var r=pe(e[0],e[1],t),n=pe(e[1],e[2],t),o=pe(e[2],e[3],t),i=pe(r,n,t),u=pe(n,o,t);return pe(i,u,t)},he=function(e,t){var r=pe(e[0],e[1],t),n=pe(e[1],e[2],t);return pe(r,n,t)};function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var de={center:50,top:0,left:0,right:100,bottom:100},be=function e(){ge(this,e)};be.CENTER="center",be.TOP="top",be.RIGHT="right",be.LEFT="left",be.BOTTOM="bottom";var me=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi,Oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(ge(this,e),this.value=t,I(this.value)&&isNaN(this.value))throw new Error("NaN is not able to set");this.unit=r}var t,r,n;return t=e,r=[{key:Symbol.toPrimitive,value:function(e){return"number"==e?this.value:this.toString()}},{key:"toString",value:function(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return"var(--".concat(this.value,")");case"calc":return"calc(".concat(this.value,")");default:return this.value+this.unit}}},{key:"isUnitType",value:function(e){return this.unit===e}},{key:"isCalc",value:function(){return this.isUnitType("calc")}},{key:"isFr",value:function(){return this.isUnitType("fr")}},{key:"isPercent",value:function(){return this.isUnitType("%")}},{key:"isPx",value:function(){return this.isUnitType("px")}},{key:"isEm",value:function(){return this.isUnitType("em")}},{key:"isDeg",value:function(){return this.isUnitType("deg")}},{key:"isTurn",value:function(){return this.isUnitType("turn")}},{key:"isSecond",value:function(){return this.isUnitType("s")}},{key:"isMs",value:function(){return this.isUnitType("ms")}},{key:"isNumber",value:function(){return this.isUnitType("number")}},{key:"isString",value:function(){return this.isUnitType("")}},{key:"isVar",value:function(){return this.isUnitType("--")}},{key:"isNaN",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return I(this.value)&&isNaN(this.value)}))},{key:"set",value:function(e){return this.value=e,this}},{key:"add",value:function(e){return this.value+=+e,this}},{key:"sub",value:function(e){return this.add(-1*e)}},{key:"mul",value:function(e){return this.value*=+e,this}},{key:"div",value:function(e){return this.value/=+e,this}},{key:"mod",value:function(e){return this.value%=+e,this}},{key:"clone",value:function(){return new e(this.value,this.unit)}},{key:"getUnitName",value:function(){return"%"===this.unit?"percent":this.unit}},{key:"toJSON",value:function(){return{value:this.value,unit:this.unit}}},{key:"rate",value:function(e){return e/this.value}},{key:"stringToPercent",value:function(){return C(de[this.value])?e.percent(de[this.value]):e.percent(0)}},{key:"stringToEm",value:function(e){return this.stringToPercent().toEm(e)}},{key:"stringToPx",value:function(e){return this.stringToPercent().toPx(e)}},{key:"toPercent",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?this.clone():this.isPx()?e.percent(100*this.value/t):this.isEm()?e.percent(this.value*r*100/t):this.isString()?this.stringToPercent(t):this.isDeg()?e.percent(this.value/360*100):void 0}},{key:"toEm",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?e.em(this.value/100*t/r):this.isPx()?e.em(this.value/r):this.isEm()?this.clone():this.isString()?this.stringToEm(t):void 0}},{key:"toPx",value:function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.isPercent()?e.px(this.value/100*t):this.isPx()?this.clone():this.isEm()?e.px(this.value/100*t/16):this.isString()?this.stringToPx(t):void 0}},{key:"toDeg",value:function(){return this.isDeg()?this.clone():this.isTurn()?e.deg(360*this.value):void 0}},{key:"toTurn",value:function(){return this.isTurn()?this.clone():this.isDeg()?e.turn(this.value/360):void 0}},{key:"toSecond",value:function(){return this.isSecond()?this:this.isMs()?e.second(this.value/1e3):void 0}},{key:"toMs",value:function(){return this.isSecond()?e.ms(1e3*this.value):this.isMs()?this:void 0}},{key:"to",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return"px"===e?this.toPx(t,r):"%"===e||"percent"===e?this.toPercent(t,r):"em"===e?this.toEm(t,r):"deg"===e?this.toDeg():"turn"===e?this.toTurn():void 0}},{key:"toUnit",value:function(t){return new e(this.value,t)}},{key:"calculate",value:function(e,t){var r=this[e];return r?r.call(this,t):this}},{key:"includes",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.includes(this.value)}},{key:"round",value:function(t){return new e(H(this.value,t),this.unit)}},{key:"equals",value:function(e){return this.is(e.value)&&this.isUnitType(e.unit)}},{key:"is",value:function(e){return this.value===e}}],n=[{key:"min",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.shift(),o=0,i=t.length;o<i;o++)n.value>t[o].value&&(n=t[o]);return n}},{key:"max",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.shift(),o=0,i=t.length;o<i;o++)n.value<t[o].value&&(n=t[o]);return n}},{key:"string",value:function(t){return new e(t+"","")}},{key:"number",value:function(t){return new e(+t,"number")}},{key:"px",value:function(t){return new e(+t,"px")}},{key:"em",value:function(t){return new e(+t,"em")}},{key:"percent",value:function(t){return new e(+t,"%")}},{key:"deg",value:function(t){return new e(+t,"deg")}},{key:"turn",value:function(t){return new e(+t,"turn")}},{key:"fr",value:function(t){return new e(+t,"fr")}},{key:"second",value:function(t){return new e(+t,"s")}},{key:"ms",value:function(t){return new e(+t,"ms")}},{key:"var",value:function(t){return new e(t+"","--")}},{key:"calc",value:function(t){return new e(t,"calc")}},{key:"parse",value:function(t){if(_(t=t||e.number(0))){if((t=t.trim()).indexOf("calc(")>-1)return new e(t.split("calc(")[1].split(")")[0],"calc");var r=t.replace(me,"$1 $2").split(" ").map((function(e){return e.trim()}));return+r[0]==r[0]?new e(+r[0],r[1]):new e(r[0])}if(t instanceof e)return t;if(t.unit){if("%"==t.unit||"percent"==t.unit){var n=0;return C(t.percent)?n=t.percent:C(t.value)&&(n=t.value),e.percent(n)}if("px"==t.unit)return n=0,C(t.px)?n=t.px:C(t.value)&&(n=t.value),e.px(n);if("em"==t.unit)return n=0,C(t.em)?n=t.em:C(t.value)&&(n=t.value),e.em(n);if("deg"==t.unit)return n=0,C(t.deg)?n=t.deg:C(t.value)&&(n=t.value),e.deg(n);if("turn"==t.unit)return n=0,C(t.deg)?n=t.turn:C(t.value)&&(n=t.value),e.turn(n);if("s"==t.unit)return n=0,C(t.second)?n=t.second:C(t.value)&&(n=t.value),e.second(n);if("ms"==t.unit)return n=0,C(t.ms)?n=t.ms:C(t.value)&&(n=t.value),e.ms(n);if("number"==t.unit)return n=0,C(t.value)&&(n=t.value),e.number(n);if("--"==t.unit)return n=0,C(t.value)&&(n=t.value),e.var(n);if(""===t.unit||"string"===t.unit)return n="",C(t.str)?n=t.str:C(t.value)&&(n=t.value),e.string(n)}return e.string(t)}}],r&&ve(t.prototype,r),n&&ve(t,n),e}();function je(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return function(e,t){var i=0;return i=0===t?r:1===t?n:r+(n-r)*e,o?i+o:i}}function ke(e,t,r){return function(e,t){return r}}function we(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"width",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"parent",i=null;return r.isPx()?r:("parent"===o?i=Oe.parse(e.parent().css(n)):"self"===o&&(i=Oe.parse(e.css(n))),i?r.toPx(i.value):r)}function Pe(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent",u=Oe.parse(r),a=Oe.parse(n);return u.unit===a.unit?je(e,t,u.value,a.value,u.unit):u.equals(a)?ke(0,0,u):function(r,n){var c=we(e,t,u,o,i),l=we(e,t,a,o,i);return 0===n?c:1===n?l:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent";if(r.isPx()&&"px"===n)return r;var u=null;return"parent"===i?u=Oe.parse(e.parent().css(o)).value:"self"===i&&(u=Oe.parse(e.css(o)).value),null!=u?r.to(n,u):r}(e,t,Oe.px(c.value+(l.value-c.value)*r),u.unit,o,i)}}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Oe.auto=Oe.string("auto");var xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"parseStyle",value:function(e){var t={isAll:!0,"border-radius":Oe.px(0),"border-top-left-radius":Oe.px(0),"border-top-right-radius":Oe.px(0),"border-bottom-right-radius":Oe.px(0),"border-bottom-left-radius":Oe.px(0)},r=e.split(" ").filter((function(e){return Oe.parse(e)}));return 1===r.length?(t.isAll=!0,t["border-radius"]=r[0]):(t.isAll=!1,t["border-top-left-radius"]=r[0],t["border-top-right-radius"]=r[1],t["border-bottom-right-radius"]=r[2],t["border-bottom-left-radius"]=r[3]),t}}],(r=null)&&Se(t.prototype,r),n&&Se(t,n),e}(),Te=function(e){return e.isAll?[e["border-radius"]||"0px",e["border-radius"]||"0px",e["border-radius"]||"0px",e["border-radius"]||"0px"]:[e["border-top-left-radius"]||"0px",e["border-top-right-radius"]||"0px",e["border-bottom-right-radius"]||"0px",e["border-bottom-left-radius"]||"0px"]};function Ce(e,t,r,n){for(var o=Te(xe.parseStyle(r)),i=Te(xe.parseStyle(n)),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++)a[c]=Pe(e,t,o[c],i[c]);return function(e,t){return a.map((function(r){return r(e,t)})).join(" ")}}function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(r,!0).forEach((function(t){_e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function De(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Me=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r instanceof e&&(r=r.toJSON()),this.json=this.convert(Object.assign({},this.getDefaultObject(),r)),this.ref=new Proxy(this,{get:function(e,t){var r=e[t];return M(r)?function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.apply(e,n)}:r||e.json[t]},set:function(e,r,n){if(n&&n.realVal&&M(n.realVal)&&(n=n.realVal()),!t.checkField(r,n))throw new Error("".concat(n," is invalid as ").concat(r," property value."));return e.json[r]=n,!0}}),this.ref}var t,r,n;return t=e,(r=[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"isAttribute",value:function(){return!1}},{key:"recover",value:function(){}},{key:"setCache",value:function(){}},{key:"is",value:function(){if(!this.json)return!1;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.indexOf(this.json.itemType)>-1}},{key:"isNot",value:function(){return!1===this.is.apply(this,arguments)}},{key:"convert",value:function(e){var t=this;return e.layers.forEach((function(e){e.parent=t.ref})),e}},{key:"checkField",value:function(e,t){return!0}},{key:"toCloneObject",value:function(){return{itemType:this.json.itemType,elementType:this.json.elementType,type:this.json.type,visible:this.json.visible,lock:this.json.lock,selected:this.json.selected,layers:this.json.layers.map((function(e){return e.clone()}))}}},{key:"clone",value:function(){var e=new(0,this.constructor)(this.toCloneObject());return e.parent=this.json.parent,e}},{key:"reset",value:function(t){t instanceof e&&(t=t.toJSON()),this.json=this.convert(Re({},this.json,{},t))}},{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Re({layers:[]},e)}},{key:"add",value:function(e){return this.json.layers.push(e),e.parent=this.ref,e}},{key:"toggle",value:function(e,t){T(t)?this.json[e]=!this.json[e]:this.json[e]=!!t}},{key:"toJSON",value:function(){return this.json}},{key:"resize",value:function(){}},{key:"copy",value:function(){return this.json.parent.copyItem(this.ref)}},{key:"copyItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=e.clone();r.setScreenX(r.screenX.value+t),r.setScreenY(r.screenY.value+t);for(var n=this.json.layers,o=-1,i=0,u=n.length;i<u;i++)if(n[i]===e){o=i;break}return o>-1&&this.json.layers.splice(o+1,0,r),r}},{key:"remove",value:function(){this.json.parent.removeItem(this.ref)}},{key:"removeItem",value:function(e){for(var t=this.json.layers,r=-1,n=0,o=t.length;n<o;n++)if(t[n]===e){r=n;break}r>-1&&this.json.layers.splice(r,1)}},{key:"searchById",value:function(e){if(this.id===e)return this.ref;for(var t=0,r=this.layers.length;t<r;t++){var n=this.layers[t];if(n.id===e)return n;var o=n.searchById(e);if(o)return o}return null}},{key:"title",get:function(){return this.json.name||this.getDefaultTitle()}},{key:"id",get:function(){return this.json.id}},{key:"layers",get:function(){return this.json.layers}},{key:"parent",get:function(){return this.json.parent}},{key:"html",get:function(){var e=this.json,t=e.elementType,r=e.id,n=e.layers,o=e.itemType,i=t||"div";return"\n    <".concat(i," class='element-item ").concat(o,"' data-id=\"").concat(r,'">\n      ').concat(n.map((function(e){return e.html})).join(""),"\n    </").concat(i,">\n    ")}},{key:"allLayers",get:function(){return De(function e(t){var r=[];return t.layers.length&&t.layers.forEach((function(t){r.push.apply(r,De(e(t)))})),r.push(t),r}(this.ref))}}])&&Ae(t.prototype,r),n&&Ae(t,n),e}();function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xe(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xe(this,Ye(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,e),r=t,(n=[{key:"isAttribute",value:function(){return!0}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return N(this.toCSS())}}])&&Le(r.prototype,n),o&&Le(r,o),t}(Me),Ve={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)"};var Be={isColorName:function(e){return!!Ve[e]},getColorByName:function(e){return Ve[e]}};function Ge(e){return Math.pow(e,3)>.008856?Math.pow(e,3):(e-16/116)/7.787}function ze(e){return e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e}function qe(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.x,t=n.y,r=n.z}var o=e/100,i=t/100,u=r/100,a=3.2406*o+-1.5372*i+-.4986*u,c=-.9689*o+1.8758*i+.0415*u,l=.0557*o+-.204*i+1.057*u;return a=ze(a),c=ze(c),l=ze(l),{r:H(255*a),g:H(255*c),b:H(255*l)}}function Ue(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.l,t=n.a,r=n.b}var o=(e+16)/116,i=t/500+o,u=o-r/200;return o=Ge(o),{x:95.047*(i=Ge(i)),y:100*o,z:108.883*(u=Ge(u))}}function He(e){return e>.008856?Math.pow(e,1/3):(7.787*e+16)/116}function Ze(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.x,t=n.y,r=n.z}var o=e/95.047,i=t/100,u=r/108.883;return o=He(o),{l:116*(i=He(i))-16,a:500*(o-i),b:200*(i-(u=He(u)))}}function Qe(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.l,t=n.a,r=n.b}return qe(Ue(e,t,r))}function $e(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.r,t=n.g,r=n.b}var o=e/255,i=t/255,u=r/255,a=Math.max(o,i,u),c=a-Math.min(o,i,u),l=0;0==c?l=0:a==o?l=(i-u)/c%6*60:a==i?l=60*((u-o)/c+2):a==u&&(l=60*((o-i)/c+4)),l<0&&(l=360+l);return{h:l,s:0==a?0:c/a,v:a}}function Je(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.r,t=n.g,r=n.b}var o=e/255,i=t/255,u=r/255,a=1-Math.max(o,i,u);return{c:(1-o-a)/(1-a),m:(1-i-a)/(1-a),y:(1-u-a)/(1-a),k:a}}function Ke(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.r,t=n.g,r=n.b}e/=255,t/=255,r/=255;var o,i,u=Math.max(e,t,r),a=Math.min(e,t,r),c=(u+a)/2;if(u==a)o=i=0;else{var l=u-a;switch(i=c>.5?l/(2-u-a):l/(u+a),u){case e:o=(t-r)/l+(t<r?6:0);break;case t:o=(r-e)/l+2;break;case r:o=(e-t)/l+4}o/=6}return{h:H(360*o),s:H(100*i),l:H(100*c)}}function We(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.r,t=n.g,r=n.b}return et((e+t+r)/3>90?0:255)}function et(e){return{r:e,g:e,b:e}}function tt(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.r,t=n.g,r=n.b}return et(Math.ceil((e+t+r)/3))}function rt(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.r,t=n.g,r=n.b}return et(ot(e,t,r).y)}function nt(e,t,r){return Math.ceil(.2126*e+.7152*t+.0722*r)}function ot(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.r,t=n.g,r=n.b}var o=nt(e,t,r);return{y:o,cr:.713*(e-o),cb:.564*(r-o)}}function it(e){return 100*(e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)}function ut(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.r,t=n.g,r=n.b}var o=e/255,i=t/255,u=r/255;return{x:.4124*(o=it(o))+.3576*(i=it(i))+.1805*(u=it(u)),y:.2126*o+.7152*i+.0722*u,z:.0193*o+.1192*i+.9505*u}}function at(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.r,t=n.g,r=n.b}return Ze(ut(e,t,r))}function ct(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function lt(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.h,t=n.s,r=n.l}var o=st(e,t,r);return $e(o.r,o.g,o.b)}function st(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.h,t=n.s,r=n.l}var o,i,u;if(e/=360,r/=100,0==(t/=100))o=i=u=r;else{var a=r<.5?r*(1+t):r+t-r*t,c=2*r-a;o=ct(c,a,e+1/3),i=ct(c,a,e),u=ct(c,a,e-1/3)}return{r:H(255*o),g:H(255*i),b:H(255*u)}}function ft(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(r,!0).forEach((function(t){ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vt=/(#(?:[\da-f]{3}){1,2}|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function gt(e){return!!dt(e).length}function dt(e){var t=e.match(vt),r=[];if(!t)return r;for(var n=0,o=t.length;n<o;n++)if(t[n].indexOf("#")>-1||t[n].indexOf("rgb")>-1||t[n].indexOf("hsl")>-1)r.push({color:t[n]});else{var i=Be.getColorByName(t[n]);i&&r.push({color:t[n],nameColor:i})}var u={next:0};return r.forEach((function(t){var r=e.indexOf(t.color,u.next);t.startIndex=r,t.endIndex=r+t.color.length,u.next=t.endIndex})),r}function bt(e){var t=dt(e);return t.forEach((function(t,r){e=e.replace(t.color,"@"+r)})),{str:e,matches:t}}function mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=bt(e);return r.str.split(t).map((function(e,t){return e=kt(e),r.matches[t]&&(e=e.replace("@"+t,r.matches[t].color)),e}))}function Ot(e,t){return t.forEach((function(t,r){e=e.replace("@"+r,t.color)})),e}var jt=/^\s+|\s+$/g;function kt(e){return e.replace(jt,"")}function wt(e){if(_(e)){if(Be.isColorName(e)&&(e=Be.getColorByName(e)),e.indexOf("rgb(")>-1){for(var t=0,r=(n=e.replace("rgb(","").replace(")","").split(",")).length;t<r;t++)n[t]=parseInt(kt(n[t]),10);return i=yt({},i={type:"rgb",r:n[0],g:n[1],b:n[2],a:1},{},Ke(i))}if(e.indexOf("rgba(")>-1){for(t=0,r=(n=e.replace("rgba(","").replace(")","").split(",")).length;t<r;t++)n[t]=r-1==t?parseFloat(kt(n[t])):parseInt(kt(n[t]),10);return i=yt({},i={type:"rgb",r:n[0],g:n[1],b:n[2],a:n[3]},{},Ke(i))}if(e.indexOf("hsl(")>-1){for(t=0,r=(n=e.replace("hsl(","").replace(")","").split(",")).length;t<r;t++)n[t]=parseFloat(kt(n[t]));return i=yt({},i={type:"hsl",h:n[0],s:n[1],l:n[2],a:1},{},st(i))}if(e.indexOf("hsla(")>-1){for(t=0,r=(n=e.replace("hsla(","").replace(")","").split(",")).length;t<r;t++)n[t]=r-1==t?parseFloat(kt(n[t])):parseInt(kt(n[t]),10);return i=yt({},i={type:"hsl",h:n[0],s:n[1],l:n[2],a:n[3]},{},st(i))}if(0==e.indexOf("#")){var n=[];if(3==(e=e.replace("#","")).length)for(t=0,r=e.length;t<r;t++){var o=e.substr(t,1);n.push(parseInt(o+o,16))}else for(t=0,r=e.length;t<r;t+=2)n.push(parseInt(e.substr(t,2),16));return i=yt({},i={type:"hex",r:n[0],g:n[1],b:n[2],a:1},{},Ke(i))}}else if(I(e)){var i;if(0<=e&&e<=16777215)return i=yt({},i={type:"hex",r:(16711680&e)>>16,g:(65280&e)>>8,b:(255&e)>>0,a:1},{},Ke(i));if(0<=e&&e<=4294967295)return i=yt({},i={type:"hex",r:(4278190080&e)>>24,g:(16711680&e)>>16,b:(65280&e)>>8,a:(255&e)/255},{},Ke(i))}return e}function Pt(e){_(e)&&(e=mt(e));var t=(e=e.map((function(e){if(_(e)){var t=bt(e),r=kt(t.str).split(" ");return r[1]?r[1].indexOf("%")>-1?r[1]=parseFloat(r[1].replace(/%/,""))/100:r[1]=parseFloat(r[1]):r[1]="*",r[0]=Ot(r[0],t.matches),r}if(Array.isArray(e))return e[1]?_(e[1])&&(e[1].indexOf("%")>-1?e[1]=parseFloat(e[1].replace(/%/,""))/100:e[1]=+e[1]):e[1]="*",ft(e)}))).filter((function(e){return"*"===e[1]})).length;if(t>0){var r=(1-e.filter((function(e){return"*"!=e[1]&&1!=e[1]})).map((function(e){return e[1]})).reduce((function(e,t){return e+t}),0))/t;e.forEach((function(t,n){"*"==t[1]&&n>0&&(e.length-1==n||(t[1]=r))}))}return e}function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Et(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rt(e,t,r){return(Rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_t(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Et(this,_t(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(t,e),r=t,o=[{key:"parse",value:function(e){return new t(e)}},{key:"parseStyle",value:function(e){var r=[];if(!e)return r;var n=bt(e);return r=n.str.split(",").filter((function(e){return e.trim()})).map((function(e){var r=e.split(" "),o=r.filter((function(e){return"inset"===e})),i=r.filter((function(e){return e.includes("@")})).map((function(e){return n.matches[+e.replace("@","")].color})),u=r.filter((function(e){return"inset"!==e&&!e.includes("@")}));return t.parse({inset:!!o.length,color:i[0]||"rgba(0, 0, 0, 1)",offsetX:Oe.parse(u[0]||"0px"),offsetY:Oe.parse(u[1]||"0px"),blurRadius:Oe.parse(u[2]||"0px"),spreadRadius:Oe.parse(u[3]||"0px")})}))}},{key:"join",value:function(e){return e.map((function(e){return t.parse(e)})).join(", ")}}],(n=[{key:"getDefaultObject",value:function(){return Rt(_t(t.prototype),"getDefaultObject",this).call(this,{itemType:"box-shadow",inset:!1,offsetX:Oe.px(0),offsetY:Oe.px(0),blurRadius:Oe.px(0),spreadRadius:Oe.px(0),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){var e=this.json;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(r,!0).forEach((function(t){Tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Rt(_t(t.prototype),"toCloneObject",this).call(this),{inset:e.inset,offsetX:e.offsetX+"",offsetY:e.offsetY+"",blurRadius:e.blurRadius+"",spreadRadius:e.spreadRadius+"",color:e.color})}},{key:"convert",value:function(e){return(e=Rt(_t(t.prototype),"convert",this).call(this,e)).offsetX=Oe.parse(e.offsetX),e.offsetY=Oe.parse(e.offsetY),e.blurRadius=Oe.parse(e.blurRadius),e.spreadRadius=Oe.parse(e.spreadRadius),e}},{key:"toCSS",value:function(){return{"box-shadow":this.toString()}}},{key:"toString",value:function(){var e=this.json;return"".concat(e.inset?"inset ":"").concat(e.offsetX," ").concat(e.offsetY," ").concat(e.blurRadius," ").concat(e.spreadRadius," ").concat(e.color)}}])&&Ct(r.prototype,n),o&&Ct(r,o),t}(Ne);function Mt(e,t,r,n){return function(e,t){return 1===t?n:r}}function It(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]}),"hex"==t?Lt(e):"rgb"==t?Xt(e,r):"hsl"==t?Yt(e):e}function Lt(e){Array.isArray(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]});var t=e.r.toString(16);e.r<16&&(t="0"+t);var r=e.g.toString(16);e.g<16&&(r="0"+r);var n=e.b.toString(16);return e.b<16&&(n="0"+n),"#".concat(t).concat(r).concat(n)}function Xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(E(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]}),!T(e))return 1==e.a||T(e.a)?isNaN(e.r)?t:"rgb(".concat(e.r,",").concat(e.g,",").concat(e.b,")"):"rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(e.a,")")}function Yt(e){return E(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]}),1==e.a||T(e.a)?"hsl(".concat(e.h,",").concat(e.s,"%,").concat(e.l,"%)"):"hsla(".concat(e.h,",").concat(e.s,"%,").concat(e.l,"%,").concat(e.a,")")}function Ft(e,t){return Math.floor(Math.random()*(t-e+1))+e}function Nt(){return Xt({r:Ft(0,255),g:Ft(0,255),b:Ft(0,255)})}function Vt(e,t,r,n){if(1==arguments.length){var o=arguments[0];e=o.c,t=o.m,r=o.y,n=o.k}return{r:255*(1-e)*(1-n),g:255*(1-t)*(1-n),b:255*(1-r)*(1-n)}}function Bt(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.h,t=n.s,r=n.v}var o=e,i=r;o>=360&&(o=0);var u=t*i,a=u*(1-Math.abs(o/60%2-1)),c=i-u,l=[];return 0<=o&&o<60?l=[u,a,0]:60<=o&&o<120?l=[a,u,0]:120<=o&&o<180?l=[0,u,a]:180<=o&&o<240?l=[0,a,u]:240<=o&&o<300?l=[a,0,u]:300<=o&&o<360&&(l=[u,0,a]),{r:H(255*(l[0]+c)),g:H(255*(l[1]+c)),b:H(255*(l[2]+c))}}function Gt(e,t,r){if(1==arguments.length){var n=arguments[0];e=n.h,t=n.s,r=n.v}var o=Bt(e,t,r);return Ke(o.r,o.g,o.b)}function zt(e,t,r,n){if(1==arguments.length){var o=arguments[0];e=o.y,t=o.cr,r=o.cb;n=(n=o.bit)||0}var i=e+1.402*(t-n),u=e-.344*(r-n)-.714*(t-n),a=e+1.772*(r-n);return{r:Math.ceil(i),g:Math.ceil(u),b:Math.ceil(a)}}function qt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=Ut(e,t,r);return It(o,o.a<1?"rgb":n)}function Ut(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return{r:H(e.r+(t.r-e.r)*r),g:H(e.g+(t.g-e.g)*r),b:H(e.b+(t.b-e.b)*r),a:H(e.a+(t.a-e.a)*r,100)}}function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!e)return[];_(e)&&(e=mt(e));for(var r=(e=e||[]).length,n=[],o=0;o<r-1;o++)for(var i=0;i<t;i++)n.push(Zt(e[o],e[o+1],i/t));return n}function Zt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return qt(wt(e),wt(t),r,n)}function Qt(e,t){return Zt(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex")}function $t(e){return e=wt(e),(Math.round(299*e.r)+Math.round(587*e.g)+Math.round(114*e.b))/1e3}function Jt(e){return $t(e)>=128?"black":"white"}function Kt(e){for(var t=[],r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:10)-((e=Pt(e)).length-1),n=r,o=1,i=e.length;o<i;o++){var u=e[o-1][0],a=e[o][0],c=1==o?e[o][1]:e[o][1]-e[o-1][1],l=o==e.length-1?n:Math.floor(c*r);t=t.concat(Ht([u,a],l),[a]),n-=l}return t}function Wt(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,a=$e(wt(e)),c=(i-o)*u/r,l=[],s=1;s<=r;s++)a[t]=Math.abs((u-c*s)/u),l.push(It(Bt(a),n));return l}function er(e){return Wt(e,"h",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:360,1)}function tr(e){return Wt(e,"s",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)}function rr(e){return Wt(e,"v",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)}function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ht.parula=function(e){return Ht(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],e)},Ht.jet=function(e){return Ht(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],e)},Ht.hsv=function(e){return Ht(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],e)},Ht.hot=function(e){return Ht(["#0b0000","#ff0000","#ffff00","#ffffff"],e)},Ht.pink=function(e){return Ht(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],e)},Ht.bone=function(e){return Ht(["#000000","#4a4a68","#a6c6c6","#ffffff"],e)},Ht.copper=function(e){return Ht(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],e)};var ir=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(r,!0).forEach((function(t){or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s,{},l,{},o,{},v,{},c,{},h,{},u,{},f,{},p,{},a,{},i,{},n);function ur(e,t,r,n){var o=ir.parse(r),i=ir.parse(n);return function(e,t){return 0===t?r:1===t?n:qt(o,i,e,"rgb")}}function ar(e,t,r,n){for(var o=Dt.parseStyle(r),i=Dt.parseStyle(n),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||Dt.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[c]||Dt.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0];a.push({inset:Mt(0,0,s.inset,f.inset),offsetX:Pe(e,t,s.offsetX,f.offsetX),offsetY:Pe(e,t,s.offsetY,f.offsetY),blurRadius:Pe(e,t,s.blurRadius,f.blurRadius),spreadRadius:Pe(e,t,s.spreadRadius,f.spreadRadius),color:ur(0,0,s.color,f.color)})}return function(e,t){return Dt.join(a.map((function(r){return{inset:r.inset(e,t),offsetX:r.offsetX(e,t),offsetY:r.offsetY(e,t),blurRadius:r.blurRadius(e,t),spreadRadius:r.spreadRadius(e,t),color:r.color(e,t)}})))}}function cr(e,t,r,n){return Mt(0,0,r,n)}var lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return e=+e,function(r){var n=1/e;return"start"==t?n*Math.ceil(r/n):"end"==t?n*Math.floor(r/n):void 0}};function sr(){return lr(1,"start")}function fr(){return lr(1,"end")}var pr=function(){return function(e){return Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1}},yr={step:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return lr(e,t)},"step-start":sr,"step-end":fr,stepStart:sr,stepEnd:fr,"ease-out-elastic":pr,easeOutElastic:pr};function hr(e,t,r){return r.toDeg()}function vr(e,t,r,n){var o=Oe.parse(r),i=Oe.parse(n);return function(e,t){var r=hr(0,0,o),n=hr(0,0,i);return 0===t?r:1===t?n:Oe.deg(r.value+(n.value-r.value)*e).to(o.unit)}}function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function br(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Or(e,t){return!t||"object"!==gr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jr(e,t,r){return(jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Or(this,kr(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(t,e),r=t,o=[{key:"parse",value:function(e){return new t(e)}},{key:"parseStyle",value:function(e){var r=bt(e);return r.str.split(",").filter((function(e){return e.trim()})).map((function(e){var n=e.split(" "),o=n.filter((function(e){return e.includes("@")})).map((function(e){return r.matches[+e.replace("@","")].color})),i=n.filter((function(e){return!e.includes("@")}));return t.parse({color:o[0]||"rgba(0, 0, 0, 1)",offsetX:Oe.parse(i[0]||"0px"),offsetY:Oe.parse(i[1]||"0px"),blurRadius:Oe.parse(i[2]||"0px")})}))}},{key:"join",value:function(e){return e.map((function(e){return t.parse(e)})).join(", ")}}],(n=[{key:"getDefaultObject",value:function(){return jr(kr(t.prototype),"getDefaultObject",this).call(this,{itemType:"text-shadow",offsetX:Oe.px(0),offsetY:Oe.px(0),blurRadius:Oe.px(0),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(r,!0).forEach((function(t){br(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},jr(kr(t.prototype),"toCloneObject",this).call(this),{offsetX:this.json.offsetX+"",offsetY:this.json.offsetY+"",blurRadius:this.json.blurRadius+"",color:this.json.color})}},{key:"convert",value:function(e){return(e=jr(kr(t.prototype),"convert",this).call(this,e)).offsetX=Oe.parse(e.offsetX),e.offsetY=Oe.parse(e.offsetY),e.blurRadius=Oe.parse(e.blurRadius),e}},{key:"toCSS",value:function(){return{"text-shadow":this.toString()}}},{key:"toString",value:function(){var e=this.json;return"".concat(e.offsetX," ").concat(e.offsetY," ").concat(e.blurRadius," ").concat(e.color)}}])&&mr(r.prototype,n),o&&mr(r,o),t}(Ne);function Sr(e,t,r,n){for(var o=Pr.parseStyle(r),i=Pr.parseStyle(n),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||Pr.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[c]||Pr.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0];a.push({offsetX:Pe(e,t,s.offsetX,f.offsetX,"width","self"),offsetY:Pe(e,t,s.offsetY,f.offsetY,"height","self"),blurRadius:Pe(e,t,s.blurRadius,f.blurRadius,"radius"),color:ur(0,0,s.color,f.color)})}return function(e,t){return Pr.join(a.map((function(r){return{offsetX:r.offsetX(e,t),offsetY:r.offsetY(e,t),blurRadius:r.blurRadius(e,t),color:r.color(e,t)}})))}}function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tr(r,!0).forEach((function(t){Er(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Er(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _r(e,t){return!t||"object"!==xr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ar(e,t,r){return(Ar="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e,t){return(Mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ir=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_r(this,Dr(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mr(e,t)}(t,e),r=t,(n=[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ar(Dr(t.prototype),"getDefaultObject",this).call(this,Cr({itemType:"image-resource",type:"image"},e))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}])&&Rr(r.prototype,n),o&&Rr(r,o),t}(Ne);function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xr(r,!0).forEach((function(t){Fr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vr(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Br(e,t,r){return(Br="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vr(this,Gr(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(t,e),r=t,o=[{key:"parse",value:function(e){var r=[],n=bt(e),o=n.str.split(" ").filter((function(e){return e.trim()})),i=+o[0].replace("@",""),u=n.matches[i].color;if(1===o.length)r.push(new t({color:u,unit:"%",percent:0}));else if(2===o.length){var a=Oe.parse(o[1]),c={unit:a.unit};a.isPercent()?c.percent=a.value:a.isPx()?c.px=a.value:a.isEm()&&(c.em=a.value),r.push(new t(Yr({color:u},c)))}else 3===o.length&&[1,2].forEach((function(e){var n=Oe.parse(o[e]),i={unit:n.unit};n.isPercent()?i.percent=n.value:n.isPx()?i.px=n.value:n.isEm()&&(i.em=n.value),r.push(new t(Yr({color:u},i)))}));return r}}],(n=[{key:"getDefaultObject",value:function(){return Br(Gr(t.prototype),"getDefaultObject",this).call(this,{cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",prevColorStep:null})}},{key:"toCloneObject",value:function(){return Yr({},Br(Gr(t.prototype),"toCloneObject",this).call(this),{cut:this.json.cut,percent:this.json.percent,unit:this.json.unit,px:this.json.px,em:this.json.em,color:this.json.color})}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"getUnit",value:function(){return"%"==this.json.unit?"percent":this.json.unit}},{key:"add",value:function(e){var t=this.getUnit();return this.json[t]+=+e,this}},{key:"sub",value:function(e){var t=this.getUnit();return this.json[t]-=+e,this}},{key:"mul",value:function(e){var t=this.getUnit();return this.json[t]*=+e,this}},{key:"div",value:function(e){var t=this.getUnit();return this.json[t]/=+e,this}},{key:"mod",value:function(e){var t=this.getUnit();return this.json[t]%=+e,this}},{key:"toLength",value:function(e){return Oe.parse(this.json)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():""}},{key:"toString",value:function(){var e=this.json.cut?this.getPrevLength():"";return"".concat(this.json.color," ").concat(e," ").concat(this.toLength())}},{key:"reset",value:function(e){Br(Gr(t.prototype),"reset",this).call(this,e),this.parent()&&this.parent().sortColorStep()}},{key:"isPx",get:function(){return"px"==this.json.unit}},{key:"isPercent",get:function(){return"%"==this.json.unit||"percent"===this.json.unit}},{key:"isEm",get:function(){return"em"==this.json.unit}}])&&Nr(r.prototype,n),o&&Nr(r,o),t}(Me);function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hr(r,!0).forEach((function(t){Qr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jr(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kr(e,t,r){return(Kr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tn={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jr(this,Wr(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(t,e),r=t,o=[{key:"random",value:function(){var e=Math.floor(1e3*Math.random())%360;return"linear-gradient(".concat(e,"deg, ").concat(ir.random()," 0%, ").concat(ir.random()," 100%)")}}],(n=[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Kr(Wr(t.prototype),"getDefaultObject",this).call(this,Zr({type:"gradient",colorsteps:[]},e))}},{key:"toCloneObject",value:function(){return Zr({},Kr(Wr(t.prototype),"toCloneObject",this).call(this),{colorsteps:this.json.colorsteps.map((function(e){return e.clone()}))})}},{key:"convert",value:function(e){return e.colorsteps=e.colorsteps.map((function(e){return new qr(e)})),e}},{key:"calculateAngle",value:function(){var e=this.json.angle;return T(tn[e])?e:tn[e]||0}},{key:"addColorStep",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.json.colorsteps.push(e),t&&this.sortColorStep(),e}},{key:"insertColorStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(216,216,216,0)",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(216,216,216,1)",n=this.colorsteps;if(n.length){if(e<n[0].percent)return n[0].index=1,void this.addColorStep(new qr({index:0,color:n[0].color,percent:e}));var o=n.length-1;if(n[o].percent<e){var i=n[o].color,u=n[o].index+1;this.addColorStep(new qr({index:u,color:i,percent:e}))}else for(var a=0,c=n.length-1;a<c;a++){var l=n[a],s=n[a+1];if(l.percent<=e&&e<=s.percent)return i=ir.mix(l.color,s.color,(e-l.percent)/(s.percent-l.percent),"rgb"),void this.addColorStep(new qr({index:l.index+1,color:i,percent:e}))}}else this.addColorStepList([new qr({color:t,percent:e,index:0}),new qr({color:r,percent:100,index:100})])}},{key:"sortColorStep",value:function(){var e=this.colorsteps;e.sort((function(e,t){return e.percent>t.percent?1:e.percent<t.percent?-1:e.percent==t.percent?e.index===t.index?0:e.index>t.index?1:-1:void 0})),e.forEach((function(e,t){e.index=100*t}))}},{key:"addColorStepList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){e.addColorStep(t,!1)})),this.sortColorStep()}},{key:"getColorStep",value:function(e){return this.json.colorsteps.filter((function(t){return t.id==e}))[0]}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"getColorString",value:function(){var e=this.colorsteps;return e.length?e.map((function(t,r){return t.prevColorStep=t.cut&&r>0?e[r-1]:null,t})).map((function(e){return"".concat(e)})).join(","):""}},{key:"colorsteps",get:function(){return this.json.colorsteps}}])&&$r(r.prototype,n),o&&$r(r,o),t}(Ir);function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function un(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function an(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cn(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ln(e,t,r){return(ln="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cn(this,sn(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(t,e),r=t,o=[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return new t({colorsteps:[new qr({color:e,percent:0,index:0})]})}}],(n=[{key:"getDefaultObject",value:function(){return ln(sn(t.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new qr({color:"red",percent:0,index:0})]})}},{key:"toCloneObject",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?on(r,!0).forEach((function(t){un(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):on(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},ln(sn(t.prototype),"toCloneObject",this).call(this),{static:!0})}},{key:"toString",value:function(){var e=this.json.colorsteps[0].color;return"linear-gradient(to right, ".concat(e,", ").concat(e,")")}},{key:"isStatic",value:function(){return!0}}])&&an(r.prototype,n),o&&an(r,o),t}(rn);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hn(r,!0).forEach((function(t){gn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mn(e,t,r){return t&&bn(e.prototype,t),r&&bn(e,r),e}function On(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jn(e,t,r){return(jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sn=["jpg","jpeg","png","gif","svg"];var xn=function(e){function t(){return dn(this,t),On(this,kn(t).apply(this,arguments))}return wn(t,e),mn(t,[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jn(kn(t.prototype),"getDefaultObject",this).call(this,vn({type:"url",url:"",datauri:""},e))}},{key:"toCloneObject",value:function(){return vn({},jn(kn(t.prototype),"toCloneObject",this).call(this),{url:this.json.url,datauri:this.json.datauri})}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.json;if(!e)return"url(".concat(t.url,")")}}],[{key:"parse",value:function(e){return new t({url:e.split("(")[1].split(")")[0]})}},{key:"isImageFile",value:function(e){return Sn.includes(e)}}]),t}(Ir);function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function En(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?En(r,!0).forEach((function(t){_n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):En(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function An(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dn(e,t){return!t||"object"!==Tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mn(e,t,r){return(Mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=In(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},Yn={"to top":"0","to top right":"45","to right":"90","to bottom right":"135","to bottom":"180","to bottom left":"225","to left":"270","to top left":"315"},Fn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dn(this,In(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(t,e),r=t,o=[{key:"toLinearGradient",value:function(e){return 0===e.length?"none":new t({angle:"to right",colorsteps:e})+""}},{key:"parse",value:function(e){var r=bt(e),n=0,o=[];return r.str.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()})).forEach((function(e,t){e.includes("@")?(e=Ot(e,r.matches),o.push.apply(o,Cn(qr.parse(e)))):n=T(Yn[e])?Oe.parse(e):Oe.deg(+Yn[e])})),new t({angle:n.value,colorsteps:o})}}],(n=[{key:"getDefaultObject",value:function(e){return Mn(In(t.prototype),"getDefaultObject",this).call(this,Rn({type:"linear-gradient",angle:0},e))}},{key:"toCloneObject",value:function(){return Rn({},Mn(In(t.prototype),"toCloneObject",this).call(this),{angle:this.json.angle})}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var e=this.getColorString(),t="";return I(t=this.json.angle||0)&&(t=Xn["".concat(t)]||t),I(t)&&(t="".concat(t=t>360?t%360:t,"deg")),"".concat(this.json.type,"(").concat(t,", ").concat(e,")")}}])&&An(r.prototype,n),o&&An(r,o),t}(rn);function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bn(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gn(e,t,r){return(Gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Un,Hn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bn(this,zn(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(t,e),r=t,o=[{key:"parse",value:function(e){var r=Fn.parse(e);return new t({angle:r.angle,colorsteps:r.colorsteps})}}],(n=[{key:"getDefaultObject",value:function(){return Gn(zn(t.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}])&&Vn(r.prototype,n),o&&Vn(r,o),t}(Fn);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jn(r,!0).forEach((function(t){oo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eo(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function to(e,t,r){return(to="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ro(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var io=(oo(Un={},"center",!0),oo(Un,"top",!0),oo(Un,"left",!0),oo(Un,"right",!0),oo(Un,"bottom",!0),Un),uo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eo(this,ro(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(t,e),r=t,o=[{key:"parse",value:function(e){var r=bt(e),n="ellipse",o=[be.CENTER,be.CENTER],i=[];return r.str.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()})).forEach((function(e,t){if(e.includes("@"))e=Ot(e,r.matches),i.push.apply(i,$n(qr.parse(e)));else{if(e.includes("at")){var u=Qn(e.split("at").map((function(e){return e.trim()})),2);n=u[0],o=u[1]}else n=e;if(_(o)){var a=o.split(" ");if(1===a.length){var c=Oe.parse(a[0]);o=c.isString()?[c.value,c.value]:[c.clone(),c.clone()]}else 2===a.length&&(o=a.map((function(e){var t=Oe.parse(e);return t.isString()?t.value:t.clone()})))}}})),new t({radialType:n,radialPosition:o,colorsteps:i})}}],(n=[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return to(ro(t.prototype),"getDefaultObject",this).call(this,Kn({type:"radial-gradient",radialType:"ellipse",radialPosition:[be.CENTER,be.CENTER]},e))}},{key:"toCloneObject",value:function(){return Kn({},to(ro(t.prototype),"toCloneObject",this).call(this),{radialType:this.json.radialType,radialPosition:L(this.json.radialPosition)})}},{key:"isRadial",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var e,t=this.getColorString(),r=this.json,n=r.radialType,o=r.radialPosition||["center","center"];return e=(o=io[o]?o:o.join(" "))?"".concat(n," at ").concat(o):n,"".concat(r.type||"radial-gradient","(").concat(e,", ").concat(t,")")}}])&&Wn(r.prototype,n),o&&Wn(r,o),t}(rn);function ao(e){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lo(e,t){return!t||"object"!==ao(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function so(e,t,r){return(so="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fo(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yo,ho=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lo(this,fo(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(t,e),r=t,o=[{key:"parse",value:function(e){var r=uo.parse(e);return new t({radialType:r.radialType,radialPosition:r.radialPosition,colorsteps:r.colorsteps})}}],(n=[{key:"getDefaultObject",value:function(){return so(fo(t.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}])&&co(r.prototype,n),o&&co(r,o),t}(uo);function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bo(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mo(r,!0).forEach((function(t){xo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mo(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ko(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wo(e,t,r){return(wo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Po(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var To=(xo(yo={},"center",!0),xo(yo,"top",!0),xo(yo,"left",!0),xo(yo,"right",!0),xo(yo,"bottom",!0),yo),Co={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Eo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ko(this,Po(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&So(e,t)}(t,e),r=t,o=[{key:"parse",value:function(e){var r=bt(e),n="0deg",o=[be.CENTER,be.CENTER],i=[];return r.str.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()})).forEach((function(e,t){if(e.includes("@"))e=Ot(e=e.split(" ").map((function(e){return e.trim()})).map((function(e){return e.includes("deg")?Oe.parse(e).toPercent():e})).join(" "),r.matches),i.push.apply(i,bo(qr.parse(e)));else{if(e.includes("at")){var u=go(e.split("at").map((function(e){return e.trim()})),2);n=u[0],o=u[1]}else n=e;if(_(o)){var a=o.split(" ");if(1===a.length){var c=Oe.parse(a[0]);o=c.isString()?[c.value,c.value]:[c.clone(),c.clone()]}else 2===a.length&&(o=a.map((function(e){var t=Oe.parse(e);return t.isString()?t.value:t})))}_(n)&&n.includes("from")&&(n=n.split("from")[1],n=T(Co[n])?Oe.parse(n):Oe.deg(+Co[n]))}})),new t({angle:n.value,radialPosition:o,colorsteps:i})}}],(n=[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wo(Po(t.prototype),"getDefaultObject",this).call(this,Oo({type:"conic-gradient",angle:0,radialPosition:[be.CENTER,be.CENTER]},e))}},{key:"toCloneObject",value:function(){return Oo({},wo(Po(t.prototype),"toCloneObject",this).call(this),{angle:this.json.angle,radialPosition:L(this.json.radialPosition)})}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){if(0===this.colorsteps.length)return"";var e=this.colorsteps;return e?(e.sort((function(e,t){return e.percent==t.percent?0:e.percent>t.percent?1:-1})),e.map((function(t,r){return t.prevColorStep=t.cut&&r>0?e[r-1]:null,t})).map((function(e){var t=Math.floor(3.6*e.percent),r="";if(e.cut&&e.prevColorStep){var n=Math.floor(3.6*e.prevColorStep.percent);r="".concat(n,"deg")}return"".concat(e.color," ").concat(r," ").concat(t,"deg")})).join(",")):""}},{key:"toString",value:function(){var e=this.getColorString(),t=[],r=this.json,n=r.angle,o=r.radialPosition||be.CENTER;o=To[o]?o:o.join(" "),C(n)&&(n=+(Co[n]||n),t.push("from ".concat(n,"deg"))),o&&t.push("at ".concat(o));var i=t.length?t.join(" ")+",":"";return"".concat(r.type,"(").concat(i," ").concat(e,")")}}])&&jo(r.prototype,n),o&&jo(r,o),t}(rn);function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ao(e,t){return!t||"object"!==Ro(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Do(e,t,r){return(Do="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mo(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ao(this,Mo(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(t,e),r=t,o=[{key:"parse",value:function(e){var r=Eo.parse(e);return new t({angle:r.angle,radialPosition:r.radialPosition,colorsteps:r.colorsteps})}}],(n=[{key:"getDefaultObject",value:function(){return Do(Mo(t.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[be.CENTER,be.CENTER]})}}])&&_o(r.prototype,n),o&&_o(r,o),t}(Eo);function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fo(r,!0).forEach((function(t){Vo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fo(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Go(e,t){return!t||"object"!==Xo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zo(e,t,r){return(zo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qo(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uo(e,t){return(Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ho,Zo=["repeat","no-repeat","repeat-x","repeat-y"],Qo=/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi,$o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Go(this,qo(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uo(e,t)}(t,e),r=t,o=[{key:"createImage",value:function(e){return new xn({url:e})}},{key:"createGradient",value:function(e,t){var r=e.colorsteps||t.colorsteps,n=e.angle||t.angle,o=e.radialType||t.radialType,i=e.radialPosition||t.radialPosition,u=t.toJSON();switch(delete u.itemType,delete u.type,e.type){case"static-gradient":return new pn(No({},u,{colorsteps:r}));case"linear-gradient":return new Fn(No({},u,{colorsteps:r,angle:n}));case"repeating-linear-gradient":return new Hn(No({},u,{colorsteps:r,angle:n}));case"radial-gradient":return new uo(No({},u,{colorsteps:r,radialType:o,radialPosition:i}));case"repeating-radial-gradient":return new ho(No({},u,{colorsteps:r,radialType:o,radialPosition:i}));case"conic-gradient":return new Eo(No({},u,{colorsteps:r,angle:n,radialPosition:i}));case"repeating-conic-gradient":return new Lo(No({},u,{colorsteps:r,angle:n,radialPosition:i}))}return new rn}},{key:"parse",value:function(e){return new t(e)}},{key:"parseImage",value:function(e){var t=bt(e),r=null;return t.str.match(Qo).forEach((function(e,n){(e=Ot(e,t.matches)).includes("repeating-linear-gradient")?r=Hn.parse(e):e.includes("linear-gradient")?r=Fn.parse(e):e.includes("repeating-radial-gradient")?r=ho.parse(e):e.includes("radial")?r=uo.parse(e):e.includes("repeating-conic-gradient")?r=Lo.parse(e):e.includes("conic")?r=Eo.parse(e):e.includes("url")&&(r=xn.parse(e))})),r}},{key:"parseStyle",value:function(e){var r=[];if(e["background-image"]){var n=bt(e["background-image"]);n.str.match(Qo).forEach((function(e,o){var i=null;(e=Ot(e,n.matches)).includes("repeating-linear-gradient")?i=Hn.parse(e):e.includes("linear-gradient")?i=Fn.parse(e):e.includes("repeating-radial-gradient")?i=ho.parse(e):e.includes("radial-gradient")?i=uo.parse(e):e.includes("repeating-conic-gradient")?i=Lo.parse(e):e.includes("conic-gradient")?i=Eo.parse(e):e.includes("url")&&(i=xn.parse(e)),r[o]=new t({type:i.type,image:i})}))}return e["background-repeat"]&&e["background-repeat"].split(",").map((function(e){return e.trim()})).forEach((function(e,t){r[t]&&(r[t].repeat=e)})),e["background-blend-mode"]&&e["background-blend-mode"].split(",").map((function(e){return e.trim()})).forEach((function(e,t){r[t]&&(r[t].blendMode=e)})),e["background-size"]&&e["background-size"].split(",").map((function(e){return e.trim()})).forEach((function(e,t){if(r[t])if("cover"==e||"contain"===e||"auto"===e)r[t].size=e;else{r[t].size="auto";var n=Yo(e.split(" "),2),o=n[0],i=n[1];r[t].width=Oe.parse(o),r[t].height=Oe.parse(i)}})),e["background-position"]&&e["background-position"].split(",").map((function(e){return e.trim()})).forEach((function(e,t){if(r[t]){var n=Yo(e.split(" "),2),o=n[0],i=n[1];r[t].x=Oe.parse(o),r[t].y=Oe.parse(i)}})),r}},{key:"toPropertyCSS",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};return e.forEach((function(e){k(e.toCSS(t),(function(e,t){r[e]||(r[e]=[]),r[e].push(t)}))})),Y(r)}},{key:"join",value:function(e){return N(t.toPropertyCSS(e.map((function(e){return t.parse(e)}))))}}],(n=[{key:"addImageResource",value:function(e){return this.clear("image-resource"),this.addItem("image-resource",e)}},{key:"addGradient",value:function(e){return this.addImageResource(e)}},{key:"setImageUrl",value:function(e){e.images&&e.images.length&&this.reset({type:"image",image:t.createImage(e.images[0])})}},{key:"setGradient",value:function(e){this.reset({type:e.type,image:t.createGradient(e,this.json.image)})}},{key:"getDefaultObject",value:function(){return zo(qo(t.prototype),"getDefaultObject",this).call(this,{itemType:"background-image",checked:!1,blendMode:"normal",size:"auto",repeat:"repeat",width:Oe.percent(100),height:Oe.percent(100),x:Oe.percent(0),y:Oe.percent(0),image:new pn})}},{key:"toCloneObject",value:function(){var e=this.json;return No({},zo(qo(t.prototype),"toCloneObject",this).call(this),{checked:e.checked,blendMode:e.blendMode,size:e.size,repeat:e.repeat,width:e.width+"",height:e.height+"",x:e.x+"",y:e.y+"",image:e.image.clone()})}},{key:"convert",value:function(e){return e.x=Oe.parse(e.x),e.y=Oe.parse(e.y),e.width&&(e.width=Oe.parse(e.width)),e.height&&(e.height=Oe.parse(e.height)),e}},{key:"checkField",value:function(e,r){return"repeat"===e?Zo.includes(r):zo(qo(t.prototype),"checkField",this).call(this,e,r)}},{key:"toBackgroundImageCSS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.json.image?{"background-image":this.json.image.toString(e)}:{}}},{key:"toBackgroundPositionCSS",value:function(){var e=this.json;return{"background-position":"".concat(e.x," ").concat(e.y)}}},{key:"toBackgroundSizeCSS",value:function(){var e=this.json,t="auto";return"contain"==e.size||"cover"==e.size?t=e.size:e.width.isPercent()&&e.width.isPercent()&&100==+e.width&&100==+e.height||(t="".concat(e.width," ").concat(e.height)),{"background-size":t}}},{key:"toBackgroundRepeatCSS",value:function(){return{"background-repeat":this.json.repeat}}},{key:"toBackgroundBlendCSS",value:function(){return{"background-blend-mode":this.json.blendMode}}},{key:"toCSS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=No({},this.toBackgroundImageCSS(e),{},this.toBackgroundPositionCSS(),{},this.toBackgroundSizeCSS(),{},this.toBackgroundRepeatCSS(),{},this.toBackgroundBlendCSS());return t}},{key:"toString",value:function(){return w(this.toCSS(),(function(e,t){return"".concat(e,": ").concat(t)})).join(";")}},{key:"toBackgroundCSS",value:function(){var e=this.toCSS();return{background:"".concat(e["background-image"]," ")}}},{key:"image",get:function(){return this.json.image},set:function(e){this.json.image=e}}])&&Bo(r.prototype,n),o&&Bo(r,o),t}(Ne);function Jo(e,t,r,n){var o={cut:Mt(0,0,r.cut,n.cut),percent:je(e,t,r.percent,n.percent),px:je(e,t,r.px,n.px),em:je(e,t,r.em,n.em),unit:cr(0,0,r.unit,n.unit),color:ur(0,0,r.color,n.color)};return function(e,t){return new qr({cut:o.cut(e,t),percent:o.percent(e,t),px:o.px(e,t),em:o.em(e,t),unit:o.unit(e,t),color:o.color(e,t)})}}function Ko(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Math.max(r.length,n.length),i=[],u=0;u<o;u++){var a=r[u],c=n[u];i[u]=a&&c?Jo(e,t,a,c):Mt(0,0,a,c)}return function(e,t){return i.map((function(r){return r(e,t)}))}}function Wo(e,t,r,n){var o={angle:je(e,t,r.angle,n.angle),colorsteps:Ko(e,t,r.colorsteps,n.colorsteps)};return function(e,t){var r=o.colorsteps(e,t);return new Fn({angle:o.angle(e,t),colorsteps:r})}}function ei(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ei(Ho={},"center",!0),ei(Ho,"top",!0),ei(Ho,"left",!0),ei(Ho,"right",!0),ei(Ho,"bottom",!0);function ti(e,t){switch(t){case"width":if("center"===e)return"50%";if("left"===e)return"0%";if("right"===e)return"100%";break;case"height":if("center"===e)return"50%";if("top"===e)return"0%";if("bottom"===e)return"100%"}return e}function ri(e,t,r,n){r.radialPosition[0]=ti(r.radialPosition[0],"width"),r.radialPosition[1]=ti(r.radialPosition[1],"height"),n.radialPosition[0]=ti(n.radialPosition[0],"width"),n.radialPosition[1]=ti(n.radialPosition[1],"height");var o={radialType:cr(0,0,r.radialType,n.radialType),radialPositionX:Pe(e,t,r.radialPosition[0],n.radialPosition[0],"width","self"),radialPositionY:Pe(e,t,r.radialPosition[1],n.radialPosition[1],"height","self"),colorsteps:Ko(e,t,r.colorsteps,n.colorsteps)};return function(e,t){return new uo({radialType:o.radialType(e,t),radialPosition:[o.radialPositionX(e,t),o.radialPositionY(e,t)],colorsteps:o.colorsteps(e,t)})}}function ni(e,t,r,n){var o={angle:je(e,t,r.angle,n.angle),radialPositionX:Pe(e,t,r.radialPosition[0],n.radialPosition[0],"width","self"),radialPositionY:Pe(e,t,r.radialPosition[1],n.radialPosition[1],"height","self"),colorsteps:Ko(e,t,r.colorsteps,n.colorsteps)};return function(e,t){return new Eo({angle:o.angle(e,t),radialPosition:[o.radialPositionX(e,t),o.radialPositionY(e,t)],colorsteps:o.colorsteps(e,t)})}}function oi(e,t,r,n){var o={image:function(e,t){return t}};if("url"===r.type||"url"===n.type)o.image=Mt(0,0,r,n);else if(r.type!=n.type)o.image=Mt(0,0,r,n);else switch(r.type){case"linear-gradient":o.image=Wo(e,t,r,n);break;case"repeating-linear-gradient":o.image=function(e,t,r,n){var o=Wo(e,t,r,n);return function(e,t){var r=o(e,t),n=new Hn({angle:r.angle,colorsteps:r.colorsteps});return console.log(n),n}}(e,t,r,n);break;case"radial-gradient":o.image=ri(e,t,r,n);break;case"repeating-radial-gradient":o.image=function(e,t,r,n){var o=ri(e,t,r,n);return function(e,t){var r=o(e,t);return new ho({radialType:r.radialType,radialPosition:r.radialPosition,colorsteps:r.colorsteps})}}(e,t,r,n);break;case"conic-gradient":o.image=ni(e,t,r,n);break;case"repeating-conic-gradient":o.image=function(e,t,r,n){var o=ni(e,t,r,n);return function(e,t){var r=o(e,t);return new Lo({angle:r.angle,radialPosition:r.radialPosition,colorsteps:r.colorsteps})}}(e,t,r,n)}return function(e,t){return o.image(e,t)}}function ii(e,t,r,n){for(var o=$o.parseStyle(V(r)),i=$o.parseStyle(V(n)),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||null,f=i[c]||null;s&&!f?a.push({image:ke(0,0,s.image),size:ke(0,0,s.size),width:ke(0,0,s.width),height:ke(0,0,s.height),x:ke(0,0,s.x),y:ke(0,0,s.y),blendMode:ke(0,0,s.blendMode),repeat:ke(0,0,s.repeat)}):!s&&f?a.push({image:ke(0,0,f.image),size:ke(0,0,f.size),width:ke(0,0,f.width),height:ke(0,0,f.height),x:ke(0,0,f.x),y:ke(0,0,f.y),blendMode:ke(0,0,f.blendMode),repeat:ke(0,0,f.repeat)}):s&&f&&a.push({image:oi(e,t,s.image,f.image),size:cr(0,0,s.size,f.size),width:Pe(e,t,s.width,f.width,"width","self"),height:Pe(e,t,s.height,f.height,"height","self"),x:Pe(e,t,s.x,f.x,"width","self"),y:Pe(e,t,s.y,f.y,"height","self"),blendMode:cr(0,0,s.blendMode,f.blendMode),repeat:cr(0,0,s.repeat,f.repeat)})}return function(e,t){return V($o.join(a.map((function(r){return{image:r.image(e,t),size:r.size(e,t),x:r.x(e,t),y:r.y(e,t),width:r.width(e,t),height:r.height(e,t),blendMode:r.blendMode(e,t),repeat:r.repeat(e,t)}}))))}}function ui(e){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ci(r,!0).forEach((function(t){si(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ci(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function si(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yi(e,t,r){return t&&pi(e.prototype,t),r&&pi(e,r),e}function hi(e,t){return!t||"object"!==ui(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vi(e,t,r){return(vi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function gi(e){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function di(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}function bi(e,t){return(bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mi=/((blur|drop\-shadow|hue\-rotate|invert|brightness|contrast|opacity|saturate|sepia)\(([^\)]*)\))/gi,Oi=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vi(gi(t.prototype),"getDefaultObject",this).call(this,li({itemType:"filter"},e))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}],[{key:"parse",value:function(e){var t=Ai[e.type];return t?new t(e):new ki({value:e.type})}},{key:"parseStyle",value:function(e){var r=[];if(!e)return r;var n=bt(e);return(n.str.match(mi)||[]).forEach((function(e,o){var i=ai(e.split("("),2),u=i[0],a=i[1];if(a=a.split(")")[0],"drop-shadow"===u){var c=a.split(" "),l=c.filter((function(e){return e.includes("@")})).map((function(e){return n.matches[+e.replace("@","")].color})),s=c.filter((function(e){return!e.includes("@")}));r[o]=t.parse({type:u,offsetX:Oe.parse(s[0]),offsetY:Oe.parse(s[1]),blurRadius:Oe.parse(s[2]),color:l[0]||"rgba(0, 0, 0, 1)"})}else r[o]=t.parse({type:u,value:Oe.parse(a)})})),r}},{key:"join",value:function(e){return e.map((function(e){return t.parse(e)})).join(" ")}}]),t}(Ne),ji=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"blur",value:t.spec.defaultValue})}},{key:"toCloneObject",value:function(){return li({},vi(gi(t.prototype),"toCloneObject",this).call(this),{value:Oe.parse(this.json.value)})}}]),t}(Oi);ji.spec={title:"Blur",inputType:"range",min:0,max:100,step:1,unit:"px",units:["px","em"],defaultValue:Oe.px(0)};var ki=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"svg",value:t.spec.defaultValue})}},{key:"toCloneObject",value:function(){return li({},vi(gi(t.prototype),"toCloneObject",this).call(this),{value:Oe.parse(this.json.value)})}},{key:"toString",value:function(){return"url(#".concat(this.json.value||"",")")}}]),t}(Oi);ki.spec={title:"SVG",inputType:"select",defaultValue:""};var wi=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"grayscale",value:t.spec.defaultValue})}},{key:"toCloneObject",value:function(){return li({},vi(gi(t.prototype),"toCloneObject",this).call(this),{value:Oe.parse(this.json.value)})}}]),t}(Oi);wi.spec={title:"Grayscale",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(0)};var Pi=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"hue-rotate",value:t.spec.defaultValue})}}]),t}(Oi);Pi.spec={title:"Hue",inputType:"range",min:0,max:360,step:1,unit:"deg",units:["deg"],defaultValue:Oe.deg(0)};var Si=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"invert",value:t.spec.defaultValue})}}]),t}(Oi);Si.spec={title:"Invert",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(0)};var xi=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"brightness",value:t.spec.defaultValue})}}]),t}(Oi);xi.spec={title:"Brightness",inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(100)};var Ti=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"contrast",value:t.spec.defaultValue})}}]),t}(Oi);Ti.spec={title:"Contrast",inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(100)};var Ci=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"opacity",value:t.spec.defaultValue})}}]),t}(Oi);Ci.spec={title:"Opacity",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(100)};var Ei=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"saturate",value:t.spec.defaultValue})}}]),t}(Oi);Ei.spec={title:"Saturate",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(100)};var Ri=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"sepia",value:t.spec.defaultValue})}}]),t}(Oi);Ri.spec={title:"Sepia",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(0)};var _i=function(e){function t(){return fi(this,t),hi(this,gi(t).apply(this,arguments))}return di(t,e),yi(t,[{key:"getDefaultObject",value:function(){return vi(gi(t.prototype),"getDefaultObject",this).call(this,{type:"drop-shadow",multi:!0,offsetX:t.spec.offsetX.defaultValue,offsetY:t.spec.offsetY.defaultValue,blurRadius:t.spec.blurRadius.defaultValue,color:t.spec.color.defaultValue})}},{key:"toString",value:function(){var e=this.json;return"drop-shadow(".concat(e.offsetX," ").concat(e.offsetY," ").concat(e.blurRadius," ").concat(e.color,")")}}]),t}(Oi);_i.spec={offsetX:{title:"Offset X",inputType:"range",min:-100,max:100,step:1,defaultValue:Oe.px(0),unit:"px",units:["px","em"]},offsetY:{title:"Offset Y",inputType:"range",min:-100,max:100,step:1,defaultValue:Oe.px(0),unit:"px",units:["px","em"]},blurRadius:{title:"Blur Radius",inputType:"range",min:0,max:100,step:1,defaultValue:Oe.px(0),unit:"px",units:["px","em","%"]},color:{title:"Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)",unit:"color"}};var Ai={blur:ji,grayscale:wi,"hue-rotate":Pi,invert:Si,brightness:xi,contrast:Ti,opacity:Ci,saturate:Ei,sepia:Ri,"drop-shadow":_i,svg:ki};function Di(e,t,r,n){var o={type:cr(0,0,r.type,n.type),value:Mt(0,0,r.value,n.value)};switch(r.type){case"blur":o.value=Pe(e,t,r.value,n.value);break;case"grayscale":case"invert":case"brightness":case"contrast":case"opacity":case"saturate":case"sepia":case"hue-rotate":o.value=je(e,t,r.value.value,n.value.value,r.value.unit);break;case"drop-shadow":o.offsetX=Pe(e,t,r.offsetX,n.offsetX,"width","self"),o.offsetY=Pe(e,t,r.offsetY,n.offsetY,"height","self"),o.blurRadius=Pe(e,t,r.blurRadius,n.blurRadius,"width","self"),o.spreadRadius=Pe(e,t,r.spreadRadius,n.spreadRadius,"width","self"),o.color=ur(0,0,r.color,n.color)}return function(e,t){return"drop-shadow"===o.type(e,t)?{type:o.type(e,t),offsetX:o.offsetX(e,t),offsetY:o.offsetY(e,t),blurRadius:o.blurRadius(e,t),spreadRadius:o.spreadRadius(e,t),color:o.color(e,t)}:{type:o.type(e,t),value:o.value(e,t)}}}function Mi(e,t,r,n){for(var o=Oi.parseStyle(r),i=Oi.parseStyle(n),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c],f=i[c];s&&!f?a.push(ke(0,0,s)):!s&&f?a.push(ke(0,0,f)):s.type!=f.type||"svg"===s.type||"svg"===f.type?a.push(Mt(0,0,s,f)):a.push(Di(e,t,s,f))}return function(e,t){return Oi.join(a.map((function(r){return r(e,t)})))}}function Ii(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Li=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"parse",value:function(e){var t=e.split(" ").filter((function(e){return e.trim()})).map((function(e){return Oe.parse(e)})),r=Oe.percent(0),n=Oe.percent(0),o=Oe.percent(0),i=Oe.percent(0);return 1===t.length?(r=t[0].clone(),n=t[0].clone(),o=t[0].clone(),i=t[0].clone()):2===t.length?(r=t[0].clone(),n=t[1].clone(),o=t[0].clone(),i=t[1].clone()):3===t.length?(r=t[0].clone(),n=t[1].clone(),o=t[2].clone(),i=t[1].clone()):4===t.length&&(r=t[0].clone(),n=t[1].clone(),o=t[2].clone(),i=t[3].clone()),[t.length,r,n,o,i]}}],(r=null)&&Ii(t.prototype,r),n&&Ii(t,n),e}();function Xi(e){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fi(r,!0).forEach((function(t){Vi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gi(e,t){return!t||"object"!==Xi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zi(e,t,r){return(zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function qi(e){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hi=/(content\-box|padding\-box|border\-box|margin\-box|view\-box|stroke\-box|fill\-box|none|(inset|circle|ellipse|polygon|path|url)(\(([^\)]*)\))?)/gi,Zi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gi(this,qi(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(t,e),r=t,o=[{key:"toCSS",value:function(e){return new t(e).toCSS()}},{key:"toString",value:function(e){return t.toCSS(e)["clip-path"]}},{key:"parse",value:function(e){return new t(e)}},{key:"parseStyle",value:function(e){var t={};return e?((e.match(Hi)||[]).forEach((function(e,r){if(e.includes("-box"))t.box=e;else{var n=Yi(e.split("("),2),o=n[0],i=n[1];i=i||"",i="none"===o?"":i.split(")")[0],t.type=o,t.value=i}})),t):{}}},{key:"parseStyleForCircle",value:function(e){var t=new Oe("","closest-side"),r="";if((e=e||"50%").includes("at")){var n=Yi(e.split("at").map((function(e){return e.trim()})),2);t=n[0],r=n[1]}else r=e.trim();var o=Yi(r.split(" "),2),i=o[0],u=o[1];return T(u)&&(u=i),{radius:t,x:i=Oe.parse(i),y:u=Oe.parse(u)}}},{key:"parseStyleForEllipse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50% 50%",t="50% 50%",r="";if((e=e||"50%").includes("at")){var n=e.split("at").map((function(e){return e.trim()})),o=Yi(n,2);t=o[0],r=o[1]}else r=e.trim();var i=r.split(" "),u=Yi(i,2),a=u[0],c=u[1];T(c)&&(c=a),a=Oe.parse(a),c=Oe.parse(c);var l=t.split(" "),s=Yi(l,2),f=s[0],p=s[1];return T(p)&&(p=f),{radiusX:f=Oe.parse(f),radiusY:p=Oe.parse(p),x:a,y:c}}},{key:"parseStyleForInset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("round"),r=Yi(t,2),n=r[0],o=r[1],i=Li.parse(n),u=Yi(i,5),a=u[0],c=u[1],l=u[2],s=u[3],f=u[4];if(o)var p=Li.parse(o),y=Yi(p,5),h=y[0],v=y[1],g=y[2],d=y[3],b=y[4];return{isAll:1===a,top:c,right:l,bottom:s,left:f,round:o,isAllRadius:1===h,topRadius:v,rightRadius:g,bottomRadius:d,leftRadius:b}}},{key:"parseStyleForPolygon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(",").filter((function(e){return e.trim()})).map((function(e){var t=Yi(e.trim().split(" "),2),r=t[0],n=t[1];return{x:Oe.parse(r),y:Oe.parse(n)}}))}}],(n=[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zi(qi(t.prototype),"getDefaultObject",this).call(this,Ni({itemType:"clip-path",type:"none",value:""},e))}},{key:"toCloneObject",value:function(){return Ni({},zi(qi(t.prototype),"toCloneObject",this).call(this),{value:this.json.value})}},{key:"toString",value:function(){var e=this.json.type,t=this.json.value,r=this.json.box,n="";switch(e){case"circle":case"inset":case"ellipse":case"polygon":case"path":n="".concat(e,"(").concat(t,")");break;case"svg":n="url(#".concat(t,")");break;default:n="none"}return r?"".concat(r," ").concat(n):n}},{key:"toCSS",value:function(){return{"clip-path":this.toString()}}}])&&Bi(r.prototype,n),o&&Bi(r,o),t}(Ne);function Qi(e,t,r,n){var o=Zi.parseStyle(r),i=Zi.parseStyle(n),u={type:Mt(0,0,o.type,o.type),value:Mt(0,0,r,n)};if(o.type==i.type&&"none"!=o)switch(o.type){case"circle":o.value=Zi.parseStyleForCircle(o.value),i.value=Zi.parseStyleForCircle(i.value),u.value=function(e,t,r,n){var o={};return"closest-side"===r.radius||"farthest-side"===r.radius||"closest-side"===n.radius||"farthest-side"===n.radius?o.radius=Mt(0,0,r.radius,n.radius):r.radius.unit===n.radius.unit?o.radius=makeInterpolateNumber(e,t,r.radius.value,n.radius.value,r.radius.unit):o.radius=Pe(e,t,r.radius,n.radius,"width","self"),o.x=Pe(e,t,r.x,n.x,"width","self"),o.y=Pe(e,t,r.y,n.y,"height","self"),function(e,t){var r=o.radius(e,t),n=o.x(e,t),i=o.y(e,t),u="".concat(n," ").concat(i),a=r+"";return a.includes("closest-side")?a="closest-side":a.includes("farthest-side")&&(a="farthest-side"),r?"".concat(a," at ").concat(u):"".concat(u)}}(e,t,o.value,i.value);break;case"ellipse":o.value=Zi.parseStyleForEllipse(o.value),i.value=Zi.parseStyleForEllipse(i.value),u.value=function(e,t,r,n){var o={radiusX:Pe(e,t,r.radiusX,n.radiusX,"width","self"),radiusY:Pe(e,t,r.radiusY,n.radiusY,"height","self"),x:Pe(e,t,r.x,n.x,"width","self"),y:Pe(e,t,r.y,n.y,"height","self")};return function(e,t){var r=o.radiusX(e,t),n=o.radiusY(e,t),i=o.x(e,t),u=o.y(e,t);return"".concat(r," ").concat(n," at ").concat(i," ").concat(u)}}(e,t,o.value,i.value);break;case"inset":o.value=Zi.parseStyleForInset(o.value),i.value=Zi.parseStyleForInset(i.value),u.value=function(e,t,r,n){var o={top:je(e,t,r.top.value,n.top.value,r.top.unit),left:je(e,t,r.left.value,n.left.value,r.left.unit),right:je(e,t,r.right.value,n.right.value,r.right.unit),bottom:je(e,t,r.bottom.value,n.bottom.value,r.bottom.unit),round:Mt(0,0,r.round,n.round),topRadius:je(e,t,r.topRadius.value,n.topRadius.value,r.topRadius.unit),leftRadius:je(e,t,r.leftRadius.value,n.leftRadius.value,r.leftRadius.unit),rightRadius:je(e,t,r.rightRadius.value,n.rightRadius.value,r.rightRadius.unit),bottomRadius:je(e,t,r.bottomRadius.value,n.bottomRadius.value,r.bottomRadius.unit)};return function(e,t){var r=o.top(e,t),n=o.right(e,t),i=o.bottom(e,t),u=o.left(e,t),a=o.round(e,t),c=o.topRadius(e,t),l=o.leftRadius(e,t),s=o.bottomRadius(e,t),f=o.rightRadius(e,t),p=[r,n,i,u].join(" "),y=[c,f,s,l].join(" ");return"".concat(p," ").concat(a&&y.trim()?"round ".concat(y):"")}}(e,t,o.value,i.value);break;case"polygon":o.value=Zi.parseStyleForPolygon(o.value),i.value=Zi.parseStyleForPolygon(i.value),u.value=function(e,t,r,n){for(var o=Math.max(r.length,n.length),i=[],u=0;u<o;u++){var a=r[u],c=n[u];a&&!c?i.push({x:ke(0,0,a.x),y:ke(0,0,a.y)}):!a&&c?i.push({x:ke(0,0,c.x),y:ke(0,0,c.y)}):i.push({x:Pe(e,t,a.x,c.x,"width","self"),y:Pe(e,t,a.y,c.y,"height","self")})}return function(e,t){return i.map((function(r){return"".concat(r.x(e,t)," ").concat(r.y(e,t))})).join(",")}}(e,t,o.value,i.value);break;case"path":o.value=Zi.parseStyleForPath(o.value),i.value=Zi.parseStyleForPath(i.value),u.value=makeInterpolateClipPathPath(e,t,o.value,i.value)}return function(e,t){var r=u.type(e,t),n=u.value(e,t);return"none"===r?r:"".concat(r,"(").concat(n,")")}}function $i(e){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ki(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wi(r,!0).forEach((function(t){tu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wi(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ru(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nu(e,t){return!t||"object"!==$i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ou(e,t,r){return(ou="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iu(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function iu(e){return(iu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uu(e,t){return(uu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var au=/((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)|matrix(3d)?|perspective)\(([^\)]*)\))/gi,cu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nu(this,iu(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uu(e,t)}(t,e),r=t,o=[{key:"join",value:function(e){var r=e.filter((function(e){return"perspective"===e.type})),n=e.filter((function(e){return"perspective"!==e.type}));return[].concat(Ki(r),Ki(n)).map((function(e){return new t(e).toString()})).join(" ")}},{key:"parse",value:function(e){return new t(e)}},{key:"replace",value:function(e,r){var n=t.parseStyle(e),o=n.find((function(e){return e.type===r.type}));return o?o.value=r.value:n.push(r),t.join(n)}},{key:"parseStyle",value:function(e){var r=[];return e?((e.match(au)||[]).forEach((function(e,n){var o=Ji(e.split("("),2),i=o[0],u=o[1],a=(u=u.split(")")[0]).split(",");a=u.includes("matrix")||u.includes("scale")?a.map((function(e){return Oe.number(e.trim())})):a.map((function(e){return Oe.parse(e.trim())})),r[n]=t.parse({type:i,value:a})})),r):r}}],(n=[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ou(iu(t.prototype),"getDefaultObject",this).call(this,eu({itemType:"transform",type:"",value:[]},e))}},{key:"toCloneObject",value:function(){return eu({},ou(iu(t.prototype),"toCloneObject",this).call(this),{value:JSON.parse(JSON.stringify(this.json.value))})}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value.join(", ")||"",")")}},{key:"convert",value:function(e){return(e=ou(iu(t.prototype),"convert",this).call(this,e)).type.includes("matrix")||e.type.includes("scale")?e.value=e.value.map((function(e){return Oe.number(e)})):e.value=e.value.map((function(e){return Oe.parse(e)})),e}},{key:"hasNumberValue",value:function(){var e=this.json.type;return e.includes("matrix")||e.includes("scale")}}])&&ru(r.prototype,n),o&&ru(r,o),t}(Ne);function lu(e,t,r,n){for(var o={type:Mt(0,0,r.type,n.type)},i=[],u=Math.max(r.value.length,n.value.length),a=0;a<u;a++){var c=r.value[a],l=n.value[a];c&&l?i.push(Pe(e,t,c,l,r.type)):i.push(Pe(e,t,r.value[a]||r.value[a-1]||r.value[a-2],n.value[a]||n.value[a-1]||r.value[a-2],r.type))}return o.value=i,function(e,t){return{type:o.type(e,t),value:o.value.map((function(r){return r(e,t)}))}}}function su(e,t,r,n){for(var o={type:Mt(0,0,r.type,n.type)},i=[],u=Math.max(r.value.length,n.value.length),a=0;a<u;a++){var c=r.value[a],l=n.value[a];if(c&&l)i.push(je(e,t,c.value,l.value));else{var s=r.value[a].value||r.value[a-1].value||r.value[a-2].value,f=n.value[a].value||n.value[a-1].value||r.value[a-2].value;i.push(je(e,t,s,f))}}return o.value=i,function(e,t){var r=o.value.map((function(r){return r(e,t)})),n=o.type(e,t);return(n.includes("matrix")||n.includes("scale"))&&(r=r.map((function(e){return Oe.number(e)}))),{type:n,value:r}}}function fu(e,t,r,n){for(var o={type:Mt(0,0,r.type,n.type)},i=[],u=Math.max(r.value.length,n.value.length),a=0;a<u;a++){var c=r.value[a],l=n.value[a];c&&l?i.push(vr(0,0,c,l)):i.push(vr(0,0,r.value[a]||r.value[a-1]||r.value[a-2],n.value[a]||n.value[a-1]||r.value[a-2]))}return o.value=i,function(e,t){return{type:o.type(e,t),value:o.value.map((function(r){return r(e,t)}))}}}function pu(e,t,r,n){for(var o=cu.parseStyle(r.trim()),i=cu.parseStyle(n.trim()),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];if(l&&!s)a.push(ke(0,0,l));else if(!l&&s)a.push(ke(0,0,s));else if(l.type!=s.type)a.push(Mt(0,0,l,s));else switch(l.type){case"skewX":case"skewY":case"translate":case"translateX":case"translateY":case"translateZ":case"translate3d":case"perspective":a.push(lu(e,t,l,s));break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"rotate3d":a.push(fu(0,0,l,s));break;case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3d":case"matrix":case"matrix3d":a.push(su(e,t,l,s))}}return function(e,t){return cu.join(a.map((function(r){return r(e,t)})))}}function yu(e,t,r,n){for(var o=r.split(" ").map((function(e){return Oe.parse(e)})),i=n.split(" ").map((function(e){return Oe.parse(e)})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(Pe(e,t,l,s,"transform-origin"))}return function(e,t){return a.map((function(r){return r(e,t)})).join(" ")}}function hu(e,t,r,n){for(var o=r.split(" ").map((function(e){return Oe.parse(e)})),i=n.split(" ").map((function(e){return Oe.parse(e)})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(Pe(e,t,l,s,"perspective-origin"))}return function(e,t){return a.map((function(r){return r(e,t)})).join(" ")}}function vu(e,t,r,n){for(var o=r.split(" ").map((function(e){return+e})),i=n.split(" ").map((function(e){return+e})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(je(e,t,l,s))}return function(e,t){return a.map((function(r){return r(e,t)})).join(" ")}}function gu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var du=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"isEqual",value:function(e,t){return e.x===t.x&&e.y===t.y}},{key:"isFirst",value:function(e){return e&&"M"==e.command}},{key:"getReversePoint",value:function(e,t){var r=e.x-t.x,n=e.y-t.y;return{x:e.x+r,y:e.y+n}}},{key:"getIndexPoint",value:function(e,t){return e[t]}},{key:"getPoint",value:function(t,r){return t.filter((function(t){return e.isEqual(t.startPoint,r)}))[0]}},{key:"getIndex",value:function(t,r){for(var n=-1,o=0,i=t.length;o<i;o++){var u=t[o];if(e.isEqual(u.startPoint,r)){n=o;break}}return n}},{key:"getPointIndex",value:function(t,r){for(var n=-1,o=0,i=t.length;o<i;o++){var u=t[o];if(e.isEqual(u,r)){n=o;break}}return n}},{key:"getLastPoint",value:function(e,t){if(!e.length)return null;for(var r=-1,n=t+1,o=e.length;n<o;n++)if("M"===e[n].command){r=n-1;break}-1==r&&(r=e.length-1),e[r]&&"Z"===e[r].command&&(r-=1);var i=e[r];return i&&(i.index=r),i}},{key:"getFirstPoint",value:function(e,t){for(var r=-1,n=t-1;n>0;n--)if("M"===e[n].command){r=n;break}-1===r&&(r=0);var o=e[r];return o&&(o.index=r),o}},{key:"getPrevPoint",value:function(t,r){var n=r-1;if(n<0)return e.getLastPoint(t,r);var o=t[n];return o&&(o.index=n),o}},{key:"getNextPoint",value:function(t,r){return t[r].connected?e.getFirstPoint(t,r):t[r+1]}}],(r=null)&&gu(t.prototype,r),n&&gu(t,n),e}();function bu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mu(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ou(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ju=/([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g,ku=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,wu={multiply:function(e){return function(t,r){var n=+t[r],o=+t[r+1];return[e[0][0]*n+e[0][1]*n+e[0][2],e[1][0]*o+e[1][1]*o+e[1][2],1]}},translate:function(e,t){return this.multiply([[1,0,e],[0,1,t],[0,0,1]])},rotate:function(e){return this.multiply([[Math.cos(e),Math.sin(e),0][(Math.sin(e),Math.cos(e),0)],[0,0,1]])},scale:function(e,t){return this.multiply([[e,0,0],[0,t,0],[0,0,1]])},skewX:function(e){return this.multiply([[1,e,0],[0,1,0],[0,0,1]])},skewY:function(e){return this.multiply([[1,0,0],[e,1,0],[0,0,1]])},reflectionOrigin:function(){return this.multiply([[-1,0,0],[0,-1,0],[0,0,1]])},reflectionX:function(){return this.multiply([[1,0,0],[0,-1,0],[0,0,1]])},reflectionY:function(){return this.multiply([[-1,0,0],[0,1,0],[0,0,1]])}},Pu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset(t)}var t,r,n;return t=e,(r=[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.pathString=e,this.parse()}},{key:"resetSegments",value:function(e){this.segments=e||[],this.pathString=this.joinPath()}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(ku)||[];return t.filter((function(e){return""!=e}))}},{key:"parse",value:function(){var e=this,t=this.pathString.match(ju)||[];this.segments=t.map((function(t){var r=t[0];return{command:r,values:e.trim(t.replace(r,"")).map((function(e){return+e}))}})),this.segments=this.segments.map((function(t,r){switch(t.command){case"c":case"m":case"l":case"q":case"s":case"t":case"v":case"h":for(var n=e.segments[r-1],o=n.values[n.values.length-2],i=n.values[n.values.length-1],u=0,a=t.values.length;u<a;u+=2)t.values[u]+=o,t.values[u+1]+=i;return{command:t.command.toUpperCase(),values:mu(t.values)};default:return t}}))}},{key:"convertGenerator",value:function(){for(var e=[],t=0,r=this.segments.length;t<r;t++){var n=this.segments[t],o=this.segments[t+1],i=n.command,u=n.values;if("M"===i){var a=bu(u,2),c=a[0],l=a[1];e.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:{x:c,y:l},curve:!1})}else if("L"===i)if((k=du.getPrevPoint(e,e.length)).curve){var s=bu(u,2);c=s[0],l=s[1],e.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:L(k.endPoint),curve:!0})}else{var f=bu(u,2);c=f[0],l=f[1],e.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:{x:c,y:l},curve:!1})}else if("Q"===i){var p=bu(u,4),y=p[0],h=p[1];if(c=p[2],l=p[3],(k=du.getPrevPoint(e,e.length)).curve){var v={x:c,y:l},g={x:c,y:l},d={x:c,y:l};e.push({command:"L",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1}),k.endPoint={x:y,y:h}}else o&&"L"===o.command?(k.curve=!0,k.endPoint={x:y,y:h},v={x:c,y:l},d={x:c,y:l},g={x:c,y:l},e.push({command:"L",originalCommand:i,curve:!1,startPoint:v,endPoint:g,reversePoint:d})):(v={x:c,y:l},d={x:y,y:h},g={x:c,y:l},e.push({command:i,originalCommand:i,curve:!0,startPoint:v,endPoint:g,reversePoint:d}))}else if("T"===i){var b=bu(u,2);if(c=b[0],l=b[1],(x=segments[t-1])&&"Q"===x.command){var m=bu(x.values,4),O=(y=m[0],h=m[1],m[2]),j=m[3];(k=du.getPrevPoint(e,e.length)).endPoint=du.getReversePoint({x:O,y:j},{x:y,y:h}),v={x:c,y:l},g={x:c,y:l},d={x:c,y:l},e.push({command:"L",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1})}}else if("C"===i){var k=du.getPrevPoint(e,e.length),w=bu(u,6),P=(y=w[0],h=w[1],w[2]),S=w[3];v={x:c=w[4],y:l=w[5]},d={x:P,y:S},g={x:c,y:l},e.push({command:i,originalCommand:i,curve:!0,startPoint:v,endPoint:g,reversePoint:d}),k&&(k.curve=!0,k.endPoint={x:y,y:h})}else if("S"===i){var x,T=bu(u,2);if(c=T[0],l=T[1],(x=segments[t-1])&&"C"===x.command){var C=bu(x.values,4);P=C[0],S=C[1],O=C[2],j=C[3],(k=du.getPrevPoint(e,e.length)).endPoint=du.getReversePoint(k.startPoint,k.reversePoint),v={x:c,y:l},g={x:c,y:l},d={x:P,y:S},e.push({command:"Q",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1})}}else if("Z"===i){k=du.getPrevPoint(e,e.length);var E=du.getFirstPoint(e,e.length);du.isEqual(k.startPoint,E.startPoint)&&(k.connected=!0,"C"===k.command&&(E.curve=!0,du.isEqual(E.endPoint,E.startPoint)&&(E.endPoint=du.getReversePoint(k.startPoint,k.reversePoint)))),k.close=!0}}return e=e.filter((function(e){return!!e}))}},{key:"length",value:function(){return this.segments.length}},{key:"setSegments",value:function(e,t){this.segments[e]=t}},{key:"getSegments",value:function(e){return C(e)?this.segments[e]:this.segments}},{key:"joinPath",value:function(e){return(e||this.segments).map((function(e){return"".concat(e.command," ").concat(e.values.length?e.values.join(" "):"")})).join("")}},{key:"each",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.segments.map((function(r){return e.call(t,r)}));if(r)return n;this.segments=n}},{key:"_loop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(t){var r=t.values;switch(t.command){case"M":case"L":var n=e(r,0);t.values=[n[0],n[1]];break;case"V":n=e([+r[0],0]),t.values=[n[0]];break;case"H":n=e([0,+r[0]]),t.values=[n[1]];break;case"C":case"S":case"T":case"Q":for(var o=0,i=r.length;o<i;o+=2)n=e(r,o),t.values[o]=n[0],t.values[o+1]=n[1]}return t}),t)}},{key:"clone",value:function(){return new e(this.joinPath())}},{key:"translate",value:function(e,t){return this._loop(wu.translate(e,t)),this}},{key:"translateTo",value:function(e,t){return this.joinPath(this._loop(wu.translate(e,t),!0))}},{key:"scale",value:function(e,t){return this._loop(wu.scale(e,t)),this}},{key:"scaleTo",value:function(e,t){return this.joinPath(this._loop(wu.scale(e,t),!0))}},{key:"rotate",value:function(e){return this._loop(wu.rotate(e)),this}},{key:"rotateTo",value:function(e){return this.joinPath(this._loop(wu.rotate(e),!0))}},{key:"reflectionOrigin",value:function(e){return this._loop(wu.reflectionOrigin(e)),this}},{key:"reflectionOriginTo",value:function(e){return this.joinPath(this._loop(wu.reflectionOrigin(e),!0))}},{key:"reflectionX",value:function(e){return this._loop(wu.reflectionX(e)),this}},{key:"reflectionXTo",value:function(e){return this.joinPath(this._loop(wu.reflectionX(e),!0))}},{key:"reflectionY",value:function(e){return this._loop(wu.reflectionY(e)),this}},{key:"reflectionYTo",value:function(e){return this.joinPath(this._loop(wu.reflectionY(e),!0))}},{key:"skewX",value:function(e){return this._loop(wu.skewX(e)),this}},{key:"skewXTo",value:function(e){return this.joinPath(this._loop(wu.skewX(e),!0))}},{key:"skewY",value:function(e){return this._loop(wu.skewY(e)),this}},{key:"skewYTo",value:function(e){return this.joinPath(this._loop(wu.skewY(e),!0))}},{key:"toString",value:function(){return this.joinPath()}}])&&Ou(t.prototype,r),n&&Ou(t,n),e}();function Su(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var xu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pathArray=[]}var t,r,n;return t=e,(r=[{key:"reset",value:function(){this.pathArray=[]}},{key:"getPointString",value:function(e){return e.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" ")}},{key:"makeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.pathArray.push("".concat(e," ").concat(this.getPointString(t))),this}},{key:"M",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.makeString("M",t)}},{key:"L",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.makeString("L",t)}},{key:"Q",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.makeString("Q",t)}},{key:"C",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.makeString("C",t)}},{key:"Z",value:function(){return this.makeString("Z")}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"object";return'<path d="'.concat(this.d,"\" class='").concat(e,"'/>")}},{key:"d",get:function(){return this.pathArray.join(" ").trim()}}])&&Su(t.prototype,r),n&&Su(t,n),e}();function Tu(e){return(Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Eu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ru(e,t){return!t||"object"!==Tu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _u(e){return(_u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Au(e,t){return(Au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Du=/[\b\t \,]/g,Mu=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ru(this,_u(t).call(this,e))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Au(e,t)}(t,e),r=t,(n=[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.points=e,this.parse()}},{key:"resetSegments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=e,this.points=this.joinPoints()}},{key:"parse",value:function(){var e=this.points;E(e)&&(e=e.join(" "));for(var t=e.trim().split(Du),r=[],n=0,o=t.length;n<o;n+=2)r.push({x:+t[n],y:+t[n+1]});this.segments=r}},{key:"convertGenerator",value:function(){return this.segments}},{key:"length",value:function(){return this.segments.length}},{key:"toPathString",value:function(){for(var e=new xu,t=0,r=this.segments.length;t<r;t++){var n=this.segments[t];0===t?e.M(n):t===r-1?e.L(n).L(this.segments[0]).Z():e.L(n)}return e.d}},{key:"joinPath",value:function(e){return this.joinPoints(e)}},{key:"joinPoints",value:function(e){return(e||this.segments).map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"each",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.segments.map((function(r){return e.call(t,r)}));if(r)return n;this.segments=n}},{key:"_loop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(t){var r=Cu(e([t.x,t.y],0),2),n=r[0],o=r[1];return t.x=n,t.y=o,t}),t)}},{key:"clone",value:function(){return new t(this.joinPoints())}},{key:"toString",value:function(){return this.joinPoints()}}])&&Eu(r.prototype,n),o&&Eu(r,o),t}(Pu);function Iu(e,t,r,n){for(var o=Math.max(r.length,n.length),i=[],u=r[r.length-1],a=n[n.length-1],c=0;c<o;c++){var l=r[c],s=n[c];l&&!s?i.push(je(e,t,l,a)):!l&&s?i.push(je(e,t,u,s)):i.push(je(e,t,l,s))}return function(e,t){return i.map((function(r){return r(e,t)}))}}function Lu(e,t,r,n){for(var o=new Pu,i=new Pu(r),u=new Pu(n),a=Math.max(i.segments.length,u.segments.length),c=[],l=0;l<a;l++){var s=i.segments[l],f=u.segments[l];s.command===f.command?s.values.length===f.values.length?c.push({command:ke(0,0,s.command),values:Iu(e,t,s.values,f.values)}):c.push({command:ke(0,0,s.command),values:ke(0,0,s.values)}):c.push({command:Mt(0,0,s.command,f.command),values:Mt(0,0,s.values,f.values)})}return function(t,r){var n=c.map((function(e){return{command:e.command(t,r),values:e.values(t,r)}})),i=o.joinPath(n);e.attr("d",i)}}function Xu(e,t,r,n){for(var o=new Mu,i=new Mu(r),u=new Mu(n),a=Math.max(i.segments.length,u.segments.length),c=[],l=i.segments[i.segments.length-1].x,s=i.segments[i.segments.length-1].y,f=u.segments[u.segments.length-1].x,p=u.segments[u.segments.length-1].y,y=0;y<a;y++){var h=i.segments[y],v=u.segments[y];h&&!v?c.push({x:je(e,t,h.x,f),y:je(e,t,h.y,p)}):!h&&v?c.push({x:je(e,t,l,v.x),y:je(e,t,s,v.y)}):c.push({x:je(e,t,h.x,v.x),y:je(e,t,h.y,v.y)})}return function(t,r){var n=o.joinPoints(c.map((function(e){return{x:e.x(t,r),y:e.y(t,r)}})));e.attr("points",n)}}function Yu(e,t,r,n){var o={x:je("","",e,r),y:je("","",t,n)};return function(e,t){return{x:o.x(e,t),y:o.y(e,t)}}}function Fu(e,t,r,n,o,i){var u=[{x:e,y:t},{x:r,y:n},{x:o,y:i}];return function(e,t){return he(u,t)}}function Nu(e,t,r,n,o,i,u,a){var c=[{x:e,y:t},{x:r,y:n},{x:o,y:i},{x:u,y:a}];return function(e,t){return ye(c,t)}}function Vu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qu(e,t,r,n,o){var i=zu(r.split(",").map((function(e){return e.trim()})),4),u=i[0],a=i[1],c=i[2],l=i[3],s={id:u,distance:Oe.parse(a||"0%"),rotateStatus:c||"auto",rotate:Oe.parse(l||"0deg")},f=function(e,t){return{x:x,y:y}},p=0,h=0;if(o){var v=o.$('[data-id="'.concat(s.id,'"]')),g=v.$("path"),d=v.rect();p=d.left,h=d.top,f=function(e,t,r){var n=function(e){var t=[],r=[];e.forEach((function(e,n){switch(e.command){case"M":var o=Vu(e.values,2),i=o[0],u=o[1];r=[i,u];break;case"m":var a=Vu(r,2),c=a[0],l=a[1],s=Vu(e.values,2);i=s[0],u=s[1];r=[i+=c,u+=l];break;case"L":var f=Vu(r,2),p=(c=f[0],l=f[1],Vu(e.values,2));i=p[0],u=p[1];t.push({command:e.command,values:[c,l,i,u],length:W(c,l,i,u),interpolate:Yu(c,l,i,u)}),r=[i,u];break;case"l":var y=Vu(r,2),h=(c=y[0],l=y[1],Vu(e.values,2));i=h[0],u=h[1];i+=c,u+=l,t.push({command:e.command,values:[c,l,i,u],length:W(c,l,i,u),interpolate:Yu(c,l,i,u)}),r=[i,u];break;case"C":var v=Vu(r,2),g=(c=v[0],l=v[1],Vu(e.values,6)),d=g[0],b=g[1],m=g[2],O=g[3];i=g[4],u=g[5];t.push({command:e.command,values:[c,l,d,b,m,O,i,u],length:le(c,l,d,b,m,O,i,u),interpolate:Nu(c,l,d,b,m,O,i,u)}),r=[i,u];break;case"c":var j=Vu(r,2),k=(c=j[0],l=j[1],Vu(e.values,6));d=k[0],b=k[1],m=k[2],O=k[3],i=k[4],u=k[5];d+=c,m+=c,i+=c,b+=l,O+=l,u+=l,t.push({command:e.command,values:[c,l,d,b,m,O,i,u],length:le(c,l,d,b,m,O,i,u),interpolate:Nu(c,l,d,b,m,O,i,u)}),r=[i,u];break;case"Q":var w=Vu(r,2),P=(c=w[0],l=w[1],Vu(e.values,4));d=P[0],b=P[1],i=P[2],u=P[3];t.push({command:e.command,values:[c,l,d,b,i,u],length:se(c,l,d,b,i,u),interpolate:Fu(c,l,d,b,i,u)}),r=[i,u];break;case"q":var S=Vu(r,2),x=(c=S[0],l=S[1],Vu(e.values,4));d=x[0],b=x[1],i=x[2],u=x[3];d+=c,i+=c,b+=l,u+=l,t.push({command:e.command,values:[c,l,d,b,i,u],length:se(c,l,d,b,i,u),interpolate:Fu(c,l,d,b,i,u)}),r=[i,u];break;case"S":var T=Vu(r,2),C=(c=T[0],l=T[1],Vu(e.values,4)),E=(m=C[0],O=C[1],i=C[2],u=C[3],t[t.length-1]);if(["C","c","S","s"].includes(E.command)){var R=Vu(E.values,8),_=(R[0],R[1],R[2],R[3],R[4]),A=R[5],D=R[6],M=R[7],I=du.getReversePoint({x:D,y:M},{x:_,preC1y:A});d=I.x,b=I.y;t.push({command:e.command,values:[c,l,d,b,m,O,i,u],length:getCubicDist(c,l,d,b,m,O,i,u),interpolate:Nu(c,l,d,b,m,O,i,u)}),r=[i,u];break}case"s":var L=Vu(r,2),X=(c=L[0],l=L[1],Vu(e.values,4));m=X[0],O=X[1],i=X[2],u=X[3];m+=c,i+=c,O+=l,u+=l;E=t[t.length-1];if(["C","c","S","s"].includes(E.command)){var Y=Vu(E.values,8),F=(Y[0],Y[1],Y[2],Y[3],_=Y[4],A=Y[5],D=Y[6],M=Y[7],du.getReversePoint({x:D,y:M},{x:_,preC1y:A}));d=F.x,b=F.y;t.push({command:e.command,values:[c,l,d,b,m,O,i,u],length:getCubicDist(c,l,d,b,m,O,i,u),interpolate:Nu(c,l,d,b,m,O,i,u)}),r=[i,u];break}case"T":var N=Vu(r,2),V=(c=N[0],l=N[1],Vu(e.values,2));i=V[0],u=V[1],E=t[t.length-1];if(["Q","q","T","t"].includes(E.command)){var B=Vu(E.values,6),G=(B[0],B[1],_=B[2],A=B[3],D=B[4],M=B[5],du.getReversePoint({x:D,y:M},{x:_,preC1y:A}));d=G.x,b=G.y;t.push({command:e.command,values:[c,l,d,b,i,u],length:se(c,l,d,b,i,u),interpolate:Fu(c,l,d,b,i,u)}),r=[i,u]}break;case"t":var z=Vu(r,2),q=(c=z[0],l=z[1],Vu(e.values,2));i=q[0],u=q[1];i+=c,u+=l;E=t[t.length-1];if(["Q","q","T","t"].includes(E.command)){var U=Vu(E.values,6),H=(U[0],U[1],_=U[2],A=U[3],D=U[4],M=U[5],du.getReversePoint({x:D,y:M},{x:_,preC1y:A}));d=H.x,b=H.y;t.push({command:e.command,values:[c,l,d,b,i,u],length:se(c,l,d,b,i,u),interpolate:Fu(c,l,d,b,i,u)}),r=[i,u]}}}));var n=0;t.forEach((function(e){n+=e.length}));var o=0;return t.forEach((function(e){e.startT=o/n,e.endT=(o+e.length)/n,e.totalLength=n,o+=e.length})),{totalLength:n,interpolateList:t}}(new Pu(g.attr("d")).segments),o=n.totalLength,i=n.interpolateList,u=s.distance.toPx(o);(t+=u/o)>1&&(t-=1);var a=i[0];0===t?a=i[0]:1===t&&(a=i[i.length-1]);var c=i.find((function(e){return e.startT<=t&&t<e.endT}));c&&(a=c);var l=(t-a.startT)/(a.endT-a.startT),f=r(l);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bu(r,!0).forEach((function(t){Gu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bu(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a.interpolate(f,l,r),{totalLength:a.totalLength})}}return function(t,r,n){var o=(e.css("transform-origin")||"50% 50%").split(" ").map((function(e){return Oe.parse(e)})),i=o[0].toPx(Oe.parse(e.css("width")).value),u=o[1].toPx(Oe.parse(e.css("height")).value),a=f(t,r,n),c={left:Oe.px(a.x+p-i.value),top:Oe.px(a.y+h-u.value)};if("element"===s.rotateStatus);else{var l=a,y=f(t+1/a.totalLength,r+1/a.totalLength,n),v=ee(y.x-l.x,y.y-l.y),g=Oe.deg(function(e,t){switch(e){case"angle":return s.rotate.value;case"auto angle":return t+s.rotate.value;case"reverse":return t+180;case"auto":return t;default:return}}(s.rotateStatus,v));c.transform=cu.replace(e.el.style.transform,{type:"rotate",value:[g]})}return c}}function Uu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Hu={none:!0,hidden:!0,dotted:!0,dashed:!0,solid:!0,double:!0,groove:!0,ridge:!0,inset:!0,outset:!0},Zu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"parseStyle",value:function(e){return V(e)}},{key:"parseValue",value:function(e){var t="",r="",n="";return e.split(" ").filter((function(e){return e.trim()})).forEach((function(e){Hu[e]?t=e:ir.isColor(e)?n=e:r=e})),{style:t,color:n,width:r}}},{key:"joinValue",value:function(e){return"".concat(e.width," ").concat(e.style," ").concat(e.color)}},{key:"join",value:function(e){return[e.border?"border: ".concat(e.border):"",e["border-top"]?"border-top: ".concat(e["border-top"]):"",e["border-left"]?"border-left: ".concat(e["border-left"]):"",e["border-right"]?"border-right: ".concat(e["border-right"]):"",e["border-bottom"]?"border-bottom: ".concat(e["border-bottom"]):""].filter((function(e){return e})).join(";")}}],(r=null)&&Uu(t.prototype,r),n&&Uu(t,n),e}();function Qu(e,t,r,n){var o=Zu.parseValue(r),i=Zu.parseValue(n),u={width:Pe(e,t,o.width,i.width,"border"),style:Mt(0,0,o.style,i.style),color:ur(0,0,o.color,i.color)};return function(e,t){return Zu.joinValue({width:u.width(e,t),style:u.style(e,t),color:u.color(e,t)})}}var $u=["border","border-top","border-right","border-left","border-bottom"];function Ju(e,t,r,n){var o=Zu.parseStyle(r),i=Zu.parseStyle(n),u={};return $u.forEach((function(r){if(o[r]&&i[r])u[r]=Qu(e,t,o[r],i[r]);else if(o[r]&&!i[r]){var n=Zu.parseValue(o[r]);u[r]=Qu(e,t,o[r],"0px ".concat(n.style," rgba(0, 0, 0, 0)"))}else if(!o[r]&&i[r]){n=Zu.parseValue(i[r]);u[r]=Qu(e,t,"0px ".concat(n.style," rgba(0, 0, 0, 0)"),i[r])}})),function(e,t){var r={};return Object.keys(u).forEach((function(n){r[n]=u[n](e,t)})),r}}function Ku(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ea=function(){return function(e,t){}};function ta(e,t,r,n,o){switch(t){case"width":case"left":case"x":return Pe(e,t,r,n,"width",o);case"height":case"top":case"y":return Pe(e,t,r,n,"height",o);case"perspective":case"font-size":case"font-stretch":case"font-weight":case"text-stroke-width":case"border-width":case"border-top-width":case"border-right-width":case"border-left-width":case"border-bottom-width":return Pe(e,t,r,n,t,o);case"fill-opacity":case"opacity":case"stroke-dashoffset":return je(e,t,+r,+n,o);case"background-color":case"color":case"text-fill-color":case"text-stroke-color":case"fill":case"stroke":case"border-color":case"border-top-color":case"border-right-color":case"border-left-color":case"border-bottom-color":return ur(0,0,r,n);case"mix-blend-mode":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":case"border-style":case"border-top-style":case"border-right-style":case"border-left-style":case"border-bottom-style":return cr(0,0,r,n);case"rotate":return vr(0,0,r,n)}var i=function(e){switch(e){case"border-radius":return Ce;case"border":return Ju;case"box-shadow":return ar;case"text-shadow":return Sr;case"background-image":return ii;case"filter":case"backdrop-filter":return Mi;case"clip-path":return Qi;case"transform":return pu;case"transform-origin":return yu;case"perspective-origin":return hu;case"stroke-dasharray":return vu;case"d":return Lu;case"points":return Xu;case"offset-path":return qu}}(t);return i?i(e,t,r,n,o):ea}function ra(e,t,r,n,o){return ta(e,t,r,n,o)}function na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"linear",t=Wu(e.split("(").map((function(e){return e.trim()})),2),r=t[0],n=t[1];n=(n||"").split(")")[0].trim();var o=yr[r];if(o){var i=e.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()}));return o.apply(void 0,Ku(i))}return function(e){var t=fe(e);return function(e){return t(e).y}}(e)}function oa(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ia(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ua=0,aa=function(){function e(t,r,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),A(t))this.el=t;else{var o=document.createElement(t);for(var i in this.uniqId=ua++,r&&(o.className=r),n=n||{})o.setAttribute(i,n[i]);this.el=o}}var t,r,n;return t=e,r=[{key:"data",value:function(e,t){var r=e.split("-").map((function(e,t){return 0===t?e:e.substr(0,1).toUpperCase()+e.substr(1)})).join("");if(1===arguments.length)return this.el.dataset(r);this.el.dataset(r,t)}},{key:"attr",value:function(e,t){return 1==arguments.length?this.el.getAttribute(e):(this.el.setAttribute(e,t),this)}},{key:"setAttr",value:function(e){var t=this;Object.keys(e).forEach((function(r){t.el.setAttribute(r,e[r])}))}},{key:"attrKeyValue",value:function(e){return t={},r=this.el.getAttribute(e),n=this.val(),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t;var t,r,n}},{key:"attrs",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.map((function(t){return e.el.getAttribute(t)}))}},{key:"styles",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.map((function(t){return e.el.style[t]}))}},{key:"removeAttr",value:function(e){return this.el.removeAttribute(e),this}},{key:"removeStyle",value:function(e){return this.el.style.removeProperty(e),this}},{key:"is",value:function(e){return this.el===(e.el||e)}},{key:"isTag",value:function(e){return this.el.tagName.toLowerCase()===e.toLowerCase()}},{key:"closest",value:function(t){for(var r=this,n=!1;!(n=r.hasClass(t));){if(!r.el.parentNode)return null;r=e.create(r.el.parentNode)}return n?r:null}},{key:"parent",value:function(){return e.create(this.el.parentNode)}},{key:"hasParent",value:function(){return!!this.el.parentNode}},{key:"removeClass",value:function(){var e;return(e=this.el.classList).remove.apply(e,arguments),this}},{key:"hasClass",value:function(e){return!!this.el.classList&&this.el.classList.contains(e)}},{key:"addClass",value:function(){var e;return(e=this.el.classList).add.apply(e,arguments),this}},{key:"onlyOneClass",value:function(e){var t=this.parent().$(".".concat(e));t&&t.removeClass(e),this.addClass(e)}},{key:"toggleClass",value:function(e,t){this.el.classList.toggle(e,t)}},{key:"html",value:function(e){return T(e)?this.el.innerHTML:(_(e)?this.el.innerHTML=e:this.empty().append(e),this)}},{key:"find",value:function(e){return this.el.querySelector(e)}},{key:"$",value:function(t){var r=this.find(t);return r?e.create(r):null}},{key:"findAll",value:function(e){return this.el.querySelectorAll(e)}},{key:"$$",value:function(t){return oa(this.findAll(t)).map((function(t){return e.create(t)}))}},{key:"empty",value:function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);return this}},{key:"append",value:function(e){return _(e)?this.el.appendChild(document.createTextNode(e)):this.el.appendChild(e.el||e),this}},{key:"prepend",value:function(e){return _(e)?this.el.prepend(document.createTextNode(e)):this.el.prepend(e.el||e),this}},{key:"appendHTML",value:function(t){var r=e.create("div").html(t);this.append(r.createChildrenFragment())}},{key:"createChildrenFragment",value:function(){var e=this.children(),t=document.createDocumentFragment();return e.forEach((function(e){return t.appendChild(e.el)})),t}},{key:"appendTo",value:function(e){return(e.el?e.el:e).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"removeChild",value:function(e){return this.el.removeChild(e.el||e),this}},{key:"text",value:function(t){if(T(t))return this.el.textContent;var r=t;return t instanceof e&&(r=t.text()),this.el.textContent=r,this}},{key:"css",value:function(e,t){if(C(e)&&C(t))this.el.style[e]=t;else if(C(e)){if(_(e))return getComputedStyle(this.el)[e];Object.assign(this.el.style,e)}return this}},{key:"getComputedStyle",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=getComputedStyle(this.el),t={},r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.forEach((function(r){t[r]=e[r]})),t}))},{key:"getStyleList",value:function(){for(var e=this,t={},r=this.el.style.length,n=0;n<r;n++){var o=this.el.style[n];t[o]=this.el.style[o]}for(var i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];return u.forEach((function(r){t[r]=e.css(r)})),t}},{key:"cssText",value:function(e){return T(e)?this.el.style.cssText:(e!=this.el.tempCssText&&(this.el.style.cssText=e,this.el.tempCssText=e),this)}},{key:"cssArray",value:function(e){return e[0]&&(this.el.style[e[0]]=e[1]),e[2]&&(this.el.style[e[2]]=e[3]),e[4]&&(this.el.style[e[4]]=e[5]),e[6]&&(this.el.style[e[6]]=e[7]),e[8]&&(this.el.style[e[8]]=e[9]),this}},{key:"cssFloat",value:function(e){return parseFloat(this.css(e))}},{key:"cssInt",value:function(e){return parseInt(this.css(e))}},{key:"px",value:function(e,t){return this.css(e,Oe.px(t))}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"offsetRect",value:function(){return{top:this.el.offsetTop,left:this.el.offsetLeft,width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"offset",value:function(){var t=this.rect(),r=e.getScrollTop(),n=e.getScrollLeft();return{top:t.top+r,left:t.left+n}}},{key:"offsetLeft",value:function(){return this.offset().left}},{key:"offsetTop",value:function(){return this.offset().top}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.rect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.rect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.rect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"val",value:function(t){if(T(t))return this.el.value;if(C(t)){var r=t;t instanceof e&&(r=t.val()),this.el.value=r}return this}},{key:"scrollIntoView",value:function(){this.el.scrollIntoView()}},{key:"addScrollLeft",value:function(e){return this.el.scrollLeft+=e,this}},{key:"addScrollTop",value:function(e){return this.el.scrollTop+=e,this}},{key:"setScrollTop",value:function(e){return this.el.scrollTop=e,this}},{key:"setScrollLeft",value:function(e){return this.el.scrollLeft=e,this}},{key:"scrollTop",value:function(){return this.el===document.body?e.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?e.getScrollLeft():this.el.scrollLeft}},{key:"scrollHeight",value:function(){return this.el.scrollHeight}},{key:"scrollWidth",value:function(){return this.el.scrollWidth}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.create(t,r,n);return i.css(o),this.append(i),i}},{key:"firstChild",value:function(){return e.create(this.el.firstElementChild)}},{key:"children",value:function(){var t=this.el.firstElementChild;if(!t)return[];var r=[];do{r.push(e.create(t)),t=t.nextElementSibling}while(t);return r}},{key:"childLength",value:function(){return this.el.children.length}},{key:"replace",value:function(e){return this.el.parentNode&&this.el.parentNode.replaceChild(e.el||e,this.el),this}},{key:"replaceChild",value:function(e,t){return this.el.replaceChild(t.el||t,e.el||e),this}},{key:"value",get:function(){return this.el.value}},{key:"naturalWidth",get:function(){return this.el.naturalWidth}},{key:"naturalHeight",get:function(){return this.el.naturalHeight}}],n=[{key:"create",value:function(t,r,n){return new e(t,r,n)}},{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}},{key:"parse",value:function(e){return DOMParser().parseFromString(e,"text/htmll")}},{key:"body",value:function(){return e.create(document.body)}}],r&&ia(t.prototype,r),n&&ia(t,n),e}();function ca(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function sa(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var pa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:"body"};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.animations=t,this.compiledAnimation=[],this.options=r,this.debug=r.debug||!1,this.fps=r.fps||60,this.totalTime=G(this.fps,r.totalTimecode),this.totalTimecode=r.totalTimecode||"00:00:00:00",this.currentTime=0,this.currentTimecode="00:00:00:00",this.startTime=0,this.endTime=this.totalTime,this.initialize()}var t,r,n;return t=e,(r=[{key:"log",value:function(){var e;this.debug&&(e=console).log.apply(e,arguments)}},{key:"searchBySelector",value:function(e,t){return t.$$(e)}},{key:"createContainerElement",value:function(e){return e="body"===e?document.body:e,aa.create(e)}},{key:"initialize",value:function(){var e=this;this.animations.forEach((function(t){var r=e.createContainerElement(t.container||e.options.container||"body"),n=e.searchBySelector(t.selector,r);t.compiled={},t.properties.forEach((function(o){t.compiled["".concat(o.property)]=e.compiledTimingFunction(n,o,r)}))})),this.log("timeline is initialized.")}},{key:"searchTimelineOffset",value:function(e){var t=[];return this.animations.forEach((function(r){r.properties.forEach((function(n){var o=r.compiled["".concat(n.property)];t.push.apply(t,sa(o.filter((function(t){return!(!t.isOnlyTime||t.startTime!=e)||t.startTime<=e&&e<t.endTime}))))}))})),t.filter((function(e){return e}))}},{key:"parseOffset",value:function(e,t,r){if(E(r)){var n=la(r,3),o=n[0],i=n[1],u=n[2];return T(i)&&(i=e.css(t)),{time:o,value:i,timing:u}}return r&&T(r.value)&&(r.value=e.css(t)),r}},{key:"compiledTimingFunction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=[];return 1===r.keyframes.length?o:(t.forEach((function(t,i){o.push.apply(o,sa(r.keyframes.map((function(o,u){var a=e.parseOffset(t,r.property,o),c=e.parseOffset(t,r.property,r.keyframes[u+1]);c||(c={time:a.time,value:a.value+""});var l={layer:t,layerIndex:i,property:r.property,isResetFunction:e.checkResetInterpolateFunction(r.property),isAttributeFunction:e.checkResetAttributeFunction(r.property),isOnlyTime:a.time===c.time,startTime:a.time,endTime:c.time,startValue:a.value,endValue:c.value,timing:a.timing,interpolateFunction:ra(t,r.property,a.value,c.value,n),timingFunction:na(a.timing)};return l.func=e.makeTimingFunction(l),l})).filter((function(e){return e}))))})),o)}},{key:"makeTimingFunction",value:function(e){return function(t){var r=e.endTime-e.startTime,n=1;return 0!==r&&(n=(t-e.startTime)/r),e.interpolateFunction(e.timingFunction(n),n,e.timingFunction)}}},{key:"checkResetInterpolateFunction",value:function(e){switch(e){case"offset-path":case"background-image":case"border":return!0}return!1}},{key:"checkResetAttributeFunction",value:function(e){switch(e){case"d":case"points":return!0}return!1}},{key:"seek",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};(C(t)||null!==t)&&this.setTimelineCurrentTime(t);var n=1e3*this.currentTime;this.log("seek start : ",n);var o=this.searchTimelineOffset(n).filter(r),i=new WeakMap,u=[];o.forEach((function(e){i.has(e.layer)||(i.set(e.layer,{}),u.push(e.layer));var t=i.get(e.layer);if(e.isAttributeFunction)e.func(n,e.layer,e.layerIndex);else if(e.isResetFunction){var r=e.func(n,e.layer,e.layerIndex);Object.assign(t,r)}else Object.assign(t,ca({},e.property,e.func(n,e.layer,e.layerIndex)))})),u.forEach((function(t){t.css(i.get(t)),e.log(t,i.get(t))})),this.log("seek end : ",n)}},{key:"getKeyframeList",value:function(e){this.animations.forEach((function(t){t.properties.forEach((function(t){t.keyframes.forEach((function(t){e&&e(t)}))}))}))}},{key:"getSelectedTimelineLastTime",value:function(){var e=0;return this.getKeyframeList((function(t){e=Math.max(t.time,e)})),e}},{key:"getSelectedTimelineFirstTime",value:function(){var e=Number.MAX_SAFE_INTEGER;return this.getKeyframeList((function(t){e=Math.min(t.time,e)})),e}},{key:"getSelectedTimelinePrevTime",value:function(){var e=this,t=this.getSelectedTimelineFirstTime();return this.getKeyframeList((function(r){z(e.fps,r.time)<e.currentTimecode&&(t=Math.max(r.time,t))})),t}},{key:"getSelectedTimelineNextTime",value:function(){var e=this,t=this.getSelectedTimelineLastTime();return this.getKeyframeList((function(r){z(e.fps,keyframe.time)>e.currentTimecode&&(t=Math.min(keyframe.time,t))})),t}},{key:"getTimelineLayerInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:10:00",r=G(e,t);return{fps:e,currentTimecode:z(e,0),totalTimecode:z(e,r),currentTime:0,totalTime:r,displayStartTime:0,displayEndTime:r}}},{key:"setTimelineCurrentTime",value:function(e){var t=this.fps,r=this.totalTimecode,n=e,o=e;+n+""===n&&(o=q(t,n=+n)),o>r&&(o=r);var i=G(t,o);this.currentTime=i,this.currentTimecode=z(t,i)}},{key:"setDisplayTimeDxRate",value:function(e,t,r){var n=e*this.totalTime,o=t+n,i=r+n;o=Math.max(o,0),0===(o=Math.min(o,i))&&(i=r-t),i=Math.max(i,o),(i=Math.min(i,this.totalTime))===this.totalTime&&(o=this.totalTime-(r-t)),this.displayStartTime=o,this.displayEndTime=i}},{key:"setDisplayStartTimeRate",value:function(e){this.displayStartTime=e*this.totalTime}},{key:"setDisplayEndTimeRate",value:function(e){this.displayEndTime=e*this.totalTime}},{key:"setTimelineCurrentTimeRate",value:function(e){var t=this.displayStartTime,r=this.displayEndTime,n=this.fps,o=t+(r-t)*e;this.setTimelineCurrentTime(z(n,o))}},{key:"setTimelineTotalTime",value:function(e){var t=e,r=e;+t+""===t&&(t=+t,r=q(this.fps,t)),G(this.fps,r)<this.displayEndTime&&(this.displayEndTime=G(this.fps,r),this.displayStartTime=0),this.totalTimecode=r,this.totalTime=G(this.fps,r)}},{key:"getTimelineObject",value:function(e){return this.animations.find((function(t){return t.id===e}))}},{key:"getDefaultPropertyValue",value:function(e){switch(e){case"mix-blend-mode":return"normal";case"rotate":return"0deg";case"box-shadow":return"0px 0px 0px 0px rgba(0, 0, 0, 1)";case"text-shadow":return"0px 0px 0px rgba(0, 0, 0, 1)";case"opacity":return 1;default:return""}}},{key:"setFps",value:function(e){this.fps=e,this.currentTimecode=z(e,this.currentTime),this.totalTimecode=z(e,this.totalTime)}}])&&fa(t.prototype,r),n&&fa(t,n),e}();function ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fps:60,duration:1e3,container:"body"},r=T(t.fps)?60:+t.fps,n=T(t.container)?"body":t.container,o=T(t.speed)?1:+t.speed,i=T(t.duration)?1e3:+t.duration,u=T(t.iterationCount)?1:+t.iterationCount,a=T(t.direction)?"normal":t.direction,c=!T(t.debug)&&t.debug,l=function(){},s=function(){},f=function(){},p=function(){},y=function(){};M(t.onTick)&&(l=t.onTick),M(t.onStart)&&(s=t.onStart),M(t.onEnd)&&(f=t.onEnd),M(t.onFirst)&&(p=t.onFirst),M(t.onLast)&&(y=t.onLast);var h=new pa(e,{debug:c,fps:r,container:n,totalTimecode:z(r,i/1e3)}),v=U({speed:o,duration:i,iterationCount:u,direction:a,startCallback:s,endCallback:f,firstCallback:p,lastCallback:y,tick:function(e,t){h.seek(z(h.fps,e/1e3)),l(e,t,r),c&&console.log("tick : ",h.fps,e,t)}});return{get elapsed(){return v.elapsed},get fps(){return h.fps},get totalTime(){return h.totalTime},get currentTime(){return h.currentTime},play:function(){v.play()},stop:function(){v.stop()},pause:function(){v.pause()}}}r.d(t,"Player",(function(){return ya}));t.default={Player:ya}}])}));