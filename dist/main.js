!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.anipa=e():t.anipa=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"debounce",(function(){return O})),r.d(n,"throttle",(function(){return j})),r.d(n,"keyEach",(function(){return k})),r.d(n,"keyMap",(function(){return w})),r.d(n,"get",(function(){return P})),r.d(n,"defaultValue",(function(){return S})),r.d(n,"isUndefined",(function(){return T})),r.d(n,"isNotUndefined",(function(){return C})),r.d(n,"isArray",(function(){return E})),r.d(n,"isBoolean",(function(){return R})),r.d(n,"isString",(function(){return _})),r.d(n,"isNotString",(function(){return A})),r.d(n,"isObject",(function(){return D})),r.d(n,"isFunction",(function(){return M})),r.d(n,"isNumber",(function(){return I})),r.d(n,"clone",(function(){return L})),r.d(n,"cleanObject",(function(){return X})),r.d(n,"combineKeyArray",(function(){return Y})),r.d(n,"repeat",(function(){return F})),r.d(n,"CSS_TO_STRING",(function(){return N})),r.d(n,"STRING_TO_CSS",(function(){return V}));var o={};r.r(o),r.d(o,"round",(function(){return H})),r.d(o,"degreeToRadian",(function(){return Z})),r.d(o,"radianToDegree",(function(){return Q})),r.d(o,"getXInCircle",(function(){return $})),r.d(o,"getYInCircle",(function(){return J})),r.d(o,"getXYInCircle",(function(){return K})),r.d(o,"getDist",(function(){return W})),r.d(o,"calculateAngle",(function(){return tt})),r.d(o,"uuid",(function(){return rt})),r.d(o,"uuidShort",(function(){return nt}));var i={};r.r(i),r.d(i,"ReverseXyz",(function(){return Gt})),r.d(i,"ReverseRGB",(function(){return zt})),r.d(i,"XYZtoRGB",(function(){return qt})),r.d(i,"LABtoXYZ",(function(){return Ut})),r.d(i,"PivotXyz",(function(){return Ht})),r.d(i,"XYZtoLAB",(function(){return Zt})),r.d(i,"LABtoRGB",(function(){return Qt}));var u={};r.r(u),r.d(u,"RGBtoHSV",(function(){return $t})),r.d(u,"RGBtoCMYK",(function(){return Jt})),r.d(u,"RGBtoHSL",(function(){return Kt})),r.d(u,"c",(function(){return Wt})),r.d(u,"gray",(function(){return te})),r.d(u,"RGBtoSimpleGray",(function(){return ee})),r.d(u,"RGBtoGray",(function(){return re})),r.d(u,"brightness",(function(){return ne})),r.d(u,"RGBtoYCrCb",(function(){return oe})),r.d(u,"PivotRGB",(function(){return ie})),r.d(u,"RGBtoXYZ",(function(){return ue})),r.d(u,"RGBtoLAB",(function(){return ae}));var a={};r.r(a),r.d(a,"HUEtoRGB",(function(){return ce})),r.d(a,"HSLtoHSV",(function(){return le})),r.d(a,"HSLtoRGB",(function(){return se}));var c={};r.r(c),r.d(c,"isColor",(function(){return ge})),r.d(c,"matches",(function(){return de})),r.d(c,"convertMatches",(function(){return be})),r.d(c,"convertMatchesArray",(function(){return me})),r.d(c,"reverseMatches",(function(){return Oe})),r.d(c,"trim",(function(){return ke})),r.d(c,"parse",(function(){return we})),r.d(c,"parseGradient",(function(){return Pe}));var l={};r.r(l),r.d(l,"format",(function(){return Ie})),r.d(l,"hex",(function(){return Le})),r.d(l,"rgb",(function(){return Xe})),r.d(l,"hsl",(function(){return Ye}));var s={};r.r(s),r.d(s,"randomNumber",(function(){return Fe})),r.d(s,"random",(function(){return Ne}));var f={};r.r(f),r.d(f,"CMYKtoRGB",(function(){return Ve}));var p={};r.r(p),r.d(p,"HSVtoRGB",(function(){return Be})),r.d(p,"HSVtoHSL",(function(){return Ge}));var h={};r.r(h),r.d(h,"YCrCbtoRGB",(function(){return ze}));var v={};function g(t){return function(t){if(Array.isArray(t))return t}(t)||b(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){var r=void 0;return function(n,o,i,u,a){r&&clearTimeout(r),r=setTimeout((function(){t(n,o,i,u,a)}),e||300)}}function j(t,e){var r=void 0;return function(n,o,i,u,a){r||(r=setTimeout((function(){t(n,o,i,u,a),r=null}),e||300))}}function k(t,e){Object.keys(t).forEach((function(r,n){e(r,t[r],n)}))}function w(t,e){return Object.keys(t).map((function(r,n){return e(r,t[r],n)}))}function P(t,e,r){var n=S(t[e],e);return M(r)?r(n):n}function S(t,e){return void 0===t?e:t}function T(t){return null==t}function C(t){return!1===T(t)}function E(t){return Array.isArray(t)}function R(t){return"boolean"==typeof t}function _(t){return"string"==typeof t}function A(t){return!1===_(t)}function D(t){return"object"==m(t)&&!E(t)&&!I(t)&&!_(t)&&null!==t}function M(t){return"function"==typeof t}function I(t){return"number"==typeof t}function L(t){return JSON.parse(JSON.stringify(t))}function X(t){var e={};return Object.keys(t).filter((function(e){return!!t[e]})).forEach((function(r){e[r]=t[r]})),e}function Y(t){return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].join(", "))})),t}function F(t){return d(Array(t))}function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t;return Object.keys(r).filter((function(t){return r[t]})).map((function(t){return"".concat(t,": ").concat(r[t])})).join(";"+e)}function V(t){var e={};return(t+="").split(";").forEach((function(t){var r=g(t.split(":").map((function(t){return t.trim()}))),n=r[0],o=r.slice(1);""!=n&&(e[n]=o.join(":"))})),e}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(t,e){if(_(e)){var r=B(e.split(":"),4),n=r[0],o=r[1],i=r[2],u=r[3];return 3600*(n=parseInt(n,10))+60*(o=parseInt(o,10))+(i=parseInt(i,10))+(u=parseInt(u,10))*(1/t)}return I(e)?e/t:0}function z(t,e){var r=Math.floor(e/3600),n=Math.floor(e/60%60),o=Math.floor(e%60),i=Math.round((e-Math.floor(e))*t);return i===t&&(i=0,60===(o+=1)&&60===(n+=1)&&(r+=1)),[r,n,o,i].map((function(t){return(t+"").padStart(2,"0")})).join(":")}function q(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return z(t,G(t,e)-G(t,r))}function U(t){var e={id:0,start:0,speed:t.speed||1,elapsed:t.elapsed||0,duration:t.duration||0,iterationStartCount:1,iterationCount:t.iterationCount||Number.MAX_SAFE_INTEGER,direction:t.direction||"normal",log:[],logIndex:0,tick:t.tick||function(){},startCallback:t.start||function(){},endCallback:t.end||function(){},firstCallback:t.first||function(){},lastCallback:t.last||function(){}},r=function(t){return"normal"===e.direction||"reverse"!==e.direction&&("alternate"===e.direction?e.iterationStartCount%2==1:"alternate-reverse"===e.direction?e.iterationStartCount%2==0:void 0)?t:1-t},n=function(t){var n=!1;null===e.start&&(e.start=t,n=!0);var u=t-e.start;e.elapsed+=u*e.speed,e.start=t,e.elapsed>e.duration&&(e.elapsed=e.duration);var a=r(e.elapsed/e.duration)*e.duration;n&&e.startCallback(a,e),e.log[e.logIndex++]={elapsed:a,dt:e.lastTime-a},e.lastTime=a,e.tick(a,e),e.elapsed===e.duration?i():o()},o=function(){e.id=requestAnimationFrame(n)},i=function(){e.endCallback(e.elapsed,e),e.iterationStartCount++,e.iterationStartCount>e.iterationCount?(e.lastCallback(e.elapsed,e),cancelAnimationFrame(e.id)):(e.start=null,e.elapsed=0,o())},u=function(t){e.elapsed=t,e.tick(e.elapsed,e)};return{play:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.start=null,e.iterationStartCount=1,e.log=[],e.lastTime=0,e.logIndex=0,I(t.elapsed)&&(e.elapsed=t.elapsed),I(t.speed)&&(e.speed=t.speed),I(t.duration)&&(e.duration=t.duration),I(t.iterationCount)&&(e.iterationCount=t.iterationCount||Number.MAX_SAFE_INTEGER),_(t.direction)&&(e.direction=t.direction),M(t.tick)&&(e.tick=t.tick),M(t.start)&&(e.startCallback=t.start),M(t.end)&&(e.endCallback=t.end),M(t.first)&&(e.firstCallback=t.first),M(t.last)&&(e.lastCallback=t.last),e.firstCallback(e.elapsed,e),o()},stop:function(){cancelAnimationFrame(e.id)},tick:n,first:function(t){u(0)},last:function(t){u(e.duration)},seek:u,timer:e}}function H(t,e){return e=T(e)?1:e,Math.round(t*e)/e}function Z(t){return t*Math.PI/180}function Q(t){var e=180*t/Math.PI;return e<0&&(e=360+e),e}function $(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+e*Math.cos(Z(t))}function J(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+e*Math.sin(Z(t))}function K(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:$(t,e,r),y:J(t,e,n)}}function W(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Math.sqrt(Math.pow(Math.abs(r-t),2)+Math.pow(Math.abs(n-e),2))}function tt(t,e){return Q(Math.atan2(e,t))}r.r(v),r.d(v,"interpolateRGB",(function(){return qe})),r.d(v,"interpolateRGBObject",(function(){return Ue})),r.d(v,"scale",(function(){return He})),r.d(v,"blend",(function(){return Ze})),r.d(v,"mix",(function(){return Qe})),r.d(v,"contrast",(function(){return $e})),r.d(v,"contrastColor",(function(){return Je})),r.d(v,"gradient",(function(){return Ke})),r.d(v,"scaleHSV",(function(){return We})),r.d(v,"scaleH",(function(){return tr})),r.d(v,"scaleS",(function(){return er})),r.d(v,"scaleV",(function(){return rr}));var et=/[xy]/g;function rt(){var t=(new Date).getTime();return"xxx12-xx-34xx".replace(et,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)}))}function nt(){var t=(new Date).getTime();return"idxxxxxxx".replace(et,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)}))}var ot={linear:!0,ease:!0,"ease-in":!0,"ease-out":!0,"ease-in-out":!0},it=[[0,0,1,1,"linear",!0],[.25,.1,.25,1,"ease",!0],[.42,0,1,1,"ease-in",!0],[0,0,.58,1,"ease-out",!0],[.47,0,.745,.715,"ease-in-sine"],[.39,.575,.565,1,"ease-out-sine"],[.445,.05,.55,.95,"ease-in-out-sine"],[.55,.085,.68,.53,"ease-in-quad"],[.25,.46,.45,.94,"ease-out-quad"],[.455,.03,.515,.955,"ease-in-out-quad"],[.55,.055,.675,.19,"ease-in-cubic"],[.215,.61,.355,1,"ease-out-cubic"],[.645,.045,.355,1,"ease-in-out-cubic"],[.895,.03,.685,.22,"ease-in-quart"],[.165,.84,.44,1,"ease-out-quart"],[.77,0,.175,1,"ease-in-out-quart"],[.6,.04,.98,.335,"ease-in-circ"],[.075,.82,.165,1,"ease-out-circ"],[.785,.135,.15,.86,"ease-in-out-circ"],[.95,.05,.795,.035,"ease-in-expo"],[.19,1,.22,1,"ease-out-expo"],[1,0,0,1,"ease-in-out-expo"],[.755,.05,.855,.06,"ease-in-quint"],[.23,1,.32,1,"ease-out-quint"],[.86,0,.07,1,"ease-in-out-quint"],[.6,-.28,.735,.045,"ease-in-back"],[.175,.885,.32,1.275,"ease-out-back"],[.68,-.55,.265,1.55,"ease-in-out-back"]],ut=function(t){if("string"==typeof t){if(ot[t])return it.filter((function(e){return e[4]===t}))[0];var e=t.replace("cubic-bezier","").replace("(","").replace(")","").split(",");return e=e.map((function(t){return parseFloat(t.trim())}))}return t},at=function(t,e,r,n){var o=[t,e,r,n];return function(t){return yt(o,t)}},ct=function(t,e,r){var n=[t,e,r];return function(t){return ht(n,t)}},lt=function(t,e,r,n,o,i,u,a){for(var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1e3,l=at({x:t,y:e},{x:r,y:n},{x:o,y:i},{x:u,y:a}),s=0,f=l(0),p=0;p<=c;p++){var y=p/c,h=l(y);s+=W(f.x,f.y,h.x,h.y),f=h}return s},st=function(t,e,r,n,o,i){for(var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3,a=ct({x:t,y:e},{x:r,y:n},{x:o,y:i}),c=0,l=a(0),s=0;s<=u;s++){var f=s/u,p=a(f);c+=W(l.x,l.y,p.x,p.y),l=p}return c},ft=function(t){var e=ut(t),r={x:e[0],y:e[1]},n={x:e[2],y:e[3]};return at({x:0,y:0},r,n,{x:1,y:1})},pt=function(t,e,r){return{x:t.x+(e.x-t.x)*r,y:t.y+(e.y-t.y)*r}},yt=function(t,e){var r=pt(t[0],t[1],e),n=pt(t[1],t[2],e),o=pt(t[2],t[3],e),i=pt(r,n,e),u=pt(n,o,e);return pt(i,u,e)},ht=function(t,e){var r=pt(t[0],t[1],e),n=pt(t[1],t[2],e);return pt(r,n,e)};function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var dt={center:50,top:0,left:0,right:100,bottom:100},bt=function t(){gt(this,t)};bt.CENTER="center",bt.TOP="top",bt.RIGHT="right",bt.LEFT="left",bt.BOTTOM="bottom";var mt=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi,Ot=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(gt(this,t),this.value=e,I(this.value)&&isNaN(this.value))throw new Error("NaN is not able to set");this.unit=r}var e,r,n;return e=t,r=[{key:Symbol.toPrimitive,value:function(t){return"number"==t?this.value:this.toString()}},{key:"toString",value:function(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return"var(--".concat(this.value,")");case"calc":return"calc(".concat(this.value,")");default:return this.value+this.unit}}},{key:"isUnitType",value:function(t){return this.unit===t}},{key:"isCalc",value:function(){return this.isUnitType("calc")}},{key:"isFr",value:function(){return this.isUnitType("fr")}},{key:"isPercent",value:function(){return this.isUnitType("%")}},{key:"isPx",value:function(){return this.isUnitType("px")}},{key:"isEm",value:function(){return this.isUnitType("em")}},{key:"isDeg",value:function(){return this.isUnitType("deg")}},{key:"isTurn",value:function(){return this.isUnitType("turn")}},{key:"isSecond",value:function(){return this.isUnitType("s")}},{key:"isMs",value:function(){return this.isUnitType("ms")}},{key:"isNumber",value:function(){return this.isUnitType("number")}},{key:"isString",value:function(){return this.isUnitType("")}},{key:"isVar",value:function(){return this.isUnitType("--")}},{key:"isNaN",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return I(this.value)&&isNaN(this.value)}))},{key:"set",value:function(t){return this.value=t,this}},{key:"add",value:function(t){return this.value+=+t,this}},{key:"sub",value:function(t){return this.add(-1*t)}},{key:"mul",value:function(t){return this.value*=+t,this}},{key:"div",value:function(t){return this.value/=+t,this}},{key:"mod",value:function(t){return this.value%=+t,this}},{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"getUnitName",value:function(){return"%"===this.unit?"percent":this.unit}},{key:"toJSON",value:function(){return{value:this.value,unit:this.unit}}},{key:"rate",value:function(t){return t/this.value}},{key:"stringToPercent",value:function(){return C(dt[this.value])?t.percent(dt[this.value]):t.percent(0)}},{key:"stringToEm",value:function(t){return this.stringToPercent().toEm(t)}},{key:"stringToPx",value:function(t){return this.stringToPercent().toPx(t)}},{key:"toPercent",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?this.clone():this.isPx()?t.percent(100*this.value/e):this.isEm()?t.percent(this.value*r*100/e):this.isString()?this.stringToPercent(e):this.isDeg()?t.percent(this.value/360*100):void 0}},{key:"toEm",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?t.em(this.value/100*e/r):this.isPx()?t.em(this.value/r):this.isEm()?this.clone():this.isString()?this.stringToEm(e):void 0}},{key:"toPx",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.isPercent()?t.px(this.value/100*e):this.isPx()?this.clone():this.isEm()?t.px(this.value/100*e/16):this.isString()?this.stringToPx(e):void 0}},{key:"toDeg",value:function(){return this.isDeg()?this.clone():this.isTurn()?t.deg(360*this.value):void 0}},{key:"toTurn",value:function(){return this.isTurn()?this.clone():this.isDeg()?t.turn(this.value/360):void 0}},{key:"toSecond",value:function(){return this.isSecond()?this:this.isMs()?t.second(this.value/1e3):void 0}},{key:"toMs",value:function(){return this.isSecond()?t.ms(1e3*this.value):this.isMs()?this:void 0}},{key:"to",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return"px"===t?this.toPx(e,r):"%"===t||"percent"===t?this.toPercent(e,r):"em"===t?this.toEm(e,r):"deg"===t?this.toDeg():"turn"===t?this.toTurn():void 0}},{key:"toUnit",value:function(e){return new t(this.value,e)}},{key:"calculate",value:function(t,e){var r=this[t];return r?r.call(this,e):this}},{key:"includes",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.includes(this.value)}},{key:"round",value:function(e){return new t(H(this.value,e),this.unit)}},{key:"equals",value:function(t){return this.is(t.value)&&this.isUnitType(t.unit)}},{key:"is",value:function(t){return this.value===t}}],n=[{key:"min",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.shift(),o=0,i=e.length;o<i;o++)n.value>e[o].value&&(n=e[o]);return n}},{key:"max",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.shift(),o=0,i=e.length;o<i;o++)n.value<e[o].value&&(n=e[o]);return n}},{key:"string",value:function(e){return new t(e+"","")}},{key:"number",value:function(e){return new t(+e,"number")}},{key:"px",value:function(e){return new t(+e,"px")}},{key:"em",value:function(e){return new t(+e,"em")}},{key:"percent",value:function(e){return new t(+e,"%")}},{key:"deg",value:function(e){return new t(+e,"deg")}},{key:"turn",value:function(e){return new t(+e,"turn")}},{key:"fr",value:function(e){return new t(+e,"fr")}},{key:"second",value:function(e){return new t(+e,"s")}},{key:"ms",value:function(e){return new t(+e,"ms")}},{key:"var",value:function(e){return new t(e+"","--")}},{key:"calc",value:function(e){return new t(e,"calc")}},{key:"parse",value:function(e){if(_(e=e||t.number(0))){if((e=e.trim()).indexOf("calc(")>-1)return new t(e.split("calc(")[1].split(")")[0],"calc");var r=e.replace(mt,"$1 $2").split(" ").map((function(t){return t.trim()}));return+r[0]==r[0]?new t(+r[0],r[1]):new t(r[0])}if(e instanceof t)return e;if(e.unit){if("%"==e.unit||"percent"==e.unit){var n=0;return C(e.percent)?n=e.percent:C(e.value)&&(n=e.value),t.percent(n)}if("px"==e.unit)return n=0,C(e.px)?n=e.px:C(e.value)&&(n=e.value),t.px(n);if("em"==e.unit)return n=0,C(e.em)?n=e.em:C(e.value)&&(n=e.value),t.em(n);if("deg"==e.unit)return n=0,C(e.deg)?n=e.deg:C(e.value)&&(n=e.value),t.deg(n);if("turn"==e.unit)return n=0,C(e.deg)?n=e.turn:C(e.value)&&(n=e.value),t.turn(n);if("s"==e.unit)return n=0,C(e.second)?n=e.second:C(e.value)&&(n=e.value),t.second(n);if("ms"==e.unit)return n=0,C(e.ms)?n=e.ms:C(e.value)&&(n=e.value),t.ms(n);if("number"==e.unit)return n=0,C(e.value)&&(n=e.value),t.number(n);if("--"==e.unit)return n=0,C(e.value)&&(n=e.value),t.var(n);if(""===e.unit||"string"===e.unit)return n="",C(e.str)?n=e.str:C(e.value)&&(n=e.value),t.string(n)}return t.string(e)}}],r&&vt(e.prototype,r),n&&vt(e,n),t}();function jt(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return function(t,e){if(0===e)return r;if(1===e)return n;var i=r+(n-r)*t;return o?i+o:i}}function kt(t,e,r){return function(t,e){return r}}function wt(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"width",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"parent",i=null;return r.isPx()?r:("parent"===o?i=Ot.parse(t.parent().css(n)):"self"===o&&(i=Ot.parse(t.css(n))),i?r.toPx(i.value):r)}function Pt(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent",u=Ot.parse(r),a=Ot.parse(n);return u.unit===a.unit?jt(t,e,u.value,a.value,u.unit):u.equals(a)?kt(0,0,u):function(r,n){var c=wt(t,e,u,o,i),l=wt(t,e,a,o,i);return 0===n?c:1===n?l:function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent";if(r.isPx()&&"px"===n)return r;var u=null;return"parent"===i?u=Ot.parse(t.parent().css(o)).value:"self"===i&&(u=Ot.parse(t.css(o)).value),null!=u?r.to(n,u):r}(t,e,Ot.px(c.value+(l.value-c.value)*r),u.unit,o,i)}}function St(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Ot.auto=Ot.string("auto");var xt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"parseStyle",value:function(t){var e={isAll:!0,"border-radius":Ot.px(0),"border-top-left-radius":Ot.px(0),"border-top-right-radius":Ot.px(0),"border-bottom-right-radius":Ot.px(0),"border-bottom-left-radius":Ot.px(0)},r=t.split(" ").filter((function(t){return Ot.parse(t)}));return 1===r.length?(e.isAll=!0,e["border-radius"]=r[0]):(e.isAll=!1,e["border-top-left-radius"]=r[0],e["border-top-right-radius"]=r[1],e["border-bottom-right-radius"]=r[2],e["border-bottom-left-radius"]=r[3]),e}}],(r=null)&&St(e.prototype,r),n&&St(e,n),t}(),Tt=function(t){return t.isAll?[t["border-radius"]||"0px",t["border-radius"]||"0px",t["border-radius"]||"0px",t["border-radius"]||"0px"]:[t["border-top-left-radius"]||"0px",t["border-top-right-radius"]||"0px",t["border-bottom-right-radius"]||"0px",t["border-bottom-left-radius"]||"0px"]};function Ct(t,e,r,n){for(var o=Tt(xt.parseStyle(r)),i=Tt(xt.parseStyle(n)),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++)a[c]=Pt(t,e,o[c],i[c]);return function(t,e){return a.map((function(r){return r(t,e)})).join(" ")}}function Et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Et(r,!0).forEach((function(e){_t(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Et(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function At(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dt(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Mt=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r instanceof t&&(r=r.toJSON()),this.json=this.convert(Object.assign({},this.getDefaultObject(),r)),this.ref=new Proxy(this,{get:function(t,e){var r=t[e];return M(r)?function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r.apply(t,n)}:r||t.json[e]},set:function(t,r,n){if(n&&n.realVal&&M(n.realVal)&&(n=n.realVal()),!e.checkField(r,n))throw new Error("".concat(n," is invalid as ").concat(r," property value."));return t.json[r]=n,!0}}),this.ref}var e,r,n;return e=t,(r=[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"isAttribute",value:function(){return!1}},{key:"recover",value:function(){}},{key:"setCache",value:function(){}},{key:"is",value:function(){if(!this.json)return!1;for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.indexOf(this.json.itemType)>-1}},{key:"isNot",value:function(){return!1===this.is.apply(this,arguments)}},{key:"convert",value:function(t){var e=this;return t.layers.forEach((function(t){t.parent=e.ref})),t}},{key:"checkField",value:function(t,e){return!0}},{key:"toCloneObject",value:function(){return{itemType:this.json.itemType,elementType:this.json.elementType,type:this.json.type,visible:this.json.visible,lock:this.json.lock,selected:this.json.selected,layers:this.json.layers.map((function(t){return t.clone()}))}}},{key:"clone",value:function(){var t=new(0,this.constructor)(this.toCloneObject());return t.parent=this.json.parent,t}},{key:"reset",value:function(e){e instanceof t&&(e=e.toJSON()),this.json=this.convert(Rt({},this.json,{},e))}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Rt({layers:[]},t)}},{key:"add",value:function(t){return this.json.layers.push(t),t.parent=this.ref,t}},{key:"toggle",value:function(t,e){T(e)?this.json[t]=!this.json[t]:this.json[t]=!!e}},{key:"toJSON",value:function(){return this.json}},{key:"resize",value:function(){}},{key:"copy",value:function(){return this.json.parent.copyItem(this.ref)}},{key:"copyItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=t.clone();r.setScreenX(r.screenX.value+e),r.setScreenY(r.screenY.value+e);for(var n=this.json.layers,o=-1,i=0,u=n.length;i<u;i++)if(n[i]===t){o=i;break}return o>-1&&this.json.layers.splice(o+1,0,r),r}},{key:"remove",value:function(){this.json.parent.removeItem(this.ref)}},{key:"removeItem",value:function(t){for(var e=this.json.layers,r=-1,n=0,o=e.length;n<o;n++)if(e[n]===t){r=n;break}r>-1&&this.json.layers.splice(r,1)}},{key:"searchById",value:function(t){if(this.id===t)return this.ref;for(var e=0,r=this.layers.length;e<r;e++){var n=this.layers[e];if(n.id===t)return n;var o=n.searchById(t);if(o)return o}return null}},{key:"title",get:function(){return this.json.name||this.getDefaultTitle()}},{key:"id",get:function(){return this.json.id}},{key:"layers",get:function(){return this.json.layers}},{key:"parent",get:function(){return this.json.parent}},{key:"html",get:function(){var t=this.json,e=t.elementType,r=t.id,n=t.layers,o=t.itemType,i=e||"div";return"\n    <".concat(i," class='element-item ").concat(o,"' data-id=\"").concat(r,'">\n      ').concat(n.map((function(t){return t.html})).join(""),"\n    </").concat(i,">\n    ")}},{key:"allLayers",get:function(){return Dt(function t(e){var r=[];return e.layers.length&&e.layers.forEach((function(e){r.push.apply(r,Dt(t(e)))})),r.push(e),r}(this.ref))}}])&&At(e.prototype,r),n&&At(e,n),t}();function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xt(t,e){return!e||"object"!==It(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Xt(this,Yt(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(e,t),r=e,(n=[{key:"isAttribute",value:function(){return!0}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return N(this.toCSS())}}])&&Lt(r.prototype,n),o&&Lt(r,o),e}(Mt),Vt={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)"};var Bt={isColorName:function(t){return!!Vt[t]},getColorByName:function(t){return Vt[t]}};function Gt(t){return Math.pow(t,3)>.008856?Math.pow(t,3):(t-16/116)/7.787}function zt(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}function qt(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.x,e=n.y,r=n.z}var o=t/100,i=e/100,u=r/100,a=3.2406*o+-1.5372*i+-.4986*u,c=-.9689*o+1.8758*i+.0415*u,l=.0557*o+-.204*i+1.057*u;return a=zt(a),c=zt(c),l=zt(l),{r:H(255*a),g:H(255*c),b:H(255*l)}}function Ut(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.l,e=n.a,r=n.b}var o=(t+16)/116,i=e/500+o,u=o-r/200;return o=Gt(o),{x:95.047*(i=Gt(i)),y:100*o,z:108.883*(u=Gt(u))}}function Ht(t){return t>.008856?Math.pow(t,1/3):(7.787*t+16)/116}function Zt(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.x,e=n.y,r=n.z}var o=t/95.047,i=e/100,u=r/108.883;return o=Ht(o),{l:116*(i=Ht(i))-16,a:500*(o-i),b:200*(i-(u=Ht(u)))}}function Qt(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.l,e=n.a,r=n.b}return qt(Ut(t,e,r))}function $t(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.r,e=n.g,r=n.b}var o=t/255,i=e/255,u=r/255,a=Math.max(o,i,u),c=a-Math.min(o,i,u),l=0;0==c?l=0:a==o?l=(i-u)/c%6*60:a==i?l=60*((u-o)/c+2):a==u&&(l=60*((o-i)/c+4)),l<0&&(l=360+l);return{h:l,s:0==a?0:c/a,v:a}}function Jt(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.r,e=n.g,r=n.b}var o=t/255,i=e/255,u=r/255,a=1-Math.max(o,i,u);return{c:(1-o-a)/(1-a),m:(1-i-a)/(1-a),y:(1-u-a)/(1-a),k:a}}function Kt(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.r,e=n.g,r=n.b}t/=255,e/=255,r/=255;var o,i,u=Math.max(t,e,r),a=Math.min(t,e,r),c=(u+a)/2;if(u==a)o=i=0;else{var l=u-a;switch(i=c>.5?l/(2-u-a):l/(u+a),u){case t:o=(e-r)/l+(e<r?6:0);break;case e:o=(r-t)/l+2;break;case r:o=(t-e)/l+4}o/=6}return{h:H(360*o),s:H(100*i),l:H(100*c)}}function Wt(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.r,e=n.g,r=n.b}return te((t+e+r)/3>90?0:255)}function te(t){return{r:t,g:t,b:t}}function ee(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.r,e=n.g,r=n.b}return te(Math.ceil((t+e+r)/3))}function re(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.r,e=n.g,r=n.b}return te(oe(t,e,r).y)}function ne(t,e,r){return Math.ceil(.2126*t+.7152*e+.0722*r)}function oe(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.r,e=n.g,r=n.b}var o=ne(t,e,r);return{y:o,cr:.713*(t-o),cb:.564*(r-o)}}function ie(t){return 100*(t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)}function ue(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.r,e=n.g,r=n.b}var o=t/255,i=e/255,u=r/255;return{x:.4124*(o=ie(o))+.3576*(i=ie(i))+.1805*(u=ie(u)),y:.2126*o+.7152*i+.0722*u,z:.0193*o+.1192*i+.9505*u}}function ae(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.r,e=n.g,r=n.b}return Zt(ue(t,e,r))}function ce(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function le(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.h,e=n.s,r=n.l}var o=se(t,e,r);return $t(o.r,o.g,o.b)}function se(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.h,e=n.s,r=n.l}var o,i,u;if(t/=360,r/=100,0==(e/=100))o=i=u=r;else{var a=r<.5?r*(1+e):r+e-r*e,c=2*r-a;o=ce(c,a,t+1/3),i=ce(c,a,t),u=ce(c,a,t-1/3)}return{r:H(255*o),g:H(255*i),b:H(255*u)}}function fe(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ye(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pe(r,!0).forEach((function(e){he(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pe(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function he(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ve=/(#(?:[\da-f]{3}){1,2}|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function ge(t){return!!de(t).length}function de(t){var e=t.match(ve),r=[];if(!e)return r;for(var n=0,o=e.length;n<o;n++)if(e[n].indexOf("#")>-1||e[n].indexOf("rgb")>-1||e[n].indexOf("hsl")>-1)r.push({color:e[n]});else{var i=Bt.getColorByName(e[n]);i&&r.push({color:e[n],nameColor:i})}var u={next:0};return r.forEach((function(e){var r=t.indexOf(e.color,u.next);e.startIndex=r,e.endIndex=r+e.color.length,u.next=e.endIndex})),r}function be(t){var e=de(t);return e.forEach((function(e,r){t=t.replace(e.color,"@"+r)})),{str:t,matches:e}}function me(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=be(t);return r.str.split(e).map((function(t,e){return t=ke(t),r.matches[e]&&(t=t.replace("@"+e,r.matches[e].color)),t}))}function Oe(t,e){return e.forEach((function(e,r){t=t.replace("@"+r,e.color)})),t}var je=/^\s+|\s+$/g;function ke(t){return t.replace(je,"")}function we(t){if(_(t)){if(Bt.isColorName(t)&&(t=Bt.getColorByName(t)),t.indexOf("rgb(")>-1){for(var e=0,r=(n=t.replace("rgb(","").replace(")","").split(",")).length;e<r;e++)n[e]=parseInt(ke(n[e]),10);return i=ye({},i={type:"rgb",r:n[0],g:n[1],b:n[2],a:1},{},Kt(i))}if(t.indexOf("rgba(")>-1){for(e=0,r=(n=t.replace("rgba(","").replace(")","").split(",")).length;e<r;e++)n[e]=r-1==e?parseFloat(ke(n[e])):parseInt(ke(n[e]),10);return i=ye({},i={type:"rgb",r:n[0],g:n[1],b:n[2],a:n[3]},{},Kt(i))}if(t.indexOf("hsl(")>-1){for(e=0,r=(n=t.replace("hsl(","").replace(")","").split(",")).length;e<r;e++)n[e]=parseFloat(ke(n[e]));return i=ye({},i={type:"hsl",h:n[0],s:n[1],l:n[2],a:1},{},se(i))}if(t.indexOf("hsla(")>-1){for(e=0,r=(n=t.replace("hsla(","").replace(")","").split(",")).length;e<r;e++)n[e]=r-1==e?parseFloat(ke(n[e])):parseInt(ke(n[e]),10);return i=ye({},i={type:"hsl",h:n[0],s:n[1],l:n[2],a:n[3]},{},se(i))}if(0==t.indexOf("#")){var n=[];if(3==(t=t.replace("#","")).length)for(e=0,r=t.length;e<r;e++){var o=t.substr(e,1);n.push(parseInt(o+o,16))}else for(e=0,r=t.length;e<r;e+=2)n.push(parseInt(t.substr(e,2),16));return i=ye({},i={type:"hex",r:n[0],g:n[1],b:n[2],a:1},{},Kt(i))}}else if(I(t)){var i;if(0<=t&&t<=16777215)return i=ye({},i={type:"hex",r:(16711680&t)>>16,g:(65280&t)>>8,b:(255&t)>>0,a:1},{},Kt(i));if(0<=t&&t<=4294967295)return i=ye({},i={type:"hex",r:(4278190080&t)>>24,g:(16711680&t)>>16,b:(65280&t)>>8,a:(255&t)/255},{},Kt(i))}return t}function Pe(t){_(t)&&(t=me(t));var e=(t=t.map((function(t){if(_(t)){var e=be(t),r=ke(e.str).split(" ");return r[1]?r[1].indexOf("%")>-1?r[1]=parseFloat(r[1].replace(/%/,""))/100:r[1]=parseFloat(r[1]):r[1]="*",r[0]=Oe(r[0],e.matches),r}if(Array.isArray(t))return t[1]?_(t[1])&&(t[1].indexOf("%")>-1?t[1]=parseFloat(t[1].replace(/%/,""))/100:t[1]=+t[1]):t[1]="*",fe(t)}))).filter((function(t){return"*"===t[1]})).length;if(e>0){var r=(1-t.filter((function(t){return"*"!=t[1]&&1!=t[1]})).map((function(t){return t[1]})).reduce((function(t,e){return t+e}),0))/e;t.forEach((function(e,n){"*"==e[1]&&n>0&&(t.length-1==n||(e[1]=r))}))}return t}function Se(t){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Te(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ee(t,e){return!e||"object"!==Se(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Re(t,e,r){return(Re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_e(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function _e(t){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ae(t,e){return(Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var De=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ee(this,_e(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(e,t),r=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var r=[];if(!t)return r;var n=be(t);return r=n.str.split(",").filter((function(t){return t.trim()})).map((function(t){var r=t.split(" "),o=r.filter((function(t){return"inset"===t})),i=r.filter((function(t){return t.includes("@")})).map((function(t){return n.matches[+t.replace("@","")].color})),u=r.filter((function(t){return"inset"!==t&&!t.includes("@")}));return e.parse({inset:!!o.length,color:i[0]||"rgba(0, 0, 0, 1)",offsetX:Ot.parse(u[0]||"0px"),offsetY:Ot.parse(u[1]||"0px"),blurRadius:Ot.parse(u[2]||"0px"),spreadRadius:Ot.parse(u[3]||"0px")})}))}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(", ")}}],(n=[{key:"getDefaultObject",value:function(){return Re(_e(e.prototype),"getDefaultObject",this).call(this,{itemType:"box-shadow",inset:!1,offsetX:Ot.px(0),offsetY:Ot.px(0),blurRadius:Ot.px(0),spreadRadius:Ot.px(0),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){var t=this.json;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xe(r,!0).forEach((function(e){Te(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xe(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Re(_e(e.prototype),"toCloneObject",this).call(this),{inset:t.inset,offsetX:t.offsetX+"",offsetY:t.offsetY+"",blurRadius:t.blurRadius+"",spreadRadius:t.spreadRadius+"",color:t.color})}},{key:"convert",value:function(t){return(t=Re(_e(e.prototype),"convert",this).call(this,t)).offsetX=Ot.parse(t.offsetX),t.offsetY=Ot.parse(t.offsetY),t.blurRadius=Ot.parse(t.blurRadius),t.spreadRadius=Ot.parse(t.spreadRadius),t}},{key:"toCSS",value:function(){return{"box-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.inset?"inset ":"").concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.spreadRadius," ").concat(t.color)}}])&&Ce(r.prototype,n),o&&Ce(r,o),e}(Nt);function Me(t,e,r,n){return function(t,e){return 1===e?n:r}}function Ie(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),"hex"==e?Le(t):"rgb"==e?Xe(t,r):"hsl"==e?Ye(t):t}function Le(t){Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]});var e=t.r.toString(16);t.r<16&&(e="0"+e);var r=t.g.toString(16);t.g<16&&(r="0"+r);var n=t.b.toString(16);return t.b<16&&(n="0"+n),"#".concat(e).concat(r).concat(n)}function Xe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(E(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),!T(t))return 1==t.a||T(t.a)?isNaN(t.r)?e:"rgb(".concat(t.r,",").concat(t.g,",").concat(t.b,")"):"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")")}function Ye(t){return E(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),1==t.a||T(t.a)?"hsl(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%)"):"hsla(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%,").concat(t.a,")")}function Fe(t,e){return Math.floor(Math.random()*(e-t+1))+t}function Ne(){return Xe({r:Fe(0,255),g:Fe(0,255),b:Fe(0,255)})}function Ve(t,e,r,n){if(1==arguments.length){var o=arguments[0];t=o.c,e=o.m,r=o.y,n=o.k}return{r:255*(1-t)*(1-n),g:255*(1-e)*(1-n),b:255*(1-r)*(1-n)}}function Be(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.h,e=n.s,r=n.v}var o=t,i=r;o>=360&&(o=0);var u=e*i,a=u*(1-Math.abs(o/60%2-1)),c=i-u,l=[];return 0<=o&&o<60?l=[u,a,0]:60<=o&&o<120?l=[a,u,0]:120<=o&&o<180?l=[0,u,a]:180<=o&&o<240?l=[0,a,u]:240<=o&&o<300?l=[a,0,u]:300<=o&&o<360&&(l=[u,0,a]),{r:H(255*(l[0]+c)),g:H(255*(l[1]+c)),b:H(255*(l[2]+c))}}function Ge(t,e,r){if(1==arguments.length){var n=arguments[0];t=n.h,e=n.s,r=n.v}var o=Be(t,e,r);return Kt(o.r,o.g,o.b)}function ze(t,e,r,n){if(1==arguments.length){var o=arguments[0];t=o.y,e=o.cr,r=o.cb;n=(n=o.bit)||0}var i=t+1.402*(e-n),u=t-.344*(r-n)-.714*(e-n),a=t+1.772*(r-n);return{r:Math.ceil(i),g:Math.ceil(u),b:Math.ceil(a)}}function qe(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=Ue(t,e,r);return Ie(o,o.a<1?"rgb":n)}function Ue(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return{r:H(t.r+(e.r-t.r)*r),g:H(t.g+(e.g-t.g)*r),b:H(t.b+(e.b-t.b)*r),a:H(t.a+(e.a-t.a)*r,100)}}function He(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!t)return[];_(t)&&(t=me(t));for(var r=(t=t||[]).length,n=[],o=0;o<r-1;o++)for(var i=0;i<e;i++)n.push(Ze(t[o],t[o+1],i/e));return n}function Ze(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return qe(we(t),we(e),r,n)}function Qe(t,e){return Ze(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex")}function $e(t){return t=we(t),(Math.round(299*t.r)+Math.round(587*t.g)+Math.round(114*t.b))/1e3}function Je(t){return $e(t)>=128?"black":"white"}function Ke(t){for(var e=[],r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:10)-((t=Pe(t)).length-1),n=r,o=1,i=t.length;o<i;o++){var u=t[o-1][0],a=t[o][0],c=1==o?t[o][1]:t[o][1]-t[o-1][1],l=o==t.length-1?n:Math.floor(c*r);e=e.concat(He([u,a],l),[a]),n-=l}return e}function We(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,a=$t(we(t)),c=(i-o)*u/r,l=[],s=1;s<=r;s++)a[e]=Math.abs((u-c*s)/u),l.push(Ie(Be(a),n));return l}function tr(t){return We(t,"h",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:360,1)}function er(t){return We(t,"s",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)}function rr(t){return We(t,"v",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)}function nr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function or(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}He.parula=function(t){return He(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},He.jet=function(t){return He(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},He.hsv=function(t){return He(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},He.hot=function(t){return He(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},He.pink=function(t){return He(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},He.bone=function(t){return He(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},He.copper=function(t){return He(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)};var ir=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nr(r,!0).forEach((function(e){or(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nr(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},s,{},l,{},o,{},v,{},c,{},h,{},u,{},f,{},p,{},a,{},i,{},n);function ur(t,e,r,n){var o=ir.parse(r),i=ir.parse(n);return function(t,e){return 0===e?r:1===e?n:qe(o,i,t,"rgb")}}function ar(t,e,r,n){for(var o=De.parseStyle(r),i=De.parseStyle(n),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||De.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[c]||De.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0];a.push({inset:Me(0,0,s.inset,f.inset),offsetX:Pt(t,e,s.offsetX,f.offsetX),offsetY:Pt(t,e,s.offsetY,f.offsetY),blurRadius:Pt(t,e,s.blurRadius,f.blurRadius),spreadRadius:Pt(t,e,s.spreadRadius,f.spreadRadius),color:ur(0,0,s.color,f.color)})}return function(t,e){return De.join(a.map((function(r){return{inset:r.inset(t,e),offsetX:r.offsetX(t,e),offsetY:r.offsetY(t,e),blurRadius:r.blurRadius(t,e),spreadRadius:r.spreadRadius(t,e),color:r.color(t,e)}})))}}function cr(t,e,r,n){return Me(0,0,r,n)}var lr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return t=+t,function(r){var n=1/t;return"start"==e?n*Math.ceil(r/n):"end"==e?n*Math.floor(r/n):void 0}};function sr(){return lr(1,"start")}function fr(){return lr(1,"end")}var pr=function(){return function(t){return Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1}},yr={step:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return lr(t,e)},"step-start":sr,"step-end":fr,stepStart:sr,stepEnd:fr,"ease-out-elastic":pr,easeOutElastic:pr};function hr(t,e,r){return r.toDeg()}function vr(t,e,r,n){var o=Ot.parse(r),i=Ot.parse(n);return function(t,e){var r=hr(0,0,o),n=hr(0,0,i);return 0===e?r:1===e?n:Ot.deg(r.value+(n.value-r.value)*t).to(o.unit)}}function gr(t){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function br(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Or(t,e){return!e||"object"!==gr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jr(t,e,r){return(jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function kr(t){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wr(t,e){return(wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Or(this,kr(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wr(t,e)}(e,t),r=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var r=be(t);return r.str.split(",").filter((function(t){return t.trim()})).map((function(t){var n=t.split(" "),o=n.filter((function(t){return t.includes("@")})).map((function(t){return r.matches[+t.replace("@","")].color})),i=n.filter((function(t){return!t.includes("@")}));return e.parse({color:o[0]||"rgba(0, 0, 0, 1)",offsetX:Ot.parse(i[0]||"0px"),offsetY:Ot.parse(i[1]||"0px"),blurRadius:Ot.parse(i[2]||"0px")})}))}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(", ")}}],(n=[{key:"getDefaultObject",value:function(){return jr(kr(e.prototype),"getDefaultObject",this).call(this,{itemType:"text-shadow",offsetX:Ot.px(0),offsetY:Ot.px(0),blurRadius:Ot.px(0),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dr(r,!0).forEach((function(e){br(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dr(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},jr(kr(e.prototype),"toCloneObject",this).call(this),{offsetX:this.json.offsetX+"",offsetY:this.json.offsetY+"",blurRadius:this.json.blurRadius+"",color:this.json.color})}},{key:"convert",value:function(t){return(t=jr(kr(e.prototype),"convert",this).call(this,t)).offsetX=Ot.parse(t.offsetX),t.offsetY=Ot.parse(t.offsetY),t.blurRadius=Ot.parse(t.blurRadius),t}},{key:"toCSS",value:function(){return{"text-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color)}}])&&mr(r.prototype,n),o&&mr(r,o),e}(Nt);function Sr(t,e,r,n){for(var o=Pr.parseStyle(r),i=Pr.parseStyle(n),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||Pr.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[c]||Pr.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0];a.push({offsetX:Pt(t,e,s.offsetX,f.offsetX,"width","self"),offsetY:Pt(t,e,s.offsetY,f.offsetY,"height","self"),blurRadius:Pt(t,e,s.blurRadius,f.blurRadius,"radius"),color:ur(0,0,s.color,f.color)})}return function(t,e){return Pr.join(a.map((function(r){return{offsetX:r.offsetX(t,e),offsetY:r.offsetY(t,e),blurRadius:r.blurRadius(t,e),color:r.color(t,e)}})))}}function xr(t){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tr(r,!0).forEach((function(e){Er(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tr(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Er(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _r(t,e){return!e||"object"!==xr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ar(t,e,r){return(Ar="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Dr(t){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mr(t,e){return(Mr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ir=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_r(this,Dr(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mr(t,e)}(e,t),r=e,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ar(Dr(e.prototype),"getDefaultObject",this).call(this,Cr({itemType:"image-resource",type:"image"},t))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}])&&Rr(r.prototype,n),o&&Rr(r,o),e}(Nt);function Lr(t){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xr(r,!0).forEach((function(e){Fr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xr(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vr(t,e){return!e||"object"!==Lr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Br(t,e,r){return(Br="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Gr(t){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zr(t,e){return(zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Vr(this,Gr(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zr(t,e)}(e,t),r=e,o=[{key:"parse",value:function(t){var r=[],n=be(t),o=n.str.split(" ").filter((function(t){return t.trim()})),i=+o[0].replace("@",""),u=n.matches[i].color;if(1===o.length)r.push(new e({color:u,unit:"%",percent:0}));else if(2===o.length){var a=Ot.parse(o[1]),c={unit:a.unit};a.isPercent()?c.percent=a.value:a.isPx()?c.px=a.value:a.isEm()&&(c.em=a.value),r.push(new e(Yr({color:u},c)))}else 3===o.length&&[1,2].forEach((function(t){var n=Ot.parse(o[t]),i={unit:n.unit};n.isPercent()?i.percent=n.value:n.isPx()?i.px=n.value:n.isEm()&&(i.em=n.value),r.push(new e(Yr({color:u},i)))}));return r}}],(n=[{key:"getDefaultObject",value:function(){return Br(Gr(e.prototype),"getDefaultObject",this).call(this,{cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",prevColorStep:null})}},{key:"toCloneObject",value:function(){return Yr({},Br(Gr(e.prototype),"toCloneObject",this).call(this),{cut:this.json.cut,percent:this.json.percent,unit:this.json.unit,px:this.json.px,em:this.json.em,color:this.json.color})}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"getUnit",value:function(){return"%"==this.json.unit?"percent":this.json.unit}},{key:"add",value:function(t){var e=this.getUnit();return this.json[e]+=+t,this}},{key:"sub",value:function(t){var e=this.getUnit();return this.json[e]-=+t,this}},{key:"mul",value:function(t){var e=this.getUnit();return this.json[e]*=+t,this}},{key:"div",value:function(t){var e=this.getUnit();return this.json[e]/=+t,this}},{key:"mod",value:function(t){var e=this.getUnit();return this.json[e]%=+t,this}},{key:"toLength",value:function(t){return Ot.parse(this.json)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():""}},{key:"toString",value:function(){var t=this.json.cut?this.getPrevLength():"";return"".concat(this.json.color," ").concat(t," ").concat(this.toLength())}},{key:"reset",value:function(t){Br(Gr(e.prototype),"reset",this).call(this,t),this.parent()&&this.parent().sortColorStep()}},{key:"isPx",get:function(){return"px"==this.json.unit}},{key:"isPercent",get:function(){return"%"==this.json.unit||"percent"===this.json.unit}},{key:"isEm",get:function(){return"em"==this.json.unit}}])&&Nr(r.prototype,n),o&&Nr(r,o),e}(Mt);function Ur(t){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hr(r,!0).forEach((function(e){Qr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hr(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jr(t,e){return!e||"object"!==Ur(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kr(t,e,r){return(Kr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Wr(t){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tn(t,e){return(tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var en={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},rn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Jr(this,Wr(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tn(t,e)}(e,t),r=e,o=[{key:"random",value:function(){var t=Math.floor(1e3*Math.random())%360;return"linear-gradient(".concat(t,"deg, ").concat(ir.random()," 0%, ").concat(ir.random()," 100%)")}}],(n=[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Kr(Wr(e.prototype),"getDefaultObject",this).call(this,Zr({type:"gradient",colorsteps:[]},t))}},{key:"toCloneObject",value:function(){return Zr({},Kr(Wr(e.prototype),"toCloneObject",this).call(this),{colorsteps:this.json.colorsteps.map((function(t){return t.clone()}))})}},{key:"convert",value:function(t){return t.colorsteps=t.colorsteps.map((function(t){return new qr(t)})),t}},{key:"calculateAngle",value:function(){var t=this.json.angle;return T(en[t])?t:en[t]||0}},{key:"addColorStep",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.json.colorsteps.push(t),e&&this.sortColorStep(),t}},{key:"insertColorStep",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(216,216,216,0)",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(216,216,216,1)",n=this.colorsteps;if(n.length){if(t<n[0].percent)return n[0].index=1,void this.addColorStep(new qr({index:0,color:n[0].color,percent:t}));var o=n.length-1;if(n[o].percent<t){var i=n[o].color,u=n[o].index+1;this.addColorStep(new qr({index:u,color:i,percent:t}))}else for(var a=0,c=n.length-1;a<c;a++){var l=n[a],s=n[a+1];if(l.percent<=t&&t<=s.percent)return i=ir.mix(l.color,s.color,(t-l.percent)/(s.percent-l.percent),"rgb"),void this.addColorStep(new qr({index:l.index+1,color:i,percent:t}))}}else this.addColorStepList([new qr({color:e,percent:t,index:0}),new qr({color:r,percent:100,index:100})])}},{key:"sortColorStep",value:function(){var t=this.colorsteps;t.sort((function(t,e){return t.percent>e.percent?1:t.percent<e.percent?-1:t.percent==e.percent?t.index===e.index?0:t.index>e.index?1:-1:void 0})),t.forEach((function(t,e){t.index=100*e}))}},{key:"addColorStepList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.addColorStep(e,!1)})),this.sortColorStep()}},{key:"getColorStep",value:function(t){return this.json.colorsteps.filter((function(e){return e.id==t}))[0]}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"getColorString",value:function(){var t=this.colorsteps;return t.length?t.map((function(e,r){return e.prevColorStep=e.cut&&r>0?t[r-1]:null,e})).map((function(t){return"".concat(t)})).join(","):""}},{key:"colorsteps",get:function(){return this.json.colorsteps}}])&&$r(r.prototype,n),o&&$r(r,o),e}(Ir);function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function un(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function an(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cn(t,e){return!e||"object"!==nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ln(t,e,r){return(ln="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function sn(t){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fn(t,e){return(fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),cn(this,sn(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fn(t,e)}(e,t),r=e,o=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return new e({colorsteps:[new qr({color:t,percent:0,index:0})]})}}],(n=[{key:"getDefaultObject",value:function(){return ln(sn(e.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new qr({color:"red",percent:0,index:0})]})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?on(r,!0).forEach((function(e){un(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):on(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},ln(sn(e.prototype),"toCloneObject",this).call(this),{static:!0})}},{key:"toString",value:function(){var t=this.json.colorsteps[0].color;return"linear-gradient(to right, ".concat(t,", ").concat(t,")")}},{key:"isStatic",value:function(){return!0}}])&&an(r.prototype,n),o&&an(r,o),e}(rn);function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hn(r,!0).forEach((function(e){gn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hn(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function gn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mn(t,e,r){return e&&bn(t.prototype,e),r&&bn(t,r),t}function On(t,e){return!e||"object"!==yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jn(t,e,r){return(jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function kn(t){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pn(t,e)}function Pn(t,e){return(Pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sn=["jpg","jpeg","png","gif","svg"];var xn=function(t){function e(){return dn(this,e),On(this,kn(e).apply(this,arguments))}return wn(e,t),mn(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jn(kn(e.prototype),"getDefaultObject",this).call(this,vn({type:"url",url:"",datauri:""},t))}},{key:"toCloneObject",value:function(){return vn({},jn(kn(e.prototype),"toCloneObject",this).call(this),{url:this.json.url,datauri:this.json.datauri})}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.json;if(!t)return"url(".concat(e.url,")")}}],[{key:"parse",value:function(t){return new e({url:t.split("(")[1].split(")")[0]})}},{key:"isImageFile",value:function(t){return Sn.includes(t)}}]),e}(Ir);function Tn(t){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cn(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function En(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?En(r,!0).forEach((function(e){_n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):En(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function An(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dn(t,e){return!e||"object"!==Tn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mn(t,e,r){return(Mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=In(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function In(t){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ln(t,e){return(Ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xn={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},Yn={"to top":"0","to top right":"45","to right":"90","to bottom right":"135","to bottom":"180","to bottom left":"225","to left":"270","to top left":"315"},Fn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Dn(this,In(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ln(t,e)}(e,t),r=e,o=[{key:"toLinearGradient",value:function(t){return 0===t.length?"none":new e({angle:"to right",colorsteps:t})+""}},{key:"parse",value:function(t){var r=be(t),n=0,o=[];return r.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){t.includes("@")?(t=Oe(t,r.matches),o.push.apply(o,Cn(qr.parse(t)))):n=T(Yn[t])?Ot.parse(t):Ot.deg(+Yn[t])})),new e({angle:n.value,colorsteps:o})}}],(n=[{key:"getDefaultObject",value:function(t){return Mn(In(e.prototype),"getDefaultObject",this).call(this,Rn({type:"linear-gradient",angle:0},t))}},{key:"toCloneObject",value:function(){return Rn({},Mn(In(e.prototype),"toCloneObject",this).call(this),{angle:this.json.angle})}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e="";return I(e=this.json.angle||0)&&(e=Xn["".concat(e)]||e),I(e)&&(e="".concat(e=e>360?e%360:e,"deg")),"".concat(this.json.type,"(").concat(e,", ").concat(t,")")}}])&&An(r.prototype,n),o&&An(r,o),e}(rn);function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bn(t,e){return!e||"object"!==Nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gn(t,e,r){return(Gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Un,Hn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Bn(this,zn(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}(e,t),r=e,o=[{key:"parse",value:function(t){var r=Fn.parse(t);return new e({angle:r.angle,colorsteps:r.colorsteps})}}],(n=[{key:"getDefaultObject",value:function(){return Gn(zn(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}])&&Vn(r.prototype,n),o&&Vn(r,o),e}(Fn);function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $n(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jn(r,!0).forEach((function(e){oo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jn(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function to(t,e){return!e||"object"!==Zn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eo(t,e,r){return(eo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ro(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function ro(t){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function no(t,e){return(no=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var io=(oo(Un={},"center",!0),oo(Un,"top",!0),oo(Un,"left",!0),oo(Un,"right",!0),oo(Un,"bottom",!0),Un),uo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),to(this,ro(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&no(t,e)}(e,t),r=e,o=[{key:"parse",value:function(t){var r=be(t),n="ellipse",o=[bt.CENTER,bt.CENTER],i=[];return r.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=Oe(t,r.matches),i.push.apply(i,$n(qr.parse(t)));else{if(t.includes("at")){var u=Qn(t.split("at").map((function(t){return t.trim()})),2);n=u[0],o=u[1]}else n=t;if(_(o)){var a=o.split(" ");if(1===a.length){var c=Ot.parse(a[0]);o=c.isString()?[c.value,c.value]:[c.clone(),c.clone()]}else 2===a.length&&(o=a.map((function(t){var e=Ot.parse(t);return e.isString()?e.value:e.clone()})))}}})),new e({radialType:n,radialPosition:o,colorsteps:i})}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return eo(ro(e.prototype),"getDefaultObject",this).call(this,Kn({type:"radial-gradient",radialType:"ellipse",radialPosition:[bt.CENTER,bt.CENTER]},t))}},{key:"toCloneObject",value:function(){return Kn({},eo(ro(e.prototype),"toCloneObject",this).call(this),{radialType:this.json.radialType,radialPosition:L(this.json.radialPosition)})}},{key:"isRadial",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t,e=this.getColorString(),r=this.json,n=r.radialType,o=r.radialPosition||["center","center"];return t=(o=io[o]?o:o.join(" "))?"".concat(n," at ").concat(o):n,"".concat(r.type||"radial-gradient","(").concat(t,", ").concat(e,")")}}])&&Wn(r.prototype,n),o&&Wn(r,o),e}(rn);function ao(t){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function co(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lo(t,e){return!e||"object"!==ao(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function so(t,e,r){return(so="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function fo(t){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function po(t,e){return(po=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yo,ho=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),lo(this,fo(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&po(t,e)}(e,t),r=e,o=[{key:"parse",value:function(t){var r=uo.parse(t);return new e({radialType:r.radialType,radialPosition:r.radialPosition,colorsteps:r.colorsteps})}}],(n=[{key:"getDefaultObject",value:function(){return so(fo(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}])&&co(r.prototype,n),o&&co(r,o),e}(uo);function vo(t){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function go(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bo(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Oo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mo(r,!0).forEach((function(e){xo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mo(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function jo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ko(t,e){return!e||"object"!==vo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wo(t,e,r){return(wo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Po(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Po(t){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function So(t,e){return(So=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var To=(xo(yo={},"center",!0),xo(yo,"top",!0),xo(yo,"left",!0),xo(yo,"right",!0),xo(yo,"bottom",!0),yo),Co={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Eo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ko(this,Po(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&So(t,e)}(e,t),r=e,o=[{key:"parse",value:function(t){var r=be(t),n="0deg",o=[bt.CENTER,bt.CENTER],i=[];return r.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=Oe(t=t.split(" ").map((function(t){return t.trim()})).map((function(t){return t.includes("deg")?Ot.parse(t).toPercent():t})).join(" "),r.matches),i.push.apply(i,bo(qr.parse(t)));else{if(t.includes("at")){var u=go(t.split("at").map((function(t){return t.trim()})),2);n=u[0],o=u[1]}else n=t;if(_(o)){var a=o.split(" ");if(1===a.length){var c=Ot.parse(a[0]);o=c.isString()?[c.value,c.value]:[c.clone(),c.clone()]}else 2===a.length&&(o=a.map((function(t){var e=Ot.parse(t);return e.isString()?e.value:e})))}_(n)&&n.includes("from")&&(n=n.split("from")[1],n=T(Co[n])?Ot.parse(n):Ot.deg(+Co[n]))}})),new e({angle:n.value,radialPosition:o,colorsteps:i})}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wo(Po(e.prototype),"getDefaultObject",this).call(this,Oo({type:"conic-gradient",angle:0,radialPosition:[bt.CENTER,bt.CENTER]},t))}},{key:"toCloneObject",value:function(){return Oo({},wo(Po(e.prototype),"toCloneObject",this).call(this),{angle:this.json.angle,radialPosition:L(this.json.radialPosition)})}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){if(0===this.colorsteps.length)return"";var t=this.colorsteps;return t?(t.sort((function(t,e){return t.percent==e.percent?0:t.percent>e.percent?1:-1})),t.map((function(e,r){return e.prevColorStep=e.cut&&r>0?t[r-1]:null,e})).map((function(t){var e=Math.floor(3.6*t.percent),r="";if(t.cut&&t.prevColorStep){var n=Math.floor(3.6*t.prevColorStep.percent);r="".concat(n,"deg")}return"".concat(t.color," ").concat(r," ").concat(e,"deg")})).join(",")):""}},{key:"toString",value:function(){var t=this.getColorString(),e=[],r=this.json,n=r.angle,o=r.radialPosition||bt.CENTER;o=To[o]?o:o.join(" "),C(n)&&(n=+(Co[n]||n),e.push("from ".concat(n,"deg"))),o&&e.push("at ".concat(o));var i=e.length?e.join(" ")+",":"";return"".concat(r.type,"(").concat(i," ").concat(t,")")}}])&&jo(r.prototype,n),o&&jo(r,o),e}(rn);function Ro(t){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ao(t,e){return!e||"object"!==Ro(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Do(t,e,r){return(Do="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Io(t,e){return(Io=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ao(this,Mo(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Io(t,e)}(e,t),r=e,o=[{key:"parse",value:function(t){var r=Eo.parse(t);return new e({angle:r.angle,radialPosition:r.radialPosition,colorsteps:r.colorsteps})}}],(n=[{key:"getDefaultObject",value:function(){return Do(Mo(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[bt.CENTER,bt.CENTER]})}}])&&_o(r.prototype,n),o&&_o(r,o),e}(Eo);function Xo(t){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function No(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fo(r,!0).forEach((function(e){Vo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fo(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Go(t,e){return!e||"object"!==Xo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zo(t,e,r){return(zo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function qo(t){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uo(t,e){return(Uo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ho,Zo=["repeat","no-repeat","repeat-x","repeat-y"],Qo=/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi,$o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Go(this,qo(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uo(t,e)}(e,t),r=e,o=[{key:"createImage",value:function(t){return new xn({url:t})}},{key:"createGradient",value:function(t,e){var r=t.colorsteps||e.colorsteps,n=t.angle||e.angle,o=t.radialType||e.radialType,i=t.radialPosition||e.radialPosition,u=e.toJSON();switch(delete u.itemType,delete u.type,t.type){case"static-gradient":return new pn(No({},u,{colorsteps:r}));case"linear-gradient":return new Fn(No({},u,{colorsteps:r,angle:n}));case"repeating-linear-gradient":return new Hn(No({},u,{colorsteps:r,angle:n}));case"radial-gradient":return new uo(No({},u,{colorsteps:r,radialType:o,radialPosition:i}));case"repeating-radial-gradient":return new ho(No({},u,{colorsteps:r,radialType:o,radialPosition:i}));case"conic-gradient":return new Eo(No({},u,{colorsteps:r,angle:n,radialPosition:i}));case"repeating-conic-gradient":return new Lo(No({},u,{colorsteps:r,angle:n,radialPosition:i}))}return new rn}},{key:"parse",value:function(t){return new e(t)}},{key:"parseImage",value:function(t){var e=be(t),r=null;return e.str.match(Qo).forEach((function(t,n){(t=Oe(t,e.matches)).includes("repeating-linear-gradient")?r=Hn.parse(t):t.includes("linear-gradient")?r=Fn.parse(t):t.includes("repeating-radial-gradient")?r=ho.parse(t):t.includes("radial")?r=uo.parse(t):t.includes("repeating-conic-gradient")?r=Lo.parse(t):t.includes("conic")?r=Eo.parse(t):t.includes("url")&&(r=xn.parse(t))})),r}},{key:"parseStyle",value:function(t){var r=[];if(t["background-image"]){var n=be(t["background-image"]);n.str.match(Qo).forEach((function(t,o){var i=null;(t=Oe(t,n.matches)).includes("repeating-linear-gradient")?i=Hn.parse(t):t.includes("linear-gradient")?i=Fn.parse(t):t.includes("repeating-radial-gradient")?i=ho.parse(t):t.includes("radial-gradient")?i=uo.parse(t):t.includes("repeating-conic-gradient")?i=Lo.parse(t):t.includes("conic-gradient")?i=Eo.parse(t):t.includes("url")&&(i=xn.parse(t)),r[o]=new e({type:i.type,image:i})}))}return t["background-repeat"]&&t["background-repeat"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){r[e]&&(r[e].repeat=t)})),t["background-blend-mode"]&&t["background-blend-mode"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){r[e]&&(r[e].blendMode=t)})),t["background-size"]&&t["background-size"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(r[e])if("cover"==t||"contain"===t||"auto"===t)r[e].size=t;else{r[e].size="auto";var n=Yo(t.split(" "),2),o=n[0],i=n[1];r[e].width=Ot.parse(o),r[e].height=Ot.parse(i)}})),t["background-position"]&&t["background-position"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(r[e]){var n=Yo(t.split(" "),2),o=n[0],i=n[1];r[e].x=Ot.parse(o),r[e].y=Ot.parse(i)}})),r}},{key:"toPropertyCSS",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};return t.forEach((function(t){k(t.toCSS(e),(function(t,e){r[t]||(r[t]=[]),r[t].push(e)}))})),Y(r)}},{key:"join",value:function(t){return N(e.toPropertyCSS(t.map((function(t){return e.parse(t)}))))}}],(n=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:e.createImage(t.images[0])})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:e.createGradient(t,this.json.image)})}},{key:"getDefaultObject",value:function(){return zo(qo(e.prototype),"getDefaultObject",this).call(this,{itemType:"background-image",checked:!1,blendMode:"normal",size:"auto",repeat:"repeat",width:Ot.percent(100),height:Ot.percent(100),x:Ot.percent(0),y:Ot.percent(0),image:new pn})}},{key:"toCloneObject",value:function(){var t=this.json;return No({},zo(qo(e.prototype),"toCloneObject",this).call(this),{checked:t.checked,blendMode:t.blendMode,size:t.size,repeat:t.repeat,width:t.width+"",height:t.height+"",x:t.x+"",y:t.y+"",image:t.image.clone()})}},{key:"convert",value:function(t){return t.x=Ot.parse(t.x),t.y=Ot.parse(t.y),t.width&&(t.width=Ot.parse(t.width)),t.height&&(t.height=Ot.parse(t.height)),t}},{key:"checkField",value:function(t,r){return"repeat"===t?Zo.includes(r):zo(qo(e.prototype),"checkField",this).call(this,t,r)}},{key:"toBackgroundImageCSS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.json.image?{"background-image":this.json.image.toString(t)}:{}}},{key:"toBackgroundPositionCSS",value:function(){var t=this.json;return{"background-position":"".concat(t.x," ").concat(t.y)}}},{key:"toBackgroundSizeCSS",value:function(){var t=this.json,e="auto";return"contain"==t.size||"cover"==t.size?e=t.size:t.width.isPercent()&&t.width.isPercent()&&100==+t.width&&100==+t.height||(e="".concat(t.width," ").concat(t.height)),{"background-size":e}}},{key:"toBackgroundRepeatCSS",value:function(){return{"background-repeat":this.json.repeat}}},{key:"toBackgroundBlendCSS",value:function(){return{"background-blend-mode":this.json.blendMode}}},{key:"toCSS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=No({},this.toBackgroundImageCSS(t),{},this.toBackgroundPositionCSS(),{},this.toBackgroundSizeCSS(),{},this.toBackgroundRepeatCSS(),{},this.toBackgroundBlendCSS());return e}},{key:"toString",value:function(){return w(this.toCSS(),(function(t,e){return"".concat(t,": ").concat(e)})).join(";")}},{key:"toBackgroundCSS",value:function(){var t=this.toCSS();return{background:"".concat(t["background-image"]," ")}}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&Bo(r.prototype,n),o&&Bo(r,o),e}(Nt);function Jo(t,e,r,n){var o={cut:Me(0,0,r.cut,n.cut),percent:jt(t,e,r.percent,n.percent),px:jt(t,e,r.px,n.px),em:jt(t,e,r.em,n.em),unit:cr(0,0,r.unit,n.unit),color:ur(0,0,r.color,n.color)};return function(t,e){return new qr({cut:o.cut(t,e),percent:o.percent(t,e),px:o.px(t,e),em:o.em(t,e),unit:o.unit(t,e),color:o.color(t,e)})}}function Ko(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Math.max(r.length,n.length),i=[],u=0;u<o;u++){var a=r[u],c=n[u];i[u]=a&&c?Jo(t,e,a,c):Me(0,0,a,c)}return function(t,e){return i.map((function(r){return r(t,e)}))}}function Wo(t,e,r,n){var o={angle:jt(t,e,r.angle,n.angle),colorsteps:Ko(t,e,r.colorsteps,n.colorsteps)};return function(t,e){var r=o.colorsteps(t,e);return new Fn({angle:o.angle(t,e),colorsteps:r})}}function ti(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}ti(Ho={},"center",!0),ti(Ho,"top",!0),ti(Ho,"left",!0),ti(Ho,"right",!0),ti(Ho,"bottom",!0);function ei(t,e){switch(e){case"width":if("center"===t)return"50%";if("left"===t)return"0%";if("right"===t)return"100%";break;case"height":if("center"===t)return"50%";if("top"===t)return"0%";if("bottom"===t)return"100%"}return t}function ri(t,e,r,n){r.radialPosition[0]=ei(r.radialPosition[0],"width"),r.radialPosition[1]=ei(r.radialPosition[1],"height"),n.radialPosition[0]=ei(n.radialPosition[0],"width"),n.radialPosition[1]=ei(n.radialPosition[1],"height");var o={radialType:cr(0,0,r.radialType,n.radialType),radialPositionX:Pt(t,e,r.radialPosition[0],n.radialPosition[0],"width","self"),radialPositionY:Pt(t,e,r.radialPosition[1],n.radialPosition[1],"height","self"),colorsteps:Ko(t,e,r.colorsteps,n.colorsteps)};return function(t,e){return new uo({radialType:o.radialType(t,e),radialPosition:[o.radialPositionX(t,e),o.radialPositionY(t,e)],colorsteps:o.colorsteps(t,e)})}}function ni(t,e,r,n){var o={angle:jt(t,e,r.angle,n.angle),radialPositionX:Pt(t,e,r.radialPosition[0],n.radialPosition[0],"width","self"),radialPositionY:Pt(t,e,r.radialPosition[1],n.radialPosition[1],"height","self"),colorsteps:Ko(t,e,r.colorsteps,n.colorsteps)};return function(t,e){return new Eo({angle:o.angle(t,e),radialPosition:[o.radialPositionX(t,e),o.radialPositionY(t,e)],colorsteps:o.colorsteps(t,e)})}}function oi(t,e,r,n){var o={image:function(t,e){return e}};if("url"===r.type||"url"===n.type)o.image=Me(0,0,r,n);else if(r.type!=n.type)o.image=Me(0,0,r,n);else switch(r.type){case"linear-gradient":o.image=Wo(t,e,r,n);break;case"repeating-linear-gradient":o.image=function(t,e,r,n){var o=Wo(t,e,r,n);return function(t,e){var r=o(t,e),n=new Hn({angle:r.angle,colorsteps:r.colorsteps});return console.log(n),n}}(t,e,r,n);break;case"radial-gradient":o.image=ri(t,e,r,n);break;case"repeating-radial-gradient":o.image=function(t,e,r,n){var o=ri(t,e,r,n);return function(t,e){var r=o(t,e);return new ho({radialType:r.radialType,radialPosition:r.radialPosition,colorsteps:r.colorsteps})}}(t,e,r,n);break;case"conic-gradient":o.image=ni(t,e,r,n);break;case"repeating-conic-gradient":o.image=function(t,e,r,n){var o=ni(t,e,r,n);return function(t,e){var r=o(t,e);return new Lo({angle:r.angle,radialPosition:r.radialPosition,colorsteps:r.colorsteps})}}(t,e,r,n)}return function(t,e){return o.image(t,e)}}function ii(t,e,r,n){for(var o=$o.parseStyle(V(r)),i=$o.parseStyle(V(n)),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||null,f=i[c]||null;s&&!f?a.push({image:kt(0,0,s.image),size:kt(0,0,s.size),width:kt(0,0,s.width),height:kt(0,0,s.height),x:kt(0,0,s.x),y:kt(0,0,s.y),blendMode:kt(0,0,s.blendMode),repeat:kt(0,0,s.repeat)}):!s&&f?a.push({image:kt(0,0,f.image),size:kt(0,0,f.size),width:kt(0,0,f.width),height:kt(0,0,f.height),x:kt(0,0,f.x),y:kt(0,0,f.y),blendMode:kt(0,0,f.blendMode),repeat:kt(0,0,f.repeat)}):s&&f&&a.push({image:oi(t,e,s.image,f.image),size:cr(0,0,s.size,f.size),width:Pt(t,e,s.width,f.width,"width","self"),height:Pt(t,e,s.height,f.height,"height","self"),x:Pt(t,e,s.x,f.x,"width","self"),y:Pt(t,e,s.y,f.y,"height","self"),blendMode:cr(0,0,s.blendMode,f.blendMode),repeat:cr(0,0,s.repeat,f.repeat)})}return function(t,e){return V($o.join(a.map((function(r){return{image:r.image(t,e),size:r.size(t,e),x:r.x(t,e),y:r.y(t,e),width:r.width(t,e),height:r.height(t,e),blendMode:r.blendMode(t,e),repeat:r.repeat(t,e)}}))))}}function ui(t){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ai(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ci(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ci(r,!0).forEach((function(e){si(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ci(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function si(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yi(t,e,r){return e&&pi(t.prototype,e),r&&pi(t,r),t}function hi(t,e){return!e||"object"!==ui(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vi(t,e,r){return(vi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gi(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function gi(t){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function di(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mi=/((blur|drop\-shadow|hue\-rotate|invert|brightness|contrast|opacity|saturate|sepia)\(([^\)]*)\))/gi,Oi=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vi(gi(e.prototype),"getDefaultObject",this).call(this,li({itemType:"filter"},t))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}],[{key:"parse",value:function(t){var e=Ai[t.type];return e?new e(t):new ki({value:t.type})}},{key:"parseStyle",value:function(t){var r=[];if(!t)return r;var n=be(t);return(n.str.match(mi)||[]).forEach((function(t,o){var i=ai(t.split("("),2),u=i[0],a=i[1];if(a=a.split(")")[0],"drop-shadow"===u){var c=a.split(" "),l=c.filter((function(t){return t.includes("@")})).map((function(t){return n.matches[+t.replace("@","")].color})),s=c.filter((function(t){return!t.includes("@")}));r[o]=e.parse({type:u,offsetX:Ot.parse(s[0]),offsetY:Ot.parse(s[1]),blurRadius:Ot.parse(s[2]),color:l[0]||"rgba(0, 0, 0, 1)"})}else r[o]=e.parse({type:u,value:Ot.parse(a)})})),r}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(" ")}}]),e}(Nt),ji=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"blur",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return li({},vi(gi(e.prototype),"toCloneObject",this).call(this),{value:Ot.parse(this.json.value)})}}]),e}(Oi);ji.spec={title:"Blur",inputType:"range",min:0,max:100,step:1,unit:"px",units:["px","em"],defaultValue:Ot.px(0)};var ki=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"svg",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return li({},vi(gi(e.prototype),"toCloneObject",this).call(this),{value:Ot.parse(this.json.value)})}},{key:"toString",value:function(){return"url(#".concat(this.json.value||"",")")}}]),e}(Oi);ki.spec={title:"SVG",inputType:"select",defaultValue:""};var wi=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"grayscale",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return li({},vi(gi(e.prototype),"toCloneObject",this).call(this),{value:Ot.parse(this.json.value)})}}]),e}(Oi);wi.spec={title:"Grayscale",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(0)};var Pi=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"hue-rotate",value:e.spec.defaultValue})}}]),e}(Oi);Pi.spec={title:"Hue",inputType:"range",min:0,max:360,step:1,unit:"deg",units:["deg"],defaultValue:Ot.deg(0)};var Si=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"invert",value:e.spec.defaultValue})}}]),e}(Oi);Si.spec={title:"Invert",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(0)};var xi=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"brightness",value:e.spec.defaultValue})}}]),e}(Oi);xi.spec={title:"Brightness",inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(100)};var Ti=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"contrast",value:e.spec.defaultValue})}}]),e}(Oi);Ti.spec={title:"Contrast",inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(100)};var Ci=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"opacity",value:e.spec.defaultValue})}}]),e}(Oi);Ci.spec={title:"Opacity",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(100)};var Ei=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"saturate",value:e.spec.defaultValue})}}]),e}(Oi);Ei.spec={title:"Saturate",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(100)};var Ri=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"sepia",value:e.spec.defaultValue})}}]),e}(Oi);Ri.spec={title:"Sepia",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(0)};var _i=function(t){function e(){return fi(this,e),hi(this,gi(e).apply(this,arguments))}return di(e,t),yi(e,[{key:"getDefaultObject",value:function(){return vi(gi(e.prototype),"getDefaultObject",this).call(this,{type:"drop-shadow",multi:!0,offsetX:e.spec.offsetX.defaultValue,offsetY:e.spec.offsetY.defaultValue,blurRadius:e.spec.blurRadius.defaultValue,color:e.spec.color.defaultValue})}},{key:"toString",value:function(){var t=this.json;return"drop-shadow(".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color,")")}}]),e}(Oi);_i.spec={offsetX:{title:"Offset X",inputType:"range",min:-100,max:100,step:1,defaultValue:Ot.px(0),unit:"px",units:["px","em"]},offsetY:{title:"Offset Y",inputType:"range",min:-100,max:100,step:1,defaultValue:Ot.px(0),unit:"px",units:["px","em"]},blurRadius:{title:"Blur Radius",inputType:"range",min:0,max:100,step:1,defaultValue:Ot.px(0),unit:"px",units:["px","em","%"]},color:{title:"Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)",unit:"color"}};var Ai={blur:ji,grayscale:wi,"hue-rotate":Pi,invert:Si,brightness:xi,contrast:Ti,opacity:Ci,saturate:Ei,sepia:Ri,"drop-shadow":_i,svg:ki};function Di(t,e,r,n){var o={type:cr(0,0,r.type,n.type),value:Me(0,0,r.value,n.value)};switch(r.type){case"blur":o.value=Pt(t,e,r.value,n.value);break;case"grayscale":case"invert":case"brightness":case"contrast":case"opacity":case"saturate":case"sepia":case"hue-rotate":o.value=jt(t,e,r.value.value,n.value.value,r.value.unit);break;case"drop-shadow":o.offsetX=Pt(t,e,r.offsetX,n.offsetX,"width","self"),o.offsetY=Pt(t,e,r.offsetY,n.offsetY,"height","self"),o.blurRadius=Pt(t,e,r.blurRadius,n.blurRadius,"width","self"),o.spreadRadius=Pt(t,e,r.spreadRadius,n.spreadRadius,"width","self"),o.color=ur(0,0,r.color,n.color)}return function(t,e){return"drop-shadow"===o.type(t,e)?{type:o.type(t,e),offsetX:o.offsetX(t,e),offsetY:o.offsetY(t,e),blurRadius:o.blurRadius(t,e),spreadRadius:o.spreadRadius(t,e),color:o.color(t,e)}:{type:o.type(t,e),value:o.value(t,e)}}}function Mi(t,e,r,n){for(var o=Oi.parseStyle(r),i=Oi.parseStyle(n),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c],f=i[c];s&&!f?a.push(kt(0,0,s)):!s&&f?a.push(kt(0,0,f)):s.type!=f.type||"svg"===s.type||"svg"===f.type?a.push(Me(0,0,s,f)):a.push(Di(t,e,s,f))}return function(t,e){return Oi.join(a.map((function(r){return r(t,e)})))}}function Ii(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Li=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"parse",value:function(t){var e=t.split(" ").filter((function(t){return t.trim()})).map((function(t){return Ot.parse(t)})),r=Ot.percent(0),n=Ot.percent(0),o=Ot.percent(0),i=Ot.percent(0);return 1===e.length?(r=e[0].clone(),n=e[0].clone(),o=e[0].clone(),i=e[0].clone()):2===e.length?(r=e[0].clone(),n=e[1].clone(),o=e[0].clone(),i=e[1].clone()):3===e.length?(r=e[0].clone(),n=e[1].clone(),o=e[2].clone(),i=e[1].clone()):4===e.length&&(r=e[0].clone(),n=e[1].clone(),o=e[2].clone(),i=e[3].clone()),[e.length,r,n,o,i]}}],(r=null)&&Ii(e.prototype,r),n&&Ii(e,n),t}();function Xi(t){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fi(r,!0).forEach((function(e){Vi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fi(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gi(t,e){return!e||"object"!==Xi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zi(t,e,r){return(zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qi(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function qi(t){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ui(t,e){return(Ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hi=/(content\-box|padding\-box|border\-box|margin\-box|view\-box|stroke\-box|fill\-box|none|(inset|circle|ellipse|polygon|path|url)(\(([^\)]*)\))?)/gi,Zi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Gi(this,qi(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ui(t,e)}(e,t),r=e,o=[{key:"toCSS",value:function(t){return new e(t).toCSS()}},{key:"toString",value:function(t){return e.toCSS(t)["clip-path"]}},{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var e={};return t?((t.match(Hi)||[]).forEach((function(t,r){if(t.includes("-box"))e.box=t;else{var n=Yi(t.split("("),2),o=n[0],i=n[1];i=i||"",i="none"===o?"":i.split(")")[0],e.type=o,e.value=i}})),e):{}}},{key:"parseStyleForCircle",value:function(t){var e=new Ot("","closest-side"),r="";if((t=t||"50%").includes("at")){var n=Yi(t.split("at").map((function(t){return t.trim()})),2);e=n[0],r=n[1]}else r=t.trim();var o=Yi(r.split(" "),2),i=o[0],u=o[1];return T(u)&&(u=i),{radius:e,x:i=Ot.parse(i),y:u=Ot.parse(u)}}},{key:"parseStyleForEllipse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50% 50%",e="50% 50%",r="";if((t=t||"50%").includes("at")){var n=t.split("at").map((function(t){return t.trim()})),o=Yi(n,2);e=o[0],r=o[1]}else r=t.trim();var i=r.split(" "),u=Yi(i,2),a=u[0],c=u[1];T(c)&&(c=a),a=Ot.parse(a),c=Ot.parse(c);var l=e.split(" "),s=Yi(l,2),f=s[0],p=s[1];return T(p)&&(p=f),{radiusX:f=Ot.parse(f),radiusY:p=Ot.parse(p),x:a,y:c}}},{key:"parseStyleForInset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("round"),r=Yi(e,2),n=r[0],o=r[1],i=Li.parse(n),u=Yi(i,5),a=u[0],c=u[1],l=u[2],s=u[3],f=u[4];if(o)var p=Li.parse(o),y=Yi(p,5),h=y[0],v=y[1],g=y[2],d=y[3],b=y[4];return{isAll:1===a,top:c,right:l,bottom:s,left:f,round:o,isAllRadius:1===h,topRadius:v,rightRadius:g,bottomRadius:d,leftRadius:b}}},{key:"parseStyleForPolygon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(",").filter((function(t){return t.trim()})).map((function(t){var e=Yi(t.trim().split(" "),2),r=e[0],n=e[1];return{x:Ot.parse(r),y:Ot.parse(n)}}))}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zi(qi(e.prototype),"getDefaultObject",this).call(this,Ni({itemType:"clip-path",type:"none",value:""},t))}},{key:"toCloneObject",value:function(){return Ni({},zi(qi(e.prototype),"toCloneObject",this).call(this),{value:this.json.value})}},{key:"toString",value:function(){var t=this.json.type,e=this.json.value,r=this.json.box,n="";switch(t){case"circle":case"inset":case"ellipse":case"polygon":case"path":n="".concat(t,"(").concat(e,")");break;case"svg":n="url(#".concat(e,")");break;default:n="none"}return r?"".concat(r," ").concat(n):n}},{key:"toCSS",value:function(){return{"clip-path":this.toString()}}}])&&Bi(r.prototype,n),o&&Bi(r,o),e}(Nt);function Qi(t,e,r,n){var o=Zi.parseStyle(r),i=Zi.parseStyle(n),u={type:Me(0,0,o.type,o.type),value:Me(0,0,r,n)};if(o.type==i.type&&"none"!=o)switch(o.type){case"circle":o.value=Zi.parseStyleForCircle(o.value),i.value=Zi.parseStyleForCircle(i.value),u.value=function(t,e,r,n){var o={};return"closest-side"===r.radius||"farthest-side"===r.radius||"closest-side"===n.radius||"farthest-side"===n.radius?o.radius=Me(0,0,r.radius,n.radius):r.radius.unit===n.radius.unit?o.radius=makeInterpolateNumber(t,e,r.radius.value,n.radius.value,r.radius.unit):o.radius=Pt(t,e,r.radius,n.radius,"width","self"),o.x=Pt(t,e,r.x,n.x,"width","self"),o.y=Pt(t,e,r.y,n.y,"height","self"),function(t,e){var r=o.radius(t,e),n=o.x(t,e),i=o.y(t,e),u="".concat(n," ").concat(i),a=r+"";return a.includes("closest-side")?a="closest-side":a.includes("farthest-side")&&(a="farthest-side"),r?"".concat(a," at ").concat(u):"".concat(u)}}(t,e,o.value,i.value);break;case"ellipse":o.value=Zi.parseStyleForEllipse(o.value),i.value=Zi.parseStyleForEllipse(i.value),u.value=function(t,e,r,n){var o={radiusX:Pt(t,e,r.radiusX,n.radiusX,"width","self"),radiusY:Pt(t,e,r.radiusY,n.radiusY,"height","self"),x:Pt(t,e,r.x,n.x,"width","self"),y:Pt(t,e,r.y,n.y,"height","self")};return function(t,e){var r=o.radiusX(t,e),n=o.radiusY(t,e),i=o.x(t,e),u=o.y(t,e);return"".concat(r," ").concat(n," at ").concat(i," ").concat(u)}}(t,e,o.value,i.value);break;case"inset":o.value=Zi.parseStyleForInset(o.value),i.value=Zi.parseStyleForInset(i.value),u.value=function(t,e,r,n){var o={top:jt(t,e,r.top.value,n.top.value,r.top.unit),left:jt(t,e,r.left.value,n.left.value,r.left.unit),right:jt(t,e,r.right.value,n.right.value,r.right.unit),bottom:jt(t,e,r.bottom.value,n.bottom.value,r.bottom.unit),round:Me(0,0,r.round,n.round),topRadius:jt(t,e,r.topRadius.value,n.topRadius.value,r.topRadius.unit),leftRadius:jt(t,e,r.leftRadius.value,n.leftRadius.value,r.leftRadius.unit),rightRadius:jt(t,e,r.rightRadius.value,n.rightRadius.value,r.rightRadius.unit),bottomRadius:jt(t,e,r.bottomRadius.value,n.bottomRadius.value,r.bottomRadius.unit)};return function(t,e){var r=o.top(t,e),n=o.right(t,e),i=o.bottom(t,e),u=o.left(t,e),a=o.round(t,e),c=o.topRadius(t,e),l=o.leftRadius(t,e),s=o.bottomRadius(t,e),f=o.rightRadius(t,e),p=[r,n,i,u].join(" "),y=[c,f,s,l].join(" ");return"".concat(p," ").concat(a&&y.trim()?"round ".concat(y):"")}}(t,e,o.value,i.value);break;case"polygon":o.value=Zi.parseStyleForPolygon(o.value),i.value=Zi.parseStyleForPolygon(i.value),u.value=function(t,e,r,n){for(var o=Math.max(r.length,n.length),i=[],u=0;u<o;u++){var a=r[u],c=n[u];a&&!c?i.push({x:kt(0,0,a.x),y:kt(0,0,a.y)}):!a&&c?i.push({x:kt(0,0,c.x),y:kt(0,0,c.y)}):i.push({x:Pt(t,e,a.x,c.x,"width","self"),y:Pt(t,e,a.y,c.y,"height","self")})}return function(t,e){return i.map((function(r){return"".concat(r.x(t,e)," ").concat(r.y(t,e))})).join(",")}}(t,e,o.value,i.value);break;case"path":o.value=Zi.parseStyleForPath(o.value),i.value=Zi.parseStyleForPath(i.value),u.value=makeInterpolateClipPathPath(t,e,o.value,i.value)}return function(t,e){var r=u.type(t,e),n=u.value(t,e);return"none"===r?r:"".concat(r,"(").concat(n,")")}}function $i(t){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ji(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ki(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function tu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wi(r,!0).forEach((function(e){eu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wi(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function eu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ru(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nu(t,e){return!e||"object"!==$i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ou(t,e,r){return(ou="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=iu(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function iu(t){return(iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uu(t,e){return(uu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var au=/((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)|matrix(3d)?|perspective)\(([^\)]*)\))/gi,cu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),nu(this,iu(e).apply(this,arguments))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uu(t,e)}(e,t),r=e,o=[{key:"join",value:function(t){var r=t.filter((function(t){return"perspective"===t.type})),n=t.filter((function(t){return"perspective"!==t.type}));return[].concat(Ki(r),Ki(n)).map((function(t){return new e(t).toString()})).join(" ")}},{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var r=[];return t?((t.match(au)||[]).forEach((function(t,n){var o=Ji(t.split("("),2),i=o[0],u=o[1],a=(u=u.split(")")[0]).split(",");a=u.includes("matrix")||u.includes("scale")?a.map((function(t){return Ot.number(t.trim())})):a.map((function(t){return Ot.parse(t.trim())})),r[n]=e.parse({type:i,value:a})})),r):r}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ou(iu(e.prototype),"getDefaultObject",this).call(this,tu({itemType:"transform",type:"",value:[]},t))}},{key:"toCloneObject",value:function(){return tu({},ou(iu(e.prototype),"toCloneObject",this).call(this),{value:JSON.parse(JSON.stringify(this.json.value))})}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value.join(", ")||"",")")}},{key:"convert",value:function(t){return(t=ou(iu(e.prototype),"convert",this).call(this,t)).type.includes("matrix")||t.type.includes("scale")?t.value=t.value.map((function(t){return Ot.number(t)})):t.value=t.value.map((function(t){return Ot.parse(t)})),t}},{key:"hasNumberValue",value:function(){var t=this.json.type;return t.includes("matrix")||t.includes("scale")}}])&&ru(r.prototype,n),o&&ru(r,o),e}(Nt);function lu(t,e,r,n){for(var o={type:Me(0,0,r.type,n.type)},i=[],u=Math.max(r.value.length,n.value.length),a=0;a<u;a++){var c=r.value[a],l=n.value[a];c&&l?i.push(Pt(t,e,c,l,r.type)):i.push(Pt(t,e,r.value[a]||r.value[a-1]||r.value[a-2],n.value[a]||n.value[a-1]||r.value[a-2],r.type))}return o.value=i,function(t,e){return{type:o.type(t,e),value:o.value.map((function(r){return r(t,e)}))}}}function su(t,e,r,n){for(var o={type:Me(0,0,r.type,n.type)},i=[],u=Math.max(r.value.length,n.value.length),a=0;a<u;a++){var c=r.value[a],l=n.value[a];if(c&&l)i.push(jt(t,e,c.value,l.value));else{var s=r.value[a].value||r.value[a-1].value||r.value[a-2].value,f=n.value[a].value||n.value[a-1].value||r.value[a-2].value;i.push(jt(t,e,s,f))}}return o.value=i,function(t,e){var r=o.value.map((function(r){return r(t,e)})),n=o.type(t,e);return(n.includes("matrix")||n.includes("scale"))&&(r=r.map((function(t){return Ot.number(t)}))),{type:n,value:r}}}function fu(t,e,r,n){for(var o={type:Me(0,0,r.type,n.type)},i=[],u=Math.max(r.value.length,n.value.length),a=0;a<u;a++){var c=r.value[a],l=n.value[a];c&&l?i.push(vr(0,0,c,l)):i.push(vr(0,0,r.value[a]||r.value[a-1]||r.value[a-2],n.value[a]||n.value[a-1]||r.value[a-2]))}return o.value=i,function(t,e){return{type:o.type(t,e),value:o.value.map((function(r){return r(t,e)}))}}}function pu(t,e,r,n){for(var o=cu.parseStyle(r.trim()),i=cu.parseStyle(n.trim()),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];if(l&&!s)a.push(kt(0,0,l));else if(!l&&s)a.push(kt(0,0,s));else if(l.type!=s.type)a.push(Me(0,0,l,s));else switch(l.type){case"skewX":case"skewY":case"translate":case"translateX":case"translateY":case"translateZ":case"translate3d":case"perspective":a.push(lu(t,e,l,s));break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"rotate3d":a.push(fu(0,0,l,s));break;case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3d":case"matrix":case"matrix3d":a.push(su(t,e,l,s))}}return function(t,e){return cu.join(a.map((function(r){return r(t,e)})))}}function yu(t,e,r,n){for(var o=r.split(" ").map((function(t){return Ot.parse(t)})),i=n.split(" ").map((function(t){return Ot.parse(t)})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(Pt(t,e,l,s,"transform-origin"))}return function(t,e){return a.map((function(r){return r(t,e)})).join(" ")}}function hu(t,e,r,n){for(var o=r.split(" ").map((function(t){return Ot.parse(t)})),i=n.split(" ").map((function(t){return Ot.parse(t)})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(Pt(t,e,l,s,"perspective-origin"))}return function(t,e){return a.map((function(r){return r(t,e)})).join(" ")}}function vu(t,e,r,n){for(var o=r.split(" ").map((function(t){return+t})),i=n.split(" ").map((function(t){return+t})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(jt(t,e,l,s))}return function(t,e){return a.map((function(r){return r(t,e)})).join(" ")}}function gu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var du=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"isEqual",value:function(t,e){return t.x===e.x&&t.y===e.y}},{key:"isFirst",value:function(t){return t&&"M"==t.command}},{key:"getReversePoint",value:function(t,e){var r=t.x-e.x,n=t.y-e.y;return{x:t.x+r,y:t.y+n}}},{key:"getIndexPoint",value:function(t,e){return t[e]}},{key:"getPoint",value:function(e,r){return e.filter((function(e){return t.isEqual(e.startPoint,r)}))[0]}},{key:"getIndex",value:function(e,r){for(var n=-1,o=0,i=e.length;o<i;o++){var u=e[o];if(t.isEqual(u.startPoint,r)){n=o;break}}return n}},{key:"getPointIndex",value:function(e,r){for(var n=-1,o=0,i=e.length;o<i;o++){var u=e[o];if(t.isEqual(u,r)){n=o;break}}return n}},{key:"getLastPoint",value:function(t,e){if(!t.length)return null;for(var r=-1,n=e+1,o=t.length;n<o;n++)if("M"===t[n].command){r=n-1;break}-1==r&&(r=t.length-1),t[r]&&"Z"===t[r].command&&(r-=1);var i=t[r];return i&&(i.index=r),i}},{key:"getFirstPoint",value:function(t,e){for(var r=-1,n=e-1;n>0;n--)if("M"===t[n].command){r=n;break}-1===r&&(r=0);var o=t[r];return o&&(o.index=r),o}},{key:"getPrevPoint",value:function(e,r){var n=r-1;if(n<0)return t.getLastPoint(e,r);var o=e[n];return o&&(o.index=n),o}},{key:"getNextPoint",value:function(e,r){return e[r].connected?t.getFirstPoint(e,r):e[r+1]}}],(r=null)&&gu(e.prototype,r),n&&gu(e,n),t}();function bu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mu(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ou(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ju=/([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g,ku=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,wu={multiply:function(t){return function(e,r){var n=+e[r],o=+e[r+1];return[t[0][0]*n+t[0][1]*n+t[0][2],t[1][0]*o+t[1][1]*o+t[1][2],1]}},translate:function(t,e){return this.multiply([[1,0,t],[0,1,e],[0,0,1]])},rotate:function(t){return this.multiply([[Math.cos(t),Math.sin(t),0][(Math.sin(t),Math.cos(t),0)],[0,0,1]])},scale:function(t,e){return this.multiply([[t,0,0],[0,e,0],[0,0,1]])},skewX:function(t){return this.multiply([[1,t,0],[0,1,0],[0,0,1]])},skewY:function(t){return this.multiply([[1,0,0],[t,1,0],[0,0,1]])},reflectionOrigin:function(){return this.multiply([[-1,0,0],[0,-1,0],[0,0,1]])},reflectionX:function(){return this.multiply([[1,0,0],[0,-1,0],[0,0,1]])},reflectionY:function(){return this.multiply([[-1,0,0],[0,1,0],[0,0,1]])}},Pu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reset(e)}var e,r,n;return e=t,(r=[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.pathString=t,this.parse()}},{key:"resetSegments",value:function(t){this.segments=t||[],this.pathString=this.joinPath()}},{key:"trim",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.match(ku)||[];return e.filter((function(t){return""!=t}))}},{key:"parse",value:function(){var t=this,e=this.pathString.match(ju)||[];this.segments=e.map((function(e){var r=e[0];return{command:r,values:t.trim(e.replace(r,"")).map((function(t){return+t}))}})),this.segments=this.segments.map((function(e,r){switch(e.command){case"c":case"m":case"l":case"q":case"s":case"t":case"v":case"h":for(var n=t.segments[r-1],o=n.values[n.values.length-2],i=n.values[n.values.length-1],u=0,a=e.values.length;u<a;u+=2)e.values[u]+=o,e.values[u+1]+=i;return{command:e.command.toUpperCase(),values:mu(e.values)};default:return e}}))}},{key:"convertGenerator",value:function(){for(var t=[],e=0,r=this.segments.length;e<r;e++){var n=this.segments[e],o=this.segments[e+1],i=n.command,u=n.values;if("M"===i){var a=bu(u,2),c=a[0],l=a[1];t.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:{x:c,y:l},curve:!1})}else if("L"===i)if((k=du.getPrevPoint(t,t.length)).curve){var s=bu(u,2);c=s[0],l=s[1],t.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:L(k.endPoint),curve:!0})}else{var f=bu(u,2);c=f[0],l=f[1],t.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:{x:c,y:l},curve:!1})}else if("Q"===i){var p=bu(u,4),y=p[0],h=p[1];if(c=p[2],l=p[3],(k=du.getPrevPoint(t,t.length)).curve){var v={x:c,y:l},g={x:c,y:l},d={x:c,y:l};t.push({command:"L",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1}),k.endPoint={x:y,y:h}}else o&&"L"===o.command?(k.curve=!0,k.endPoint={x:y,y:h},v={x:c,y:l},d={x:c,y:l},g={x:c,y:l},t.push({command:"L",originalCommand:i,curve:!1,startPoint:v,endPoint:g,reversePoint:d})):(v={x:c,y:l},d={x:y,y:h},g={x:c,y:l},t.push({command:i,originalCommand:i,curve:!0,startPoint:v,endPoint:g,reversePoint:d}))}else if("T"===i){var b=bu(u,2);if(c=b[0],l=b[1],(x=segments[e-1])&&"Q"===x.command){var m=bu(x.values,4),O=(y=m[0],h=m[1],m[2]),j=m[3];(k=du.getPrevPoint(t,t.length)).endPoint=du.getReversePoint({x:O,y:j},{x:y,y:h}),v={x:c,y:l},g={x:c,y:l},d={x:c,y:l},t.push({command:"L",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1})}}else if("C"===i){var k=du.getPrevPoint(t,t.length),w=bu(u,6),P=(y=w[0],h=w[1],w[2]),S=w[3];v={x:c=w[4],y:l=w[5]},d={x:P,y:S},g={x:c,y:l},t.push({command:i,originalCommand:i,curve:!0,startPoint:v,endPoint:g,reversePoint:d}),k&&(k.curve=!0,k.endPoint={x:y,y:h})}else if("S"===i){var x,T=bu(u,2);if(c=T[0],l=T[1],(x=segments[e-1])&&"C"===x.command){var C=bu(x.values,4);P=C[0],S=C[1],O=C[2],j=C[3],(k=du.getPrevPoint(t,t.length)).endPoint=du.getReversePoint(k.startPoint,k.reversePoint),v={x:c,y:l},g={x:c,y:l},d={x:P,y:S},t.push({command:"Q",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1})}}else if("Z"===i){k=du.getPrevPoint(t,t.length);var E=du.getFirstPoint(t,t.length);du.isEqual(k.startPoint,E.startPoint)&&(k.connected=!0,"C"===k.command&&(E.curve=!0,du.isEqual(E.endPoint,E.startPoint)&&(E.endPoint=du.getReversePoint(k.startPoint,k.reversePoint)))),k.close=!0}}return t=t.filter((function(t){return!!t}))}},{key:"length",value:function(){return this.segments.length}},{key:"setSegments",value:function(t,e){this.segments[t]=e}},{key:"getSegments",value:function(t){return C(t)?this.segments[t]:this.segments}},{key:"joinPath",value:function(t){return(t||this.segments).map((function(t){return"".concat(t.command," ").concat(t.values.length?t.values.join(" "):"")})).join("")}},{key:"each",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.segments.map((function(r){return t.call(e,r)}));if(r)return n;this.segments=n}},{key:"_loop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(e){var r=e.values;switch(e.command){case"M":case"L":var n=t(r,0);e.values=[n[0],n[1]];break;case"V":n=t([+r[0],0]),e.values=[n[0]];break;case"H":n=t([0,+r[0]]),e.values=[n[1]];break;case"C":case"S":case"T":case"Q":for(var o=0,i=r.length;o<i;o+=2)n=t(r,o),e.values[o]=n[0],e.values[o+1]=n[1]}return e}),e)}},{key:"clone",value:function(){return new t(this.joinPath())}},{key:"translate",value:function(t,e){return this._loop(wu.translate(t,e)),this}},{key:"translateTo",value:function(t,e){return this.joinPath(this._loop(wu.translate(t,e),!0))}},{key:"scale",value:function(t,e){return this._loop(wu.scale(t,e)),this}},{key:"scaleTo",value:function(t,e){return this.joinPath(this._loop(wu.scale(t,e),!0))}},{key:"rotate",value:function(t){return this._loop(wu.rotate(t)),this}},{key:"rotateTo",value:function(t){return this.joinPath(this._loop(wu.rotate(t),!0))}},{key:"reflectionOrigin",value:function(t){return this._loop(wu.reflectionOrigin(t)),this}},{key:"reflectionOriginTo",value:function(t){return this.joinPath(this._loop(wu.reflectionOrigin(t),!0))}},{key:"reflectionX",value:function(t){return this._loop(wu.reflectionX(t)),this}},{key:"reflectionXTo",value:function(t){return this.joinPath(this._loop(wu.reflectionX(t),!0))}},{key:"reflectionY",value:function(t){return this._loop(wu.reflectionY(t)),this}},{key:"reflectionYTo",value:function(t){return this.joinPath(this._loop(wu.reflectionY(t),!0))}},{key:"skewX",value:function(t){return this._loop(wu.skewX(t)),this}},{key:"skewXTo",value:function(t){return this.joinPath(this._loop(wu.skewX(t),!0))}},{key:"skewY",value:function(t){return this._loop(wu.skewY(t)),this}},{key:"skewYTo",value:function(t){return this.joinPath(this._loop(wu.skewY(t),!0))}},{key:"toString",value:function(){return this.joinPath()}}])&&Ou(e.prototype,r),n&&Ou(e,n),t}();function Su(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var xu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pathArray=[]}var e,r,n;return e=t,(r=[{key:"reset",value:function(){this.pathArray=[]}},{key:"getPointString",value:function(t){return t.map((function(t){return"".concat(t.x," ").concat(t.y)})).join(" ")}},{key:"makeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.pathArray.push("".concat(t," ").concat(this.getPointString(e))),this}},{key:"M",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.makeString("M",e)}},{key:"L",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.makeString("L",e)}},{key:"Q",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.makeString("Q",e)}},{key:"C",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.makeString("C",e)}},{key:"Z",value:function(){return this.makeString("Z")}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"object";return'<path d="'.concat(this.d,"\" class='").concat(t,"'/>")}},{key:"d",get:function(){return this.pathArray.join(" ").trim()}}])&&Su(e.prototype,r),n&&Su(e,n),t}();function Tu(t){return(Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Eu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ru(t,e){return!e||"object"!==Tu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _u(t){return(_u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Au(t,e){return(Au=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Du=/[\b\t \,]/g,Mu=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ru(this,_u(e).call(this,t))}var r,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Au(t,e)}(e,t),r=e,(n=[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.points=t,this.parse()}},{key:"resetSegments",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=t,this.points=this.joinPoints()}},{key:"parse",value:function(){var t=this.points;E(t)&&(t=t.join(" "));for(var e=t.trim().split(Du),r=[],n=0,o=e.length;n<o;n+=2)r.push({x:+e[n],y:+e[n+1]});this.segments=r}},{key:"convertGenerator",value:function(){return this.segments}},{key:"length",value:function(){return this.segments.length}},{key:"toPathString",value:function(){for(var t=new xu,e=0,r=this.segments.length;e<r;e++){var n=this.segments[e];0===e?t.M(n):e===r-1?t.L(n).L(this.segments[0]).Z():t.L(n)}return t.d}},{key:"joinPath",value:function(t){return this.joinPoints(t)}},{key:"joinPoints",value:function(t){return(t||this.segments).map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"each",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.segments.map((function(r){return t.call(e,r)}));if(r)return n;this.segments=n}},{key:"_loop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(e){var r=Cu(t([e.x,e.y],0),2),n=r[0],o=r[1];return e.x=n,e.y=o,e}),e)}},{key:"clone",value:function(){return new e(this.joinPoints())}},{key:"toString",value:function(){return this.joinPoints()}}])&&Eu(r.prototype,n),o&&Eu(r,o),e}(Pu);function Iu(t,e,r,n){for(var o=Math.max(r.length,n.length),i=[],u=r[r.length-1],a=n[n.length-1],c=0;c<o;c++){var l=r[c],s=n[c];l&&!s?i.push(jt(t,e,l,a)):!l&&s?i.push(jt(t,e,u,s)):i.push(jt(t,e,l,s))}return function(t,e){return i.map((function(r){return r(t,e)}))}}function Lu(t,e,r,n){for(var o=new Pu,i=new Pu(r),u=new Pu(n),a=Math.max(i.segments.length,u.segments.length),c=[],l=0;l<a;l++){var s=i.segments[l],f=u.segments[l];s.command===f.command?s.values.length===f.values.length?c.push({command:kt(0,0,s.command),values:Iu(t,e,s.values,f.values)}):c.push({command:kt(0,0,s.command),values:kt(0,0,s.values)}):c.push({command:Me(0,0,s.command,f.command),values:Me(0,0,s.values,f.values)})}return function(e,r){var n=c.map((function(t){return{command:t.command(e,r),values:t.values(e,r)}})),i=o.joinPath(n);t.attr("d",i)}}function Xu(t,e,r,n){for(var o=new Mu,i=new Mu(r),u=new Mu(n),a=Math.max(i.segments.length,u.segments.length),c=[],l=i.segments[i.segments.length-1].x,s=i.segments[i.segments.length-1].y,f=u.segments[u.segments.length-1].x,p=u.segments[u.segments.length-1].y,y=0;y<a;y++){var h=i.segments[y],v=u.segments[y];h&&!v?c.push({x:jt(t,e,h.x,f),y:jt(t,e,h.y,p)}):!h&&v?c.push({x:jt(t,e,l,v.x),y:jt(t,e,s,v.y)}):c.push({x:jt(t,e,h.x,v.x),y:jt(t,e,h.y,v.y)})}return function(e,r){var n=o.joinPoints(c.map((function(t){return{x:t.x(e,r),y:t.y(e,r)}})));t.attr("points",n)}}function Yu(t,e,r,n){var o={x:jt("","",t,r),y:jt("","",e,n)};return function(t,e){return{x:o.x(t,e),y:o.y(t,e)}}}function Fu(t,e,r,n,o,i){var u=[{x:t,y:e},{x:r,y:n},{x:o,y:i}];return function(t,e){return ht(u,e)}}function Nu(t,e,r,n,o,i,u,a){var c=[{x:t,y:e},{x:r,y:n},{x:o,y:i},{x:u,y:a}];return function(t,e){return yt(c,e)}}function Vu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qu(t,e,r,n,o){var i=zu(r.split(",").map((function(t){return t.trim()})),4),u=i[0],a=i[1],c=i[2],l=i[3],s={id:u,distance:Ot.parse(a||"0%"),rotateStatus:c||"auto",rotate:Ot.parse(l||"0deg")},f=function(t,e){return{x:x,y:y}},p=0,h=0;if(o){var v=o.$('[data-id="'.concat(s.id,'"]')),g=v.$("path"),d=v.rect();p=d.left,h=d.top,f=function(t,e,r){var n=function(t){var e=[],r=[];t.forEach((function(t,n){switch(t.command){case"M":var o=Vu(t.values,2),i=o[0],u=o[1];r=[i,u];break;case"m":var a=Vu(r,2),c=a[0],l=a[1],s=Vu(t.values,2);i=s[0],u=s[1];r=[i+=c,u+=l];break;case"L":var f=Vu(r,2),p=(c=f[0],l=f[1],Vu(t.values,2));i=p[0],u=p[1];e.push({command:t.command,values:[c,l,i,u],length:W(c,l,i,u),interpolate:Yu(c,l,i,u)}),r=[i,u];break;case"l":var y=Vu(r,2),h=(c=y[0],l=y[1],Vu(t.values,2));i=h[0],u=h[1];i+=c,u+=l,e.push({command:t.command,values:[c,l,i,u],length:W(c,l,i,u),interpolate:Yu(c,l,i,u)}),r=[i,u];break;case"C":var v=Vu(r,2),g=(c=v[0],l=v[1],Vu(t.values,6)),d=g[0],b=g[1],m=g[2],O=g[3];i=g[4],u=g[5];e.push({command:t.command,values:[c,l,d,b,m,O,i,u],length:lt(c,l,d,b,m,O,i,u),interpolate:Nu(c,l,d,b,m,O,i,u)}),r=[i,u];break;case"c":var j=Vu(r,2),k=(c=j[0],l=j[1],Vu(t.values,6));d=k[0],b=k[1],m=k[2],O=k[3],i=k[4],u=k[5];d+=c,m+=c,i+=c,b+=l,O+=l,u+=l,e.push({command:t.command,values:[c,l,d,b,m,O,i,u],length:lt(c,l,d,b,m,O,i,u),interpolate:Nu(c,l,d,b,m,O,i,u)}),r=[i,u];break;case"Q":var w=Vu(r,2),P=(c=w[0],l=w[1],Vu(t.values,4));d=P[0],b=P[1],i=P[2],u=P[3];e.push({command:t.command,values:[c,l,d,b,i,u],length:st(c,l,d,b,i,u),interpolate:Fu(c,l,d,b,i,u)}),r=[i,u];break;case"q":var S=Vu(r,2),x=(c=S[0],l=S[1],Vu(t.values,4));d=x[0],b=x[1],i=x[2],u=x[3];d+=c,i+=c,b+=l,u+=l,e.push({command:t.command,values:[c,l,d,b,i,u],length:st(c,l,d,b,i,u),interpolate:Fu(c,l,d,b,i,u)}),r=[i,u];break;case"S":var T=Vu(r,2),C=(c=T[0],l=T[1],Vu(t.values,4)),E=(m=C[0],O=C[1],i=C[2],u=C[3],e[e.length-1]);if(["C","c","S","s"].includes(E.command)){var R=Vu(E.values,8),_=(R[0],R[1],R[2],R[3],R[4]),A=R[5],D=R[6],M=R[7],I=du.getReversePoint({x:D,y:M},{x:_,preC1y:A});d=I.x,b=I.y;e.push({command:t.command,values:[c,l,d,b,m,O,i,u],length:getCubicDist(c,l,d,b,m,O,i,u),interpolate:Nu(c,l,d,b,m,O,i,u)}),r=[i,u];break}case"s":var L=Vu(r,2),X=(c=L[0],l=L[1],Vu(t.values,4));m=X[0],O=X[1],i=X[2],u=X[3];m+=c,i+=c,O+=l,u+=l;E=e[e.length-1];if(["C","c","S","s"].includes(E.command)){var Y=Vu(E.values,8),F=(Y[0],Y[1],Y[2],Y[3],_=Y[4],A=Y[5],D=Y[6],M=Y[7],du.getReversePoint({x:D,y:M},{x:_,preC1y:A}));d=F.x,b=F.y;e.push({command:t.command,values:[c,l,d,b,m,O,i,u],length:getCubicDist(c,l,d,b,m,O,i,u),interpolate:Nu(c,l,d,b,m,O,i,u)}),r=[i,u];break}case"T":var N=Vu(r,2),V=(c=N[0],l=N[1],Vu(t.values,2));i=V[0],u=V[1],E=e[e.length-1];if(["Q","q","T","t"].includes(E.command)){var B=Vu(E.values,6),G=(B[0],B[1],_=B[2],A=B[3],D=B[4],M=B[5],du.getReversePoint({x:D,y:M},{x:_,preC1y:A}));d=G.x,b=G.y;e.push({command:t.command,values:[c,l,d,b,i,u],length:st(c,l,d,b,i,u),interpolate:Fu(c,l,d,b,i,u)}),r=[i,u]}break;case"t":var z=Vu(r,2),q=(c=z[0],l=z[1],Vu(t.values,2));i=q[0],u=q[1];i+=c,u+=l;E=e[e.length-1];if(["Q","q","T","t"].includes(E.command)){var U=Vu(E.values,6),H=(U[0],U[1],_=U[2],A=U[3],D=U[4],M=U[5],du.getReversePoint({x:D,y:M},{x:_,preC1y:A}));d=H.x,b=H.y;e.push({command:t.command,values:[c,l,d,b,i,u],length:st(c,l,d,b,i,u),interpolate:Fu(c,l,d,b,i,u)}),r=[i,u]}}}));var n=0;e.forEach((function(t){n+=t.length}));var o=0;return e.forEach((function(t){t.startT=o/n,t.endT=(o+t.length)/n,t.totalLength=n,o+=t.length})),{totalLength:n,interpolateList:e}}(new Pu(g.attr("d")).segments),o=n.totalLength,i=n.interpolateList,u=s.distance.toPx(o);(e+=u/o)>1&&(e-=1);var a=i[0];0===e?a=i[0]:1===e&&(a=i[i.length-1]);var c=i.find((function(t){return t.startT<=e&&e<t.endT}));c&&(a=c);var l=(e-a.startT)/(a.endT-a.startT),f=r(l);return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bu(r,!0).forEach((function(e){Gu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bu(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},a.interpolate(f,l,r),{totalLength:a.totalLength})}}return function(e,r,n){var o=(d=(t.css("transform-origin")||"50% 50%").split(" ").map((function(t){return Ot.parse(t)})))[0].toPx(Ot.parse(t.css("width")).value),i=d[1].toPx(Ot.parse(t.css("height")).value),u=f(e,r,n),a={left:Ot.px(u.x+p-o.value),top:Ot.px(u.y+h-i.value)};if("element"===s.rotateStatus);else{var c=u,l=f(e+1/u.totalLength,r+1/u.totalLength,n),y=tt(l.x-c.x,l.y-c.y),v=Ot.deg(function(t,e){switch(t){case"angle":return s.rotate.value;case"auto angle":return e+s.rotate.value;case"reverse":return e+180;case"auto":return e;default:return}}(s.rotateStatus,y)),g=t.css("transform")||"";if(-1===g.indexOf("rotate"))a.transform="rotate(".concat(v,")");else{var d,b=(d=cu.parseStyle(g)).filter((function(t){return["rotate","rotateZ"].includes(t.type)}));b.length?b[0].value=[v]:d.push({type:"rotate",value:[v]}),a.transform=cu.join(d)}}return a}}function Uu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Hu={none:!0,hidden:!0,dotted:!0,dashed:!0,solid:!0,double:!0,groove:!0,ridge:!0,inset:!0,outset:!0},Zu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"parseStyle",value:function(t){return V(t)}},{key:"parseValue",value:function(t){var e="",r="",n="";return t.split(" ").filter((function(t){return t.trim()})).forEach((function(t){Hu[t]?e=t:ir.isColor(t)?n=t:r=t})),{style:e,color:n,width:r}}},{key:"joinValue",value:function(t){return"".concat(t.width," ").concat(t.style," ").concat(t.color)}},{key:"join",value:function(t){return[t.border?"border: ".concat(t.border):"",t["border-top"]?"border-top: ".concat(t["border-top"]):"",t["border-left"]?"border-left: ".concat(t["border-left"]):"",t["border-right"]?"border-right: ".concat(t["border-right"]):"",t["border-bottom"]?"border-bottom: ".concat(t["border-bottom"]):""].filter((function(t){return t})).join(";")}}],(r=null)&&Uu(e.prototype,r),n&&Uu(e,n),t}();function Qu(t,e,r,n){var o=Zu.parseValue(r),i=Zu.parseValue(n),u={width:Pt(t,e,o.width,i.width,"border"),style:Me(0,0,o.style,i.style),color:ur(0,0,o.color,i.color)};return function(t,e){return Zu.joinValue({width:u.width(t,e),style:u.style(t,e),color:u.color(t,e)})}}var $u=["border","border-top","border-right","border-left","border-bottom"];function Ju(t,e,r,n){var o=Zu.parseStyle(r),i=Zu.parseStyle(n),u={};return $u.forEach((function(r){if(o[r]&&i[r])u[r]=Qu(t,e,o[r],i[r]);else if(o[r]&&!i[r]){var n=Zu.parseValue(o[r]);u[r]=Qu(t,e,o[r],"0px ".concat(n.style," rgba(0, 0, 0, 0)"))}else if(!o[r]&&i[r]){n=Zu.parseValue(i[r]);u[r]=Qu(t,e,"0px ".concat(n.style," rgba(0, 0, 0, 0)"),i[r])}})),function(t,e){var r={};return Object.keys(u).forEach((function(n){r[n]=u[n](t,e)})),r}}function Ku(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ta=function(){return function(t,e){}};function ea(t,e,r,n,o){switch(e){case"width":case"left":case"x":return Pt(t,e,r,n,"width",o);case"height":case"top":case"y":return Pt(t,e,r,n,"height",o);case"perspective":case"font-size":case"font-stretch":case"font-weight":case"text-stroke-width":case"border-width":case"border-top-width":case"border-right-width":case"border-left-width":case"border-bottom-width":return Pt(t,e,r,n,e,o);case"fill-opacity":case"opacity":case"stroke-dashoffset":return jt(t,e,+r,+n,o);case"background-color":case"color":case"text-fill-color":case"text-stroke-color":case"fill":case"stroke":case"border-color":case"border-top-color":case"border-right-color":case"border-left-color":case"border-bottom-color":return ur(0,0,r,n);case"mix-blend-mode":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":case"border-style":case"border-top-style":case"border-right-style":case"border-left-style":case"border-bottom-style":return cr(0,0,r,n);case"rotate":return vr(0,0,r,n)}var i=function(t){switch(t){case"border-radius":return Ct;case"border":return Ju;case"box-shadow":return ar;case"text-shadow":return Sr;case"background-image":return ii;case"filter":case"backdrop-filter":return Mi;case"clip-path":return Qi;case"transform":return pu;case"transform-origin":return yu;case"perspective-origin":return hu;case"stroke-dasharray":return vu;case"d":return Lu;case"points":return Xu;case"offset-path":return qu}}(e);return i?i(t,e,r,n,o):ta}function ra(t,e,r,n,o){return ea(t,e,r,n,o)}function na(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"linear",e=Wu(t.split("(").map((function(t){return t.trim()})),2),r=e[0],n=e[1];n=(n||"").split(")")[0].trim();var o=yr[r];if(o){var i=t.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()}));return o.apply(void 0,Ku(i))}return function(t){var e=ft(t);return function(t){return e(t).y}}(t)}function oa(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ia(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ua=0,aa=function(){function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),A(e))this.el=e;else{var o=document.createElement(e);for(var i in this.uniqId=ua++,r&&(o.className=r),n=n||{})o.setAttribute(i,n[i]);this.el=o}}var e,r,n;return e=t,r=[{key:"data",value:function(t,e){var r=t.split("-").map((function(t,e){return 0===e?t:t.substr(0,1).toUpperCase()+t.substr(1)})).join("");if(1===arguments.length)return this.el.dataset(r);this.el.dataset(r,e)}},{key:"attr",value:function(t,e){return 1==arguments.length?this.el.getAttribute(t):(this.el.setAttribute(t,e),this)}},{key:"setAttr",value:function(t){var e=this;Object.keys(t).forEach((function(r){e.el.setAttribute(r,t[r])}))}},{key:"attrKeyValue",value:function(t){return e={},r=this.el.getAttribute(t),n=this.val(),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e;var e,r,n}},{key:"attrs",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.map((function(e){return t.el.getAttribute(e)}))}},{key:"styles",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.map((function(e){return t.el.style[e]}))}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"removeStyle",value:function(t){return this.el.style.removeProperty(t),this}},{key:"is",value:function(t){return this.el===(t.el||t)}},{key:"isTag",value:function(t){return this.el.tagName.toLowerCase()===t.toLowerCase()}},{key:"closest",value:function(e){for(var r=this,n=!1;!(n=r.hasClass(e));){if(!r.el.parentNode)return null;r=t.create(r.el.parentNode)}return n?r:null}},{key:"parent",value:function(){return t.create(this.el.parentNode)}},{key:"hasParent",value:function(){return!!this.el.parentNode}},{key:"removeClass",value:function(){var t;return(t=this.el.classList).remove.apply(t,arguments),this}},{key:"hasClass",value:function(t){return!!this.el.classList&&this.el.classList.contains(t)}},{key:"addClass",value:function(){var t;return(t=this.el.classList).add.apply(t,arguments),this}},{key:"onlyOneClass",value:function(t){var e=this.parent().$(".".concat(t));e&&e.removeClass(t),this.addClass(t)}},{key:"toggleClass",value:function(t,e){this.el.classList.toggle(t,e)}},{key:"html",value:function(t){return T(t)?this.el.innerHTML:(_(t)?this.el.innerHTML=t:this.empty().append(t),this)}},{key:"find",value:function(t){return this.el.querySelector(t)}},{key:"$",value:function(e){var r=this.find(e);return r?t.create(r):null}},{key:"findAll",value:function(t){return this.el.querySelectorAll(t)}},{key:"$$",value:function(e){return oa(this.findAll(e)).map((function(e){return t.create(e)}))}},{key:"empty",value:function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);return this}},{key:"append",value:function(t){return _(t)?this.el.appendChild(document.createTextNode(t)):this.el.appendChild(t.el||t),this}},{key:"prepend",value:function(t){return _(t)?this.el.prepend(document.createTextNode(t)):this.el.prepend(t.el||t),this}},{key:"appendHTML",value:function(e){var r=t.create("div").html(e);this.append(r.createChildrenFragment())}},{key:"createChildrenFragment",value:function(){var t=this.children(),e=document.createDocumentFragment();return t.forEach((function(t){return e.appendChild(t.el)})),e}},{key:"appendTo",value:function(t){return(t.el?t.el:t).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"removeChild",value:function(t){return this.el.removeChild(t.el||t),this}},{key:"text",value:function(e){if(T(e))return this.el.textContent;var r=e;return e instanceof t&&(r=e.text()),this.el.textContent=r,this}},{key:"css",value:function(t,e){if(C(t)&&C(e))this.el.style[t]=e;else if(C(t)){if(_(t))return getComputedStyle(this.el)[t];Object.assign(this.el.style,t)}return this}},{key:"getComputedStyle",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){for(var t=getComputedStyle(this.el),e={},r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.forEach((function(r){e[r]=t[r]})),e}))},{key:"getStyleList",value:function(){for(var t=this,e={},r=this.el.style.length,n=0;n<r;n++){var o=this.el.style[n];e[o]=this.el.style[o]}for(var i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];return u.forEach((function(r){e[r]=t.css(r)})),e}},{key:"cssText",value:function(t){return T(t)?this.el.style.cssText:(t!=this.el.tempCssText&&(this.el.style.cssText=t,this.el.tempCssText=t),this)}},{key:"cssArray",value:function(t){return t[0]&&(this.el.style[t[0]]=t[1]),t[2]&&(this.el.style[t[2]]=t[3]),t[4]&&(this.el.style[t[4]]=t[5]),t[6]&&(this.el.style[t[6]]=t[7]),t[8]&&(this.el.style[t[8]]=t[9]),this}},{key:"cssFloat",value:function(t){return parseFloat(this.css(t))}},{key:"cssInt",value:function(t){return parseInt(this.css(t))}},{key:"px",value:function(t,e){return this.css(t,Ot.px(e))}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"offsetRect",value:function(){return{top:this.el.offsetTop,left:this.el.offsetLeft,width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"offset",value:function(){var e=this.rect(),r=t.getScrollTop(),n=t.getScrollLeft();return{top:e.top+r,left:e.left+n}}},{key:"offsetLeft",value:function(){return this.offset().left}},{key:"offsetTop",value:function(){return this.offset().top}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.rect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.rect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.rect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"val",value:function(e){if(T(e))return this.el.value;if(C(e)){var r=e;e instanceof t&&(r=e.val()),this.el.value=r}return this}},{key:"scrollIntoView",value:function(){this.el.scrollIntoView()}},{key:"addScrollLeft",value:function(t){return this.el.scrollLeft+=t,this}},{key:"addScrollTop",value:function(t){return this.el.scrollTop+=t,this}},{key:"setScrollTop",value:function(t){return this.el.scrollTop=t,this}},{key:"setScrollLeft",value:function(t){return this.el.scrollLeft=t,this}},{key:"scrollTop",value:function(){return this.el===document.body?t.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?t.getScrollLeft():this.el.scrollLeft}},{key:"scrollHeight",value:function(){return this.el.scrollHeight}},{key:"scrollWidth",value:function(){return this.el.scrollWidth}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.create(e,r,n);return i.css(o),this.append(i),i}},{key:"firstChild",value:function(){return t.create(this.el.firstElementChild)}},{key:"children",value:function(){var e=this.el.firstElementChild;if(!e)return[];var r=[];do{r.push(t.create(e)),e=e.nextElementSibling}while(e);return r}},{key:"childLength",value:function(){return this.el.children.length}},{key:"replace",value:function(t){return this.el.parentNode&&this.el.parentNode.replaceChild(t.el||t,this.el),this}},{key:"replaceChild",value:function(t,e){return this.el.replaceChild(e.el||e,t.el||t),this}},{key:"value",get:function(){return this.el.value}},{key:"naturalWidth",get:function(){return this.el.naturalWidth}},{key:"naturalHeight",get:function(){return this.el.naturalHeight}}],n=[{key:"create",value:function(e,r,n){return new t(e,r,n)}},{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}},{key:"parse",value:function(t){return DOMParser().parseFromString(t,"text/htmll")}},{key:"body",value:function(){return t.create(document.body)}}],r&&ia(e.prototype,r),n&&ia(e,n),t}();function ca(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function la(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function sa(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var pa=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:"body"};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.animations=e,this.compiledAnimation=[],this.options=r,this.debug=r.debug||!1,this.fps=r.fps||60,this.totalTime=G(this.fps,r.totalTimecode),this.totalTimecode=r.totalTimecode||"00:00:00:00",this.currentTime=0,this.currentTimecode="00:00:00:00",this.startTime=0,this.endTime=this.totalTime,this.initialize()}var e,r,n;return e=t,(r=[{key:"log",value:function(){var t;this.debug&&(t=console).log.apply(t,arguments)}},{key:"searchBySelector",value:function(t,e){return e.$$(t)}},{key:"createContainerElement",value:function(t){return t="body"===t?document.body:t,aa.create(t)}},{key:"initialize",value:function(){var t=this;this.animations.forEach((function(e){var r=t.createContainerElement(e.container||t.options.container||"body"),n=t.searchBySelector(e.selector,r);e.compiled={},e.properties.forEach((function(o){e.compiled["".concat(o.property)]=t.compiledTimingFunction(n,o,r)}))})),this.log("timeline is initialized.")}},{key:"searchTimelineOffset",value:function(t){var e=[];return this.animations.forEach((function(r){r.properties.forEach((function(n){var o=r.compiled["".concat(n.property)];e.push.apply(e,sa(o.filter((function(e){return!(!e.isOnlyTime||e.startTime!=t)||e.startTime<=t&&t<e.endTime}))))}))})),e.filter((function(t){return t}))}},{key:"parseOffset",value:function(t,e,r){if(E(r)){var n=la(r,3),o=n[0],i=n[1],u=n[2];return T(i)&&(i=t.css(e)),{time:o,value:i,timing:u}}return r&&T(r.value)&&(r.value=t.css(e)),r}},{key:"compiledTimingFunction",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=[];return 1===r.keyframes.length?o:(e.forEach((function(e,i){o.push.apply(o,sa(r.keyframes.map((function(o,u){var a=t.parseOffset(e,r.property,o),c=t.parseOffset(e,r.property,r.keyframes[u+1]);c||(c={time:a.time,value:a.value+""});var l={layer:e,layerIndex:i,property:r.property,isResetFunction:t.checkResetInterpolateFunction(r.property),isAttributeFunction:t.checkResetAttributeFunction(r.property),isOnlyTime:a.time===c.time,startTime:a.time,endTime:c.time,startValue:a.value,endValue:c.value,timing:a.timing,interpolateFunction:ra(e,r.property,a.value,c.value,n),timingFunction:na(a.timing)};return l.func=t.makeTimingFunction(l),l})).filter((function(t){return t}))))})),o)}},{key:"makeTimingFunction",value:function(t){return function(e){var r=t.endTime-t.startTime,n=1;return 0!==r&&(n=(e-t.startTime)/r),t.interpolateFunction(t.timingFunction(n),n,t.timingFunction)}}},{key:"checkResetInterpolateFunction",value:function(t){switch(t){case"offset-path":case"background-image":case"border":return!0}return!1}},{key:"checkResetAttributeFunction",value:function(t){switch(t){case"d":case"points":return!0}return!1}},{key:"seek",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};(C(e)||null!==e)&&this.setTimelineCurrentTime(e);var n=1e3*this.currentTime;this.log("seek start : ",n);var o=this.searchTimelineOffset(n).filter(r),i=new WeakMap,u=[];o.forEach((function(t){i.has(t.layer)||(i.set(t.layer,{}),u.push(t.layer));var e=i.get(t.layer);if(t.isAttributeFunction)t.func(n,t.layer,t.layerIndex);else if(t.isResetFunction){var r=t.func(n,t.layer,t.layerIndex);Object.assign(e,r)}else Object.assign(e,ca({},t.property,t.func(n,t.layer,t.layerIndex)))})),u.forEach((function(e){e.css(i.get(e)),t.log(e,i.get(e))})),this.log("seek end : ",n)}},{key:"getKeyframeList",value:function(t){this.animations.forEach((function(e){e.properties.forEach((function(e){e.keyframes.forEach((function(e){t&&t(e)}))}))}))}},{key:"getSelectedTimelineLastTime",value:function(){var t=0;return this.getKeyframeList((function(e){t=Math.max(e.time,t)})),t}},{key:"getSelectedTimelineFirstTime",value:function(){var t=Number.MAX_SAFE_INTEGER;return this.getKeyframeList((function(e){t=Math.min(e.time,t)})),t}},{key:"getSelectedTimelinePrevTime",value:function(){var t=this,e=this.getSelectedTimelineFirstTime();return this.getKeyframeList((function(r){z(t.fps,r.time)<t.currentTimecode&&(e=Math.max(r.time,e))})),e}},{key:"getSelectedTimelineNextTime",value:function(){var t=this,e=this.getSelectedTimelineLastTime();return this.getKeyframeList((function(r){z(t.fps,keyframe.time)>t.currentTimecode&&(e=Math.min(keyframe.time,e))})),e}},{key:"getTimelineLayerInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:10:00",r=G(t,e);return{fps:t,currentTimecode:z(t,0),totalTimecode:z(t,r),currentTime:0,totalTime:r,displayStartTime:0,displayEndTime:r}}},{key:"setTimelineCurrentTime",value:function(t){var e=this.fps,r=this.totalTimecode,n=t,o=t;+n+""===n&&(o=q(e,n=+n)),o>r&&(o=r);var i=G(e,o);this.currentTime=i,this.currentTimecode=z(e,i)}},{key:"setDisplayTimeDxRate",value:function(t,e,r){var n=t*this.totalTime,o=e+n,i=r+n;o=Math.max(o,0),0===(o=Math.min(o,i))&&(i=r-e),i=Math.max(i,o),(i=Math.min(i,this.totalTime))===this.totalTime&&(o=this.totalTime-(r-e)),this.displayStartTime=o,this.displayEndTime=i}},{key:"setDisplayStartTimeRate",value:function(t){this.displayStartTime=t*this.totalTime}},{key:"setDisplayEndTimeRate",value:function(t){this.displayEndTime=t*this.totalTime}},{key:"setTimelineCurrentTimeRate",value:function(t){var e=this.displayStartTime,r=this.displayEndTime,n=this.fps,o=e+(r-e)*t;this.setTimelineCurrentTime(z(n,o))}},{key:"setTimelineTotalTime",value:function(t){var e=t,r=t;+e+""===e&&(e=+e,r=q(this.fps,e)),G(this.fps,r)<this.displayEndTime&&(this.displayEndTime=G(this.fps,r),this.displayStartTime=0),this.totalTimecode=r,this.totalTime=G(this.fps,r)}},{key:"getTimelineObject",value:function(t){return this.animations.find((function(e){return e.id===t}))}},{key:"getDefaultPropertyValue",value:function(t){switch(t){case"mix-blend-mode":return"normal";case"rotate":return"0deg";case"box-shadow":return"0px 0px 0px 0px rgba(0, 0, 0, 1)";case"text-shadow":return"0px 0px 0px rgba(0, 0, 0, 1)";case"opacity":return 1;default:return""}}},{key:"setFps",value:function(t){this.fps=t,this.currentTimecode=z(t,this.currentTime),this.totalTimecode=z(t,this.totalTime)}}])&&fa(e.prototype,r),n&&fa(e,n),t}();function ya(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fps:60,duration:1e3,container:"body"},r=T(e.fps)?60:+e.fps,n=T(e.container)?"body":e.container,o=T(e.speed)?1:+e.speed,i=T(e.duration)?1e3:+e.duration,u=T(e.iterationCount)?1:+e.iterationCount,a=T(e.direction)?"normal":e.direction,c=!T(e.debug)&&e.debug,l=function(){},s=function(){},f=function(){},p=function(){},y=function(){};M(e.onTick)&&(l=e.onTick),M(e.onStart)&&(s=e.onStart),M(e.onEnd)&&(f=e.onEnd),M(e.onFirst)&&(p=e.onFirst),M(e.onLast)&&(y=e.onLast);var h=new pa(t,{debug:c,fps:r,container:n,totalTimecode:z(r,i/1e3)}),v=U({speed:o,duration:i,iterationCount:u,direction:a,startCallback:s,endCallback:f,firstCallback:p,lastCallback:y,tick:function(t,e){h.seek(z(h.fps,t/1e3)),l(t,e,r),c&&console.log("tick : ",h.fps,t,e)}});return{get elapsed(){return v.elapsed},get fps(){return h.fps},get totalTime(){return h.totalTime},get currentTime(){return h.currentTime},play:function(){v.play()},stop:function(){v.stop()},pause:function(){v.pause()}}}r.d(e,"Player",(function(){return ya}));e.default={Player:ya}}])}));