!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.anipa=e():t.anipa=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"debounce",(function(){return O})),n.d(r,"throttle",(function(){return j})),n.d(r,"keyEach",(function(){return k})),n.d(r,"keyMap",(function(){return w})),n.d(r,"get",(function(){return P})),n.d(r,"defaultValue",(function(){return S})),n.d(r,"isUndefined",(function(){return T})),n.d(r,"isNotUndefined",(function(){return C})),n.d(r,"isArray",(function(){return E})),n.d(r,"isBoolean",(function(){return R})),n.d(r,"isString",(function(){return _})),n.d(r,"isNotString",(function(){return D})),n.d(r,"isObject",(function(){return A})),n.d(r,"isFunction",(function(){return M})),n.d(r,"isNumber",(function(){return I})),n.d(r,"clone",(function(){return L})),n.d(r,"cleanObject",(function(){return X})),n.d(r,"combineKeyArray",(function(){return Y})),n.d(r,"repeat",(function(){return F})),n.d(r,"CSS_TO_STRING",(function(){return N})),n.d(r,"STRING_TO_CSS",(function(){return V}));var o={};n.r(o),n.d(o,"round",(function(){return H})),n.d(o,"degreeToRadian",(function(){return Z})),n.d(o,"radianToDegree",(function(){return Q})),n.d(o,"getXInCircle",(function(){return $})),n.d(o,"getYInCircle",(function(){return J})),n.d(o,"getXYInCircle",(function(){return K})),n.d(o,"getDist",(function(){return W})),n.d(o,"calculateAngle",(function(){return tt})),n.d(o,"uuid",(function(){return nt})),n.d(o,"uuidShort",(function(){return rt}));var i={};n.r(i),n.d(i,"ReverseXyz",(function(){return Nt})),n.d(i,"ReverseRGB",(function(){return Vt})),n.d(i,"XYZtoRGB",(function(){return Bt})),n.d(i,"LABtoXYZ",(function(){return Gt})),n.d(i,"PivotXyz",(function(){return zt})),n.d(i,"XYZtoLAB",(function(){return qt})),n.d(i,"LABtoRGB",(function(){return Ut}));var u={};n.r(u),n.d(u,"RGBtoHSV",(function(){return Ht})),n.d(u,"RGBtoCMYK",(function(){return Zt})),n.d(u,"RGBtoHSL",(function(){return Qt})),n.d(u,"c",(function(){return $t})),n.d(u,"gray",(function(){return Jt})),n.d(u,"RGBtoSimpleGray",(function(){return Kt})),n.d(u,"RGBtoGray",(function(){return Wt})),n.d(u,"brightness",(function(){return te})),n.d(u,"RGBtoYCrCb",(function(){return ee})),n.d(u,"PivotRGB",(function(){return ne})),n.d(u,"RGBtoXYZ",(function(){return re})),n.d(u,"RGBtoLAB",(function(){return oe}));var a={};n.r(a),n.d(a,"HUEtoRGB",(function(){return ie})),n.d(a,"HSLtoHSV",(function(){return ue})),n.d(a,"HSLtoRGB",(function(){return ae}));var c={};n.r(c),n.d(c,"matches",(function(){return ye})),n.d(c,"convertMatches",(function(){return he})),n.d(c,"convertMatchesArray",(function(){return ve})),n.d(c,"reverseMatches",(function(){return ge})),n.d(c,"trim",(function(){return be})),n.d(c,"parse",(function(){return me})),n.d(c,"parseGradient",(function(){return Oe}));var l={};n.r(l),n.d(l,"format",(function(){return _e})),n.d(l,"hex",(function(){return De})),n.d(l,"rgb",(function(){return Ae})),n.d(l,"hsl",(function(){return Me}));var s={};n.r(s),n.d(s,"randomNumber",(function(){return Ie})),n.d(s,"random",(function(){return Le}));var f={};n.r(f),n.d(f,"CMYKtoRGB",(function(){return Xe}));var p={};n.r(p),n.d(p,"HSVtoRGB",(function(){return Ye})),n.d(p,"HSVtoHSL",(function(){return Fe}));var h={};n.r(h),n.d(h,"YCrCbtoRGB",(function(){return Ne}));var v={};function g(t){return function(t){if(Array.isArray(t))return t}(t)||b(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){var n=void 0;return function(r,o,i,u,a){n&&clearTimeout(n),n=setTimeout((function(){t(r,o,i,u,a)}),e||300)}}function j(t,e){var n=void 0;return function(r,o,i,u,a){n||(n=setTimeout((function(){t(r,o,i,u,a),n=null}),e||300))}}function k(t,e){Object.keys(t).forEach((function(n,r){e(n,t[n],r)}))}function w(t,e){return Object.keys(t).map((function(n,r){return e(n,t[n],r)}))}function P(t,e,n){var r=S(t[e],e);return M(n)?n(r):r}function S(t,e){return void 0===t?e:t}function T(t){return null==t}function C(t){return!1===T(t)}function E(t){return Array.isArray(t)}function R(t){return"boolean"==typeof t}function _(t){return"string"==typeof t}function D(t){return!1===_(t)}function A(t){return"object"==m(t)&&!E(t)&&!I(t)&&!_(t)&&null!==t}function M(t){return"function"==typeof t}function I(t){return"number"==typeof t}function L(t){return JSON.parse(JSON.stringify(t))}function X(t){var e={};return Object.keys(t).filter((function(e){return!!t[e]})).forEach((function(n){e[n]=t[n]})),e}function Y(t){return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].join(", "))})),t}function F(t){return d(Array(t))}function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t;return Object.keys(n).filter((function(t){return n[t]})).map((function(t){return"".concat(t,": ").concat(n[t])})).join(";"+e)}function V(t){var e={};return(t+="").split(";").forEach((function(t){var n=g(t.split(":").map((function(t){return t.trim()}))),r=n[0],o=n.slice(1);""!=r&&(e[r]=o.join(":"))})),e}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(t,e){if(_(e)){var n=B(e.split(":"),4),r=n[0],o=n[1],i=n[2],u=n[3];return 3600*(r=parseInt(r,10))+60*(o=parseInt(o,10))+(i=parseInt(i,10))+(u=parseInt(u,10))*(1/t)}return I(e)?e/t:0}function z(t,e){var n=Math.floor(e/3600),r=Math.floor(e/60%60),o=Math.floor(e%60),i=Math.round((e-Math.floor(e))*t);return i===t&&(i=0,60===(o+=1)&&60===(r+=1)&&(n+=1)),[n,r,o,i].map((function(t){return(t+"").padStart(2,"0")})).join(":")}function q(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return z(t,G(t,e)-G(t,n))}function U(t){var e={id:0,start:0,speed:t.speed||1,elapsed:t.elapsed||0,duration:t.duration||0,iterationStartCount:1,iterationCount:t.iterationCount||Number.MAX_SAFE_INTEGER,direction:t.direction||"normal",log:[],logIndex:0,tick:t.tick||function(){},startCallback:t.start||function(){},endCallback:t.end||function(){},firstCallback:t.first||function(){},lastCallback:t.last||function(){}},n=function(t){return"normal"===e.direction||"reverse"!==e.direction&&("alternate"===e.direction?e.iterationStartCount%2==1:"alternate-reverse"===e.direction?e.iterationStartCount%2==0:void 0)?t:1-t},r=function(t){var r=!1;null===e.start&&(e.start=t,r=!0);var u=t-e.start;e.elapsed+=u*e.speed,e.start=t,e.elapsed>e.duration&&(e.elapsed=e.duration);var a=n(e.elapsed/e.duration)*e.duration;r&&e.startCallback(a,e),e.log[e.logIndex++]={elapsed:a,dt:e.lastTime-a},e.lastTime=a,e.tick(a,e),e.elapsed===e.duration?i():o()},o=function(){e.id=requestAnimationFrame(r)},i=function(){e.endCallback(e.elapsed,e),e.iterationStartCount++,e.iterationStartCount>e.iterationCount?(e.lastCallback(e.elapsed,e),cancelAnimationFrame(e.id)):(e.start=null,e.elapsed=0,o())},u=function(t){e.elapsed=t,e.tick(e.elapsed,e)};return{play:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.start=null,e.iterationStartCount=1,e.log=[],e.lastTime=0,e.logIndex=0,I(t.elapsed)&&(e.elapsed=t.elapsed),I(t.speed)&&(e.speed=t.speed),I(t.duration)&&(e.duration=t.duration),I(t.iterationCount)&&(e.iterationCount=t.iterationCount||Number.MAX_SAFE_INTEGER),_(t.direction)&&(e.direction=t.direction),M(t.tick)&&(e.tick=t.tick),M(t.start)&&(e.startCallback=t.start),M(t.end)&&(e.endCallback=t.end),M(t.first)&&(e.firstCallback=t.first),M(t.last)&&(e.lastCallback=t.last),e.firstCallback(e.elapsed,e),o()},stop:function(){cancelAnimationFrame(e.id)},tick:r,first:function(t){u(0)},last:function(t){u(e.duration)},seek:u,timer:e}}function H(t,e){return e=T(e)?1:e,Math.round(t*e)/e}function Z(t){return t*Math.PI/180}function Q(t){var e=180*t/Math.PI;return e<0&&(e=360+e),e}function $(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+e*Math.cos(Z(t))}function J(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+e*Math.sin(Z(t))}function K(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:$(t,e,n),y:J(t,e,r)}}function W(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-e),2))}function tt(t,e){return Q(Math.atan2(e,t))}n.r(v),n.d(v,"interpolateRGB",(function(){return Ve})),n.d(v,"interpolateRGBObject",(function(){return Be})),n.d(v,"scale",(function(){return Ge})),n.d(v,"blend",(function(){return ze})),n.d(v,"mix",(function(){return qe})),n.d(v,"contrast",(function(){return Ue})),n.d(v,"contrastColor",(function(){return He})),n.d(v,"gradient",(function(){return Ze})),n.d(v,"scaleHSV",(function(){return Qe})),n.d(v,"scaleH",(function(){return $e})),n.d(v,"scaleS",(function(){return Je})),n.d(v,"scaleV",(function(){return Ke}));var et=/[xy]/g;function nt(){var t=(new Date).getTime();return"xxx12-xx-34xx".replace(et,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}function rt(){var t=(new Date).getTime();return"idxxxxxxx".replace(et,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}var ot={linear:!0,ease:!0,"ease-in":!0,"ease-out":!0,"ease-in-out":!0},it=[[0,0,1,1,"linear",!0],[.25,.1,.25,1,"ease",!0],[.42,0,1,1,"ease-in",!0],[0,0,.58,1,"ease-out",!0],[.47,0,.745,.715,"ease-in-sine"],[.39,.575,.565,1,"ease-out-sine"],[.445,.05,.55,.95,"ease-in-out-sine"],[.55,.085,.68,.53,"ease-in-quad"],[.25,.46,.45,.94,"ease-out-quad"],[.455,.03,.515,.955,"ease-in-out-quad"],[.55,.055,.675,.19,"ease-in-cubic"],[.215,.61,.355,1,"ease-out-cubic"],[.645,.045,.355,1,"ease-in-out-cubic"],[.895,.03,.685,.22,"ease-in-quart"],[.165,.84,.44,1,"ease-out-quart"],[.77,0,.175,1,"ease-in-out-quart"],[.6,.04,.98,.335,"ease-in-circ"],[.075,.82,.165,1,"ease-out-circ"],[.785,.135,.15,.86,"ease-in-out-circ"],[.95,.05,.795,.035,"ease-in-expo"],[.19,1,.22,1,"ease-out-expo"],[1,0,0,1,"ease-in-out-expo"],[.755,.05,.855,.06,"ease-in-quint"],[.23,1,.32,1,"ease-out-quint"],[.86,0,.07,1,"ease-in-out-quint"],[.6,-.28,.735,.045,"ease-in-back"],[.175,.885,.32,1.275,"ease-out-back"],[.68,-.55,.265,1.55,"ease-in-out-back"]],ut=function(t){if("string"==typeof t){if(ot[t])return it.filter((function(e){return e[4]===t}))[0];var e=t.replace("cubic-bezier","").replace("(","").replace(")","").split(",");return e=e.map((function(t){return parseFloat(t.trim())}))}return t},at=function(t,e,n,r){var o=[t,e,n,r];return function(t){return yt(o,t)}},ct=function(t,e,n){var r=[t,e,n];return function(t){return ht(r,t)}},lt=function(t,e,n,r,o,i,u,a){for(var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1e3,l=at({x:t,y:e},{x:n,y:r},{x:o,y:i},{x:u,y:a}),s=0,f=l(0),p=0;p<=c;p++){var y=p/c,h=l(y);s+=W(f.x,f.y,h.x,h.y),f=h}return s},st=function(t,e,n,r,o,i){for(var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3,a=ct({x:t,y:e},{x:n,y:r},{x:o,y:i}),c=0,l=a(0),s=0;s<=u;s++){var f=s/u,p=a(f);c+=W(l.x,l.y,p.x,p.y),l=p}return c},ft=function(t){var e=ut(t),n={x:e[0],y:e[1]},r={x:e[2],y:e[3]};return at({x:0,y:0},n,r,{x:1,y:1})},pt=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}},yt=function(t,e){var n=pt(t[0],t[1],e),r=pt(t[1],t[2],e),o=pt(t[2],t[3],e),i=pt(n,r,e),u=pt(r,o,e);return pt(i,u,e)},ht=function(t,e){var n=pt(t[0],t[1],e),r=pt(t[1],t[2],e);return pt(n,r,e)};function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var dt={center:50,top:0,left:0,right:100,bottom:100},bt=function t(){gt(this,t)};bt.CENTER="center",bt.TOP="top",bt.RIGHT="right",bt.LEFT="left",bt.BOTTOM="bottom";var mt=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi,Ot=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(gt(this,t),this.value=e,I(this.value)&&isNaN(this.value))throw new Error("NaN is not able to set");this.unit=n}var e,n,r;return e=t,n=[{key:Symbol.toPrimitive,value:function(t){return"number"==t?this.value:this.toString()}},{key:"toString",value:function(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return"var(--".concat(this.value,")");case"calc":return"calc(".concat(this.value,")");default:return this.value+this.unit}}},{key:"isUnitType",value:function(t){return this.unit===t}},{key:"isCalc",value:function(){return this.isUnitType("calc")}},{key:"isFr",value:function(){return this.isUnitType("fr")}},{key:"isPercent",value:function(){return this.isUnitType("%")}},{key:"isPx",value:function(){return this.isUnitType("px")}},{key:"isEm",value:function(){return this.isUnitType("em")}},{key:"isDeg",value:function(){return this.isUnitType("deg")}},{key:"isTurn",value:function(){return this.isUnitType("turn")}},{key:"isSecond",value:function(){return this.isUnitType("s")}},{key:"isMs",value:function(){return this.isUnitType("ms")}},{key:"isNumber",value:function(){return this.isUnitType("number")}},{key:"isString",value:function(){return this.isUnitType("")}},{key:"isVar",value:function(){return this.isUnitType("--")}},{key:"isNaN",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return I(this.value)&&isNaN(this.value)}))},{key:"set",value:function(t){return this.value=t,this}},{key:"add",value:function(t){return this.value+=+t,this}},{key:"sub",value:function(t){return this.add(-1*t)}},{key:"mul",value:function(t){return this.value*=+t,this}},{key:"div",value:function(t){return this.value/=+t,this}},{key:"mod",value:function(t){return this.value%=+t,this}},{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"getUnitName",value:function(){return"%"===this.unit?"percent":this.unit}},{key:"toJSON",value:function(){return{value:this.value,unit:this.unit}}},{key:"rate",value:function(t){return t/this.value}},{key:"stringToPercent",value:function(){return C(dt[this.value])?t.percent(dt[this.value]):t.percent(0)}},{key:"stringToEm",value:function(t){return this.stringToPercent().toEm(t)}},{key:"stringToPx",value:function(t){return this.stringToPercent().toPx(t)}},{key:"toPercent",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?this.clone():this.isPx()?t.percent(100*this.value/e):this.isEm()?t.percent(this.value*n*100/e):this.isString()?this.stringToPercent(e):this.isDeg()?t.percent(this.value/360*100):void 0}},{key:"toEm",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?t.em(this.value/100*e/n):this.isPx()?t.em(this.value/n):this.isEm()?this.clone():this.isString()?this.stringToEm(e):void 0}},{key:"toPx",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.isPercent()?t.px(this.value/100*e):this.isPx()?this.clone():this.isEm()?t.px(this.value/100*e/16):this.isString()?this.stringToPx(e):void 0}},{key:"toDeg",value:function(){return this.isDeg()?this.clone():this.isTurn()?t.deg(360*this.value):void 0}},{key:"toTurn",value:function(){return this.isTurn()?this.clone():this.isDeg()?t.turn(this.value/360):void 0}},{key:"toSecond",value:function(){return this.isSecond()?this:this.isMs()?t.second(this.value/1e3):void 0}},{key:"toMs",value:function(){return this.isSecond()?t.ms(1e3*this.value):this.isMs()?this:void 0}},{key:"to",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return"px"===t?this.toPx(e,n):"%"===t||"percent"===t?this.toPercent(e,n):"em"===t?this.toEm(e,n):"deg"===t?this.toDeg():"turn"===t?this.toTurn():void 0}},{key:"toUnit",value:function(e){return new t(this.value,e)}},{key:"calculate",value:function(t,e){var n=this[t];return n?n.call(this,e):this}},{key:"includes",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.includes(this.value)}},{key:"round",value:function(e){return new t(H(this.value,e),this.unit)}},{key:"equals",value:function(t){return this.is(t.value)&&this.isUnitType(t.unit)}},{key:"is",value:function(t){return this.value===t}}],r=[{key:"min",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value>e[o].value&&(r=e[o]);return r}},{key:"max",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value<e[o].value&&(r=e[o]);return r}},{key:"string",value:function(e){return new t(e+"","")}},{key:"number",value:function(e){return new t(+e,"number")}},{key:"px",value:function(e){return new t(+e,"px")}},{key:"em",value:function(e){return new t(+e,"em")}},{key:"percent",value:function(e){return new t(+e,"%")}},{key:"deg",value:function(e){return new t(+e,"deg")}},{key:"turn",value:function(e){return new t(+e,"turn")}},{key:"fr",value:function(e){return new t(+e,"fr")}},{key:"second",value:function(e){return new t(+e,"s")}},{key:"ms",value:function(e){return new t(+e,"ms")}},{key:"var",value:function(e){return new t(e+"","--")}},{key:"calc",value:function(e){return new t(e,"calc")}},{key:"parse",value:function(e){if(_(e=e||t.number(0))){if((e=e.trim()).indexOf("calc(")>-1)return new t(e.split("calc(")[1].split(")")[0],"calc");var n=e.replace(mt,"$1 $2").split(" ").map((function(t){return t.trim()}));return+n[0]==n[0]?new t(+n[0],n[1]):new t(n[0])}if(e instanceof t)return e;if(e.unit){if("%"==e.unit||"percent"==e.unit){var r=0;return C(e.percent)?r=e.percent:C(e.value)&&(r=e.value),t.percent(r)}if("px"==e.unit)return r=0,C(e.px)?r=e.px:C(e.value)&&(r=e.value),t.px(r);if("em"==e.unit)return r=0,C(e.em)?r=e.em:C(e.value)&&(r=e.value),t.em(r);if("deg"==e.unit)return r=0,C(e.deg)?r=e.deg:C(e.value)&&(r=e.value),t.deg(r);if("turn"==e.unit)return r=0,C(e.deg)?r=e.turn:C(e.value)&&(r=e.value),t.turn(r);if("s"==e.unit)return r=0,C(e.second)?r=e.second:C(e.value)&&(r=e.value),t.second(r);if("ms"==e.unit)return r=0,C(e.ms)?r=e.ms:C(e.value)&&(r=e.value),t.ms(r);if("number"==e.unit)return r=0,C(e.value)&&(r=e.value),t.number(r);if("--"==e.unit)return r=0,C(e.value)&&(r=e.value),t.var(r);if(""===e.unit||"string"===e.unit)return r="",C(e.str)?r=e.str:C(e.value)&&(r=e.value),t.string(r)}return t.string(e)}}],n&&vt(e.prototype,n),r&&vt(e,r),t}();function jt(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return function(t,e){if(0===e)return n;if(1===e)return r;var i=n+(r-n)*t;return o?i+o:i}}function kt(t,e,n){return function(t,e){return n}}function wt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"width",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"parent",i=null;return n.isPx()?n:("parent"===o?i=Ot.parse(t.parent().css(r)):"self"===o&&(i=Ot.parse(t.css(r))),i?n.toPx(i.value):n)}function Pt(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent",u=Ot.parse(n),a=Ot.parse(r);return u.unit===a.unit?jt(t,e,u.value,a.value,u.unit):u.equals(a)?kt(0,0,u):function(n,r){var c=wt(t,e,u,o,i),l=wt(t,e,a,o,i);return 0===r?c:1===r?l:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent";if(n.isPx()&&"px"===r)return n;var u=null;return"parent"===i?u=Ot.parse(t.parent().css(o)).value:"self"===i&&(u=Ot.parse(t.css(o)).value),null!=u?n.to(r,u):n}(t,e,Ot.px(c.value+(l.value-c.value)*n),u.unit,o,i)}}function St(t,e,n,r){var o=V(n),i=V(r),u=[];return Object.keys(o).forEach((function(n){u.push({key:n,value:Pt(t,e,o[n],i[n])})})),function(t,e){var n={};return u.forEach((function(r){n[r.key]=r.value(t,e)})),N(n)}}function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(n,!0).forEach((function(e){Ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Ot.auto=Ot.string("auto");var _t=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n instanceof t&&(n=n.toJSON()),this.json=this.convert(Object.assign({},this.getDefaultObject(),n)),this.ref=new Proxy(this,{get:function(t,e){var n=t[e];return M(n)?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(t,r)}:n||t.json[e]},set:function(t,n,r){if(r&&r.realVal&&M(r.realVal)&&(r=r.realVal()),!e.checkField(n,r))throw new Error("".concat(r," is invalid as ").concat(n," property value."));return t.json[n]=r,!0}}),this.ref}var e,n,r;return e=t,(n=[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"isAttribute",value:function(){return!1}},{key:"recover",value:function(){}},{key:"setCache",value:function(){}},{key:"is",value:function(){if(!this.json)return!1;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.indexOf(this.json.itemType)>-1}},{key:"isNot",value:function(){return!1===this.is.apply(this,arguments)}},{key:"convert",value:function(t){var e=this;return t.layers.forEach((function(t){t.parent=e.ref})),t}},{key:"checkField",value:function(t,e){return!0}},{key:"toCloneObject",value:function(){return{itemType:this.json.itemType,elementType:this.json.elementType,type:this.json.type,visible:this.json.visible,lock:this.json.lock,selected:this.json.selected,layers:this.json.layers.map((function(t){return t.clone()}))}}},{key:"clone",value:function(){var t=new(0,this.constructor)(this.toCloneObject());return t.parent=this.json.parent,t}},{key:"reset",value:function(e){e instanceof t&&(e=e.toJSON()),this.json=this.convert(Tt({},this.json,{},e))}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tt({layers:[]},t)}},{key:"add",value:function(t){return this.json.layers.push(t),t.parent=this.ref,t}},{key:"toggle",value:function(t,e){T(e)?this.json[t]=!this.json[t]:this.json[t]=!!e}},{key:"toJSON",value:function(){return this.json}},{key:"resize",value:function(){}},{key:"copy",value:function(){return this.json.parent.copyItem(this.ref)}},{key:"copyItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=t.clone();n.setScreenX(n.screenX.value+e),n.setScreenY(n.screenY.value+e);for(var r=this.json.layers,o=-1,i=0,u=r.length;i<u;i++)if(r[i]===t){o=i;break}return o>-1&&this.json.layers.splice(o+1,0,n),n}},{key:"remove",value:function(){this.json.parent.removeItem(this.ref)}},{key:"removeItem",value:function(t){for(var e=this.json.layers,n=-1,r=0,o=e.length;r<o;r++)if(e[r]===t){n=r;break}n>-1&&this.json.layers.splice(n,1)}},{key:"searchById",value:function(t){if(this.id===t)return this.ref;for(var e=0,n=this.layers.length;e<n;e++){var r=this.layers[e];if(r.id===t)return r;var o=r.searchById(t);if(o)return o}return null}},{key:"title",get:function(){return this.json.name||this.getDefaultTitle()}},{key:"id",get:function(){return this.json.id}},{key:"layers",get:function(){return this.json.layers}},{key:"parent",get:function(){return this.json.parent}},{key:"html",get:function(){var t=this.json,e=t.elementType,n=t.id,r=t.layers,o=t.itemType,i=e||"div";return"\n    <".concat(i," class='element-item ").concat(o,"' data-id=\"").concat(n,'">\n      ').concat(r.map((function(t){return t.html})).join(""),"\n    </").concat(i,">\n    ")}},{key:"allLayers",get:function(){return Rt(function t(e){var n=[];return e.layers.length&&e.layers.forEach((function(e){n.push.apply(n,Rt(t(e)))})),n.push(e),n}(this.ref))}}])&&Et(e.prototype,n),r&&Et(e,r),t}();function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mt(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Mt(this,It(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(e,t),n=e,(r=[{key:"isAttribute",value:function(){return!0}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return N(this.toCSS())}}])&&At(n.prototype,r),o&&At(n,o),e}(_t),Yt={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)"};var Ft={isColorName:function(t){return!!Yt[t]},getColorByName:function(t){return Yt[t]}};function Nt(t){return Math.pow(t,3)>.008856?Math.pow(t,3):(t-16/116)/7.787}function Vt(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}function Bt(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/100,i=e/100,u=n/100,a=3.2406*o+-1.5372*i+-.4986*u,c=-.9689*o+1.8758*i+.0415*u,l=.0557*o+-.204*i+1.057*u;return a=Vt(a),c=Vt(c),l=Vt(l),{r:H(255*a),g:H(255*c),b:H(255*l)}}function Gt(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}var o=(t+16)/116,i=e/500+o,u=o-n/200;return o=Nt(o),{x:95.047*(i=Nt(i)),y:100*o,z:108.883*(u=Nt(u))}}function zt(t){return t>.008856?Math.pow(t,1/3):(7.787*t+16)/116}function qt(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/95.047,i=e/100,u=n/108.883;return o=zt(o),{l:116*(i=zt(i))-16,a:500*(o-i),b:200*(i-(u=zt(u)))}}function Ut(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}return Bt(Gt(t,e,n))}function Ht(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,u=n/255,a=Math.max(o,i,u),c=a-Math.min(o,i,u),l=0;0==c?l=0:a==o?l=(i-u)/c%6*60:a==i?l=60*((u-o)/c+2):a==u&&(l=60*((o-i)/c+4)),l<0&&(l=360+l);return{h:l,s:0==a?0:c/a,v:a}}function Zt(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,u=n/255,a=1-Math.max(o,i,u);return{c:(1-o-a)/(1-a),m:(1-i-a)/(1-a),y:(1-u-a)/(1-a),k:a}}function Qt(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}t/=255,e/=255,n/=255;var o,i,u=Math.max(t,e,n),a=Math.min(t,e,n),c=(u+a)/2;if(u==a)o=i=0;else{var l=u-a;switch(i=c>.5?l/(2-u-a):l/(u+a),u){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4}o/=6}return{h:H(360*o),s:H(100*i),l:H(100*c)}}function $t(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return Jt((t+e+n)/3>90?0:255)}function Jt(t){return{r:t,g:t,b:t}}function Kt(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return Jt(Math.ceil((t+e+n)/3))}function Wt(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return Jt(ee(t,e,n).y)}function te(t,e,n){return Math.ceil(.2126*t+.7152*e+.0722*n)}function ee(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=te(t,e,n);return{y:o,cr:.713*(t-o),cb:.564*(n-o)}}function ne(t){return 100*(t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)}function re(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,u=n/255;return{x:.4124*(o=ne(o))+.3576*(i=ne(i))+.1805*(u=ne(u)),y:.2126*o+.7152*i+.0722*u,z:.0193*o+.1192*i+.9505*u}}function oe(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return qt(re(t,e,n))}function ie(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ue(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o=ae(t,e,n);return Ht(o.r,o.g,o.b)}function ae(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o,i,u;if(t/=360,n/=100,0==(e/=100))o=i=u=n;else{var a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;o=ie(c,a,t+1/3),i=ie(c,a,t),u=ie(c,a,t-1/3)}return{r:H(255*o),g:H(255*i),b:H(255*u)}}function ce(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(n,!0).forEach((function(e){fe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pe=/(#(?:[\da-f]{3}){1,2}|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function ye(t){var e=t.match(pe),n=[];if(!e)return n;for(var r=0,o=e.length;r<o;r++)if(e[r].indexOf("#")>-1||e[r].indexOf("rgb")>-1||e[r].indexOf("hsl")>-1)n.push({color:e[r]});else{var i=Ft.getColorByName(e[r]);i&&n.push({color:e[r],nameColor:i})}var u={next:0};return n.forEach((function(e){var n=t.indexOf(e.color,u.next);e.startIndex=n,e.endIndex=n+e.color.length,u.next=e.endIndex})),n}function he(t){var e=ye(t);return e.forEach((function(e,n){t=t.replace(e.color,"@"+n)})),{str:t,matches:e}}function ve(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=he(t);return n.str.split(e).map((function(t,e){return t=be(t),n.matches[e]&&(t=t.replace("@"+e,n.matches[e].color)),t}))}function ge(t,e){return e.forEach((function(e,n){t=t.replace("@"+n,e.color)})),t}var de=/^\s+|\s+$/g;function be(t){return t.replace(de,"")}function me(t){if(_(t)){if(Ft.isColorName(t)&&(t=Ft.getColorByName(t)),t.indexOf("rgb(")>-1){for(var e=0,n=(r=t.replace("rgb(","").replace(")","").split(",")).length;e<n;e++)r[e]=parseInt(be(r[e]),10);return i=se({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:1},{},Qt(i))}if(t.indexOf("rgba(")>-1){for(e=0,n=(r=t.replace("rgba(","").replace(")","").split(",")).length;e<n;e++)r[e]=n-1==e?parseFloat(be(r[e])):parseInt(be(r[e]),10);return i=se({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:r[3]},{},Qt(i))}if(t.indexOf("hsl(")>-1){for(e=0,n=(r=t.replace("hsl(","").replace(")","").split(",")).length;e<n;e++)r[e]=parseFloat(be(r[e]));return i=se({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:1},{},ae(i))}if(t.indexOf("hsla(")>-1){for(e=0,n=(r=t.replace("hsla(","").replace(")","").split(",")).length;e<n;e++)r[e]=n-1==e?parseFloat(be(r[e])):parseInt(be(r[e]),10);return i=se({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:r[3]},{},ae(i))}if(0==t.indexOf("#")){var r=[];if(3==(t=t.replace("#","")).length)for(e=0,n=t.length;e<n;e++){var o=t.substr(e,1);r.push(parseInt(o+o,16))}else for(e=0,n=t.length;e<n;e+=2)r.push(parseInt(t.substr(e,2),16));return i=se({},i={type:"hex",r:r[0],g:r[1],b:r[2],a:1},{},Qt(i))}}else if(I(t)){var i;if(0<=t&&t<=16777215)return i=se({},i={type:"hex",r:(16711680&t)>>16,g:(65280&t)>>8,b:(255&t)>>0,a:1},{},Qt(i));if(0<=t&&t<=4294967295)return i=se({},i={type:"hex",r:(4278190080&t)>>24,g:(16711680&t)>>16,b:(65280&t)>>8,a:(255&t)/255},{},Qt(i))}return t}function Oe(t){_(t)&&(t=ve(t));var e=(t=t.map((function(t){if(_(t)){var e=he(t),n=be(e.str).split(" ");return n[1]?n[1].indexOf("%")>-1?n[1]=parseFloat(n[1].replace(/%/,""))/100:n[1]=parseFloat(n[1]):n[1]="*",n[0]=ge(n[0],e.matches),n}if(Array.isArray(t))return t[1]?_(t[1])&&(t[1].indexOf("%")>-1?t[1]=parseFloat(t[1].replace(/%/,""))/100:t[1]=+t[1]):t[1]="*",ce(t)}))).filter((function(t){return"*"===t[1]})).length;if(e>0){var n=(1-t.filter((function(t){return"*"!=t[1]&&1!=t[1]})).map((function(t){return t[1]})).reduce((function(t,e){return t+e}),0))/e;t.forEach((function(e,r){"*"==e[1]&&r>0&&(t.length-1==r||(e[1]=n))}))}return t}function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Se(t,e){return!e||"object"!==je(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xe(t,e,n){return(xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Te(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ce(t,e){return(Ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ee=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Se(this,Te(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ce(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=he(t);return n=r.str.split(",").filter((function(t){return t.trim()})).map((function(t){var n=t.split(" "),o=n.filter((function(t){return"inset"===t})),i=n.filter((function(t){return t.includes("@")})).map((function(t){return r.matches[+t.replace("@","")].color})),u=n.filter((function(t){return"inset"!==t&&!t.includes("@")}));return e.parse({inset:!!o.length,color:i[0]||"rgba(0, 0, 0, 1)",offsetX:Ot.parse(u[0]||"0px"),offsetY:Ot.parse(u[1]||"0px"),blurRadius:Ot.parse(u[2]||"0px"),spreadRadius:Ot.parse(u[3]||"0px")})}))}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(", ")}}],(r=[{key:"getDefaultObject",value:function(){return xe(Te(e.prototype),"getDefaultObject",this).call(this,{itemType:"box-shadow",inset:!1,offsetX:Ot.px(0),offsetY:Ot.px(0),blurRadius:Ot.px(0),spreadRadius:Ot.px(0),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){var t=this.json;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(n,!0).forEach((function(e){we(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},xe(Te(e.prototype),"toCloneObject",this).call(this),{inset:t.inset,offsetX:t.offsetX+"",offsetY:t.offsetY+"",blurRadius:t.blurRadius+"",spreadRadius:t.spreadRadius+"",color:t.color})}},{key:"convert",value:function(t){return(t=xe(Te(e.prototype),"convert",this).call(this,t)).offsetX=Ot.parse(t.offsetX),t.offsetY=Ot.parse(t.offsetY),t.blurRadius=Ot.parse(t.blurRadius),t.spreadRadius=Ot.parse(t.spreadRadius),t}},{key:"toCSS",value:function(){return{"box-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.inset?"inset ":"").concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.spreadRadius," ").concat(t.color)}}])&&Pe(n.prototype,r),o&&Pe(n,o),e}(Xt);function Re(t,e,n,r){return function(t,e){return 1===e?r:n}}function _e(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),"hex"==e?De(t):"rgb"==e?Ae(t,n):"hsl"==e?Me(t):t}function De(t){Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]});var e=t.r.toString(16);t.r<16&&(e="0"+e);var n=t.g.toString(16);t.g<16&&(n="0"+n);var r=t.b.toString(16);return t.b<16&&(r="0"+r),"#".concat(e).concat(n).concat(r)}function Ae(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(E(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),!T(t))return 1==t.a||T(t.a)?isNaN(t.r)?e:"rgb(".concat(t.r,",").concat(t.g,",").concat(t.b,")"):"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")")}function Me(t){return E(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),1==t.a||T(t.a)?"hsl(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%)"):"hsla(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%,").concat(t.a,")")}function Ie(t,e){return Math.floor(Math.random()*(e-t+1))+t}function Le(){return Ae({r:Ie(0,255),g:Ie(0,255),b:Ie(0,255)})}function Xe(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.c,e=o.m,n=o.y,r=o.k}return{r:255*(1-t)*(1-r),g:255*(1-e)*(1-r),b:255*(1-n)*(1-r)}}function Ye(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=t,i=n;o>=360&&(o=0);var u=e*i,a=u*(1-Math.abs(o/60%2-1)),c=i-u,l=[];return 0<=o&&o<60?l=[u,a,0]:60<=o&&o<120?l=[a,u,0]:120<=o&&o<180?l=[0,u,a]:180<=o&&o<240?l=[0,a,u]:240<=o&&o<300?l=[a,0,u]:300<=o&&o<360&&(l=[u,0,a]),{r:H(255*(l[0]+c)),g:H(255*(l[1]+c)),b:H(255*(l[2]+c))}}function Fe(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=Ye(t,e,n);return Qt(o.r,o.g,o.b)}function Ne(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.y,e=o.cr,n=o.cb;r=(r=o.bit)||0}var i=t+1.402*(e-r),u=t-.344*(n-r)-.714*(e-r),a=t+1.772*(n-r);return{r:Math.ceil(i),g:Math.ceil(u),b:Math.ceil(a)}}function Ve(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=Be(t,e,n);return _e(o,o.a<1?"rgb":r)}function Be(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return{r:H(t.r+(e.r-t.r)*n),g:H(t.g+(e.g-t.g)*n),b:H(t.b+(e.b-t.b)*n),a:H(t.a+(e.a-t.a)*n,100)}}function Ge(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!t)return[];_(t)&&(t=ve(t));for(var n=(t=t||[]).length,r=[],o=0;o<n-1;o++)for(var i=0;i<e;i++)r.push(ze(t[o],t[o+1],i/e));return r}function ze(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return Ve(me(t),me(e),n,r)}function qe(t,e){return ze(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex")}function Ue(t){return t=me(t),(Math.round(299*t.r)+Math.round(587*t.g)+Math.round(114*t.b))/1e3}function He(t){return Ue(t)>=128?"black":"white"}function Ze(t){for(var e=[],n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:10)-((t=Oe(t)).length-1),r=n,o=1,i=t.length;o<i;o++){var u=t[o-1][0],a=t[o][0],c=1==o?t[o][1]:t[o][1]-t[o-1][1],l=o==t.length-1?r:Math.floor(c*n);e=e.concat(Ge([u,a],l),[a]),r-=l}return e}function Qe(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,a=Ht(me(t)),c=(i-o)*u/n,l=[],s=1;s<=n;s++)a[e]=Math.abs((u-c*s)/u),l.push(_e(Ye(a),r));return l}function $e(t){return Qe(t,"h",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:360,1)}function Je(t){return Qe(t,"s",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)}function Ke(t){return Qe(t,"v",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)}function We(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Ge.parula=function(t){return Ge(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},Ge.jet=function(t){return Ge(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},Ge.hsv=function(t){return Ge(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},Ge.hot=function(t){return Ge(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},Ge.pink=function(t){return Ge(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},Ge.bone=function(t){return Ge(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},Ge.copper=function(t){return Ge(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)};var en=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?We(n,!0).forEach((function(e){tn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):We(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s,{},l,{},o,{},v,{},c,{},h,{},u,{},f,{},p,{},a,{},i,{},r);function nn(t,e,n,r){var o=en.parse(n),i=en.parse(r);return function(t,e){return 0===e?n:1===e?r:Ve(o,i,t,"rgb")}}function rn(t,e,n,r){for(var o=Ee.parseStyle(n),i=Ee.parseStyle(r),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||Ee.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[c]||Ee.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0];a.push({inset:Re(0,0,s.inset,f.inset),offsetX:Pt(t,e,s.offsetX,f.offsetX),offsetY:Pt(t,e,s.offsetY,f.offsetY),blurRadius:Pt(t,e,s.blurRadius,f.blurRadius),spreadRadius:Pt(t,e,s.spreadRadius,f.spreadRadius),color:nn(0,0,s.color,f.color)})}return function(t,e){return Ee.join(a.map((function(n){return{inset:n.inset(t,e),offsetX:n.offsetX(t,e),offsetY:n.offsetY(t,e),blurRadius:n.blurRadius(t,e),spreadRadius:n.spreadRadius(t,e),color:n.color(t,e)}})))}}function on(t,e,n,r){return Re(0,0,n,r)}var un=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return t=+t,function(n){var r=1/t;return"start"==e?r*Math.ceil(n/r):"end"==e?r*Math.floor(n/r):void 0}};function an(){return un(1,"start")}function cn(){return un(1,"end")}var ln=function(){return function(t){return Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1}},sn={step:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return un(t,e)},"step-start":an,"step-end":cn,stepStart:an,stepEnd:cn,"ease-out-elastic":ln,easeOutElastic:ln};function fn(t,e,n){return n.toDeg()}function pn(t,e,n,r){var o=Ot.parse(n),i=Ot.parse(r);return function(t,e){var n=fn(0,0,o),r=fn(0,0,i);return 0===e?n:1===e?r:Ot.deg(n.value+(r.value-n.value)*t).to(o.unit)}}function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e){return!e||"object"!==yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bn(t,e,n){return(bn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function mn(t){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function On(t,e){return(On=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),dn(this,mn(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&On(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=he(t);return n.str.split(",").filter((function(t){return t.trim()})).map((function(t){var r=t.split(" "),o=r.filter((function(t){return t.includes("@")})).map((function(t){return n.matches[+t.replace("@","")].color})),i=r.filter((function(t){return!t.includes("@")}));return e.parse({color:o[0]||"rgba(0, 0, 0, 1)",offsetX:Ot.parse(i[0]||"0px"),offsetY:Ot.parse(i[1]||"0px"),blurRadius:Ot.parse(i[2]||"0px")})}))}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(", ")}}],(r=[{key:"getDefaultObject",value:function(){return bn(mn(e.prototype),"getDefaultObject",this).call(this,{itemType:"text-shadow",offsetX:Ot.px(0),offsetY:Ot.px(0),blurRadius:Ot.px(0),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hn(n,!0).forEach((function(e){vn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hn(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},bn(mn(e.prototype),"toCloneObject",this).call(this),{offsetX:this.json.offsetX+"",offsetY:this.json.offsetY+"",blurRadius:this.json.blurRadius+"",color:this.json.color})}},{key:"convert",value:function(t){return(t=bn(mn(e.prototype),"convert",this).call(this,t)).offsetX=Ot.parse(t.offsetX),t.offsetY=Ot.parse(t.offsetY),t.blurRadius=Ot.parse(t.blurRadius),t}},{key:"toCSS",value:function(){return{"text-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color)}}])&&gn(n.prototype,r),o&&gn(n,o),e}(Xt);function kn(t,e,n,r){for(var o=jn.parseStyle(n),i=jn.parseStyle(r),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||jn.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[c]||jn.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0];a.push({offsetX:Pt(t,e,s.offsetX,f.offsetX,"width","self"),offsetY:Pt(t,e,s.offsetY,f.offsetY,"height","self"),blurRadius:Pt(t,e,s.blurRadius,f.blurRadius,"radius"),color:nn(0,0,s.color,f.color)})}return function(t,e){return jn.join(a.map((function(n){return{offsetX:n.offsetX(t,e),offsetY:n.offsetY(t,e),blurRadius:n.blurRadius(t,e),color:n.color(t,e)}})))}}function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pn(n,!0).forEach((function(e){xn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pn(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cn(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function En(t,e,n){return(En="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _n(t,e){return(_n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Cn(this,Rn(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_n(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return En(Rn(e.prototype),"getDefaultObject",this).call(this,Sn({itemType:"image-resource",type:"image"},t))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}])&&Tn(n.prototype,r),o&&Tn(n,o),e}(Xt);function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mn(n,!0).forEach((function(e){Ln(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mn(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yn(t,e){return!e||"object"!==An(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fn(t,e,n){return(Fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Nn(t){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vn(t,e){return(Vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Yn(this,Nn(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vn(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=[],r=he(t),o=r.str.split(" ").filter((function(t){return t.trim()})),i=+o[0].replace("@",""),u=r.matches[i].color;if(1===o.length)n.push(new e({color:u,unit:"%",percent:0}));else if(2===o.length){var a=Ot.parse(o[1]),c={unit:a.unit};a.isPercent()?c.percent=a.value:a.isPx()?c.px=a.value:a.isEm()&&(c.em=a.value),n.push(new e(In({color:u},c)))}else 3===o.length&&[1,2].forEach((function(t){var r=Ot.parse(o[t]),i={unit:r.unit};r.isPercent()?i.percent=r.value:r.isPx()?i.px=r.value:r.isEm()&&(i.em=r.value),n.push(new e(In({color:u},i)))}));return n}}],(r=[{key:"getDefaultObject",value:function(){return Fn(Nn(e.prototype),"getDefaultObject",this).call(this,{cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",prevColorStep:null})}},{key:"toCloneObject",value:function(){return In({},Fn(Nn(e.prototype),"toCloneObject",this).call(this),{cut:this.json.cut,percent:this.json.percent,unit:this.json.unit,px:this.json.px,em:this.json.em,color:this.json.color})}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"getUnit",value:function(){return"%"==this.json.unit?"percent":this.json.unit}},{key:"add",value:function(t){var e=this.getUnit();return this.json[e]+=+t,this}},{key:"sub",value:function(t){var e=this.getUnit();return this.json[e]-=+t,this}},{key:"mul",value:function(t){var e=this.getUnit();return this.json[e]*=+t,this}},{key:"div",value:function(t){var e=this.getUnit();return this.json[e]/=+t,this}},{key:"mod",value:function(t){var e=this.getUnit();return this.json[e]%=+t,this}},{key:"toLength",value:function(t){return Ot.parse(this.json)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():""}},{key:"toString",value:function(){var t=this.json.cut?this.getPrevLength():"";return"".concat(this.json.color," ").concat(t," ").concat(this.toLength())}},{key:"reset",value:function(t){Fn(Nn(e.prototype),"reset",this).call(this,t),this.parent()&&this.parent().sortColorStep()}},{key:"isPx",get:function(){return"px"==this.json.unit}},{key:"isPercent",get:function(){return"%"==this.json.unit||"percent"===this.json.unit}},{key:"isEm",get:function(){return"em"==this.json.unit}}])&&Xn(n.prototype,r),o&&Xn(n,o),e}(_t);function Gn(t){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zn(n,!0).forEach((function(e){Un(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zn(t,e){return!e||"object"!==Gn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qn(t,e,n){return(Qn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$n(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $n(t){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jn(t,e){return(Jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kn={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Wn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Zn(this,$n(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jn(t,e)}(e,t),n=e,o=[{key:"random",value:function(){var t=Math.floor(1e3*Math.random())%360;return"linear-gradient(".concat(t,"deg, ").concat(en.random()," 0%, ").concat(en.random()," 100%)")}}],(r=[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qn($n(e.prototype),"getDefaultObject",this).call(this,qn({type:"gradient",colorsteps:[]},t))}},{key:"toCloneObject",value:function(){return qn({},Qn($n(e.prototype),"toCloneObject",this).call(this),{colorsteps:this.json.colorsteps.map((function(t){return t.clone()}))})}},{key:"convert",value:function(t){return t.colorsteps=t.colorsteps.map((function(t){return new Bn(t)})),t}},{key:"calculateAngle",value:function(){var t=this.json.angle;return T(Kn[t])?t:Kn[t]||0}},{key:"addColorStep",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.json.colorsteps.push(t),e&&this.sortColorStep(),t}},{key:"insertColorStep",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(216,216,216,0)",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(216,216,216,1)",r=this.colorsteps;if(r.length){if(t<r[0].percent)return r[0].index=1,void this.addColorStep(new Bn({index:0,color:r[0].color,percent:t}));var o=r.length-1;if(r[o].percent<t){var i=r[o].color,u=r[o].index+1;this.addColorStep(new Bn({index:u,color:i,percent:t}))}else for(var a=0,c=r.length-1;a<c;a++){var l=r[a],s=r[a+1];if(l.percent<=t&&t<=s.percent)return i=en.mix(l.color,s.color,(t-l.percent)/(s.percent-l.percent),"rgb"),void this.addColorStep(new Bn({index:l.index+1,color:i,percent:t}))}}else this.addColorStepList([new Bn({color:e,percent:t,index:0}),new Bn({color:n,percent:100,index:100})])}},{key:"sortColorStep",value:function(){var t=this.colorsteps;t.sort((function(t,e){return t.percent>e.percent?1:t.percent<e.percent?-1:t.percent==e.percent?t.index===e.index?0:t.index>e.index?1:-1:void 0})),t.forEach((function(t,e){t.index=100*e}))}},{key:"addColorStepList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.addColorStep(e,!1)})),this.sortColorStep()}},{key:"getColorStep",value:function(t){return this.json.colorsteps.filter((function(e){return e.id==t}))[0]}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"getColorString",value:function(){var t=this.colorsteps;return t.length?t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e})).map((function(t){return"".concat(t)})).join(","):""}},{key:"colorsteps",get:function(){return this.json.colorsteps}}])&&Hn(n.prototype,r),o&&Hn(n,o),e}(Dn);function tr(t){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function or(t,e){return!e||"object"!==tr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ir(t,e,n){return(ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ur(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ur(t){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ar(t,e){return(ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),or(this,ur(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ar(t,e)}(e,t),n=e,o=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return new e({colorsteps:[new Bn({color:t,percent:0,index:0})]})}}],(r=[{key:"getDefaultObject",value:function(){return ir(ur(e.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new Bn({color:"red",percent:0,index:0})]})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?er(n,!0).forEach((function(e){nr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):er(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ir(ur(e.prototype),"toCloneObject",this).call(this),{static:!0})}},{key:"toString",value:function(){var t=this.json.colorsteps[0].color;return"linear-gradient(to right, ".concat(t,", ").concat(t,")")}},{key:"isStatic",value:function(){return!0}}])&&rr(n.prototype,r),o&&rr(n,o),e}(Wn);function lr(t){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sr(n,!0).forEach((function(e){pr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sr(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e,n){return e&&hr(t.prototype,e),n&&hr(t,n),t}function gr(t,e){return!e||"object"!==lr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dr(t,e,n){return(dr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=br(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Or(t,e)}function Or(t,e){return(Or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jr=["jpg","jpeg","png","gif","svg"];var kr=function(t){function e(){return yr(this,e),gr(this,br(e).apply(this,arguments))}return mr(e,t),vr(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dr(br(e.prototype),"getDefaultObject",this).call(this,fr({type:"url",url:"",datauri:""},t))}},{key:"toCloneObject",value:function(){return fr({},dr(br(e.prototype),"toCloneObject",this).call(this),{url:this.json.url,datauri:this.json.datauri})}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.json;if(!t)return"url(".concat(e.url,")")}}],[{key:"parse",value:function(t){return new e({url:t.split("(")[1].split(")")[0]})}},{key:"isImageFile",value:function(t){return jr.includes(t)}}]),e}(Dn);function wr(t){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pr(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Sr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sr(n,!0).forEach((function(e){Tr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sr(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Er(t,e){return!e||"object"!==wr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rr(t,e,n){return(Rr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_r(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _r(t){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dr(t,e){return(Dr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ar={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},Mr={"to top":"0","to top right":"45","to right":"90","to bottom right":"135","to bottom":"180","to bottom left":"225","to left":"270","to top left":"315"},Ir=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Er(this,_r(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dr(t,e)}(e,t),n=e,o=[{key:"toLinearGradient",value:function(t){return 0===t.length?"none":new e({angle:"to right",colorsteps:t})+""}},{key:"parse",value:function(t){var n=he(t),r=0,o=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){t.includes("@")?(t=ge(t,n.matches),o.push.apply(o,Pr(Bn.parse(t)))):r=T(Mr[t])?Ot.parse(t):Ot.deg(+Mr[t])})),new e({angle:r.value,colorsteps:o})}}],(r=[{key:"getDefaultObject",value:function(t){return Rr(_r(e.prototype),"getDefaultObject",this).call(this,xr({type:"linear-gradient",angle:0},t))}},{key:"toCloneObject",value:function(){return xr({},Rr(_r(e.prototype),"toCloneObject",this).call(this),{angle:this.json.angle})}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e="";return I(e=this.json.angle||0)&&(e=Ar["".concat(e)]||e),I(e)&&(e="".concat(e=e>360?e%360:e,"deg")),"".concat(this.json.type,"(").concat(e,", ").concat(t,")")}}])&&Cr(n.prototype,r),o&&Cr(n,o),e}(Wn);function Lr(t){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yr(t,e){return!e||"object"!==Lr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fr(t,e,n){return(Fr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Nr(t){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vr(t,e){return(Vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Br,Gr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Yr(this,Nr(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vr(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=Ir.parse(t);return new e({angle:n.angle,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return Fr(Nr(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}])&&Xr(n.prototype,r),o&&Xr(n,o),e}(Ir);function zr(t){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ur(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hr(n,!0).forEach((function(e){to(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hr(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $r(t,e){return!e||"object"!==zr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jr(t,e,n){return(Jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wr(t,e){return(Wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function to(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eo=(to(Br={},"center",!0),to(Br,"top",!0),to(Br,"left",!0),to(Br,"right",!0),to(Br,"bottom",!0),Br),no=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),$r(this,Kr(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wr(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=he(t),r="ellipse",o=[bt.CENTER,bt.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=ge(t,n.matches),i.push.apply(i,Ur(Bn.parse(t)));else{if(t.includes("at")){var u=qr(t.split("at").map((function(t){return t.trim()})),2);r=u[0],o=u[1]}else r=t;if(_(o)){var a=o.split(" ");if(1===a.length){var c=Ot.parse(a[0]);o=c.isString()?[c.value,c.value]:[c.clone(),c.clone()]}else 2===a.length&&(o=a.map((function(t){var e=Ot.parse(t);return e.isString()?e.value:e.clone()})))}}})),new e({radialType:r,radialPosition:o,colorsteps:i})}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jr(Kr(e.prototype),"getDefaultObject",this).call(this,Zr({type:"radial-gradient",radialType:"ellipse",radialPosition:[bt.CENTER,bt.CENTER]},t))}},{key:"toCloneObject",value:function(){return Zr({},Jr(Kr(e.prototype),"toCloneObject",this).call(this),{radialType:this.json.radialType,radialPosition:L(this.json.radialPosition)})}},{key:"isRadial",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t,e=this.getColorString(),n=this.json,r=n.radialType,o=n.radialPosition||["center","center"];return t=(o=eo[o]?o:o.join(" "))?"".concat(r," at ").concat(o):r,"".concat(n.type||"radial-gradient","(").concat(t,", ").concat(e,")")}}])&&Qr(n.prototype,r),o&&Qr(n,o),e}(Wn);function ro(t){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function io(t,e){return!e||"object"!==ro(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uo(t,e,n){return(uo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ao(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function co(t,e){return(co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lo,so=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),io(this,ao(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&co(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=no.parse(t);return new e({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return uo(ao(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}])&&oo(n.prototype,r),o&&oo(n,o),e}(no);function fo(t){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function po(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function yo(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ho(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ho(n,!0).forEach((function(e){ko(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ho(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bo(t,e){return!e||"object"!==fo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mo(t,e,n){return(mo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Oo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Oo(t){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jo(t,e){return(jo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ko(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wo=(ko(lo={},"center",!0),ko(lo,"top",!0),ko(lo,"left",!0),ko(lo,"right",!0),ko(lo,"bottom",!0),lo),Po={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},So=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),bo(this,Oo(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jo(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=he(t),r="0deg",o=[bt.CENTER,bt.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=ge(t=t.split(" ").map((function(t){return t.trim()})).map((function(t){return t.includes("deg")?Ot.parse(t).toPercent():t})).join(" "),n.matches),i.push.apply(i,yo(Bn.parse(t)));else{if(t.includes("at")){var u=po(t.split("at").map((function(t){return t.trim()})),2);r=u[0],o=u[1]}else r=t;if(_(o)){var a=o.split(" ");if(1===a.length){var c=Ot.parse(a[0]);o=c.isString()?[c.value,c.value]:[c.clone(),c.clone()]}else 2===a.length&&(o=a.map((function(t){var e=Ot.parse(t);return e.isString()?e.value:e})))}_(r)&&r.includes("from")&&(r=r.split("from")[1],r=T(Po[r])?Ot.parse(r):Ot.deg(+Po[r]))}})),new e({angle:r.value,radialPosition:o,colorsteps:i})}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mo(Oo(e.prototype),"getDefaultObject",this).call(this,vo({type:"conic-gradient",angle:0,radialPosition:[bt.CENTER,bt.CENTER]},t))}},{key:"toCloneObject",value:function(){return vo({},mo(Oo(e.prototype),"toCloneObject",this).call(this),{angle:this.json.angle,radialPosition:L(this.json.radialPosition)})}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){if(0===this.colorsteps.length)return"";var t=this.colorsteps;return t?(t.sort((function(t,e){return t.percent==e.percent?0:t.percent>e.percent?1:-1})),t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e})).map((function(t){var e=Math.floor(3.6*t.percent),n="";if(t.cut&&t.prevColorStep){var r=Math.floor(3.6*t.prevColorStep.percent);n="".concat(r,"deg")}return"".concat(t.color," ").concat(n," ").concat(e,"deg")})).join(",")):""}},{key:"toString",value:function(){var t=this.getColorString(),e=[],n=this.json,r=n.angle,o=n.radialPosition||bt.CENTER;o=wo[o]?o:o.join(" "),C(r)&&(r=+(Po[r]||r),e.push("from ".concat(r,"deg"))),o&&e.push("at ".concat(o));var i=e.length?e.join(" ")+",":"";return"".concat(n.type,"(").concat(i," ").concat(t,")")}}])&&go(n.prototype,r),o&&go(n,o),e}(Wn);function xo(t){return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function To(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Co(t,e){return!e||"object"!==xo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eo(t,e,n){return(Eo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ro(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ro(t){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _o(t,e){return(_o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Do=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Co(this,Ro(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_o(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=So.parse(t);return new e({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return Eo(Ro(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[bt.CENTER,bt.CENTER]})}}])&&To(n.prototype,r),o&&To(n,o),e}(So);function Ao(t){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Io(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Io(n,!0).forEach((function(e){Xo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Io(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fo(t,e){return!e||"object"!==Ao(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function No(t,e,n){return(No="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vo(t){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bo(t,e){return(Bo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Go,zo=["repeat","no-repeat","repeat-x","repeat-y"],qo=/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi,Uo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fo(this,Vo(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bo(t,e)}(e,t),n=e,o=[{key:"createImage",value:function(t){return new kr({url:t})}},{key:"createGradient",value:function(t,e){var n=t.colorsteps||e.colorsteps,r=t.angle||e.angle,o=t.radialType||e.radialType,i=t.radialPosition||e.radialPosition,u=e.toJSON();switch(delete u.itemType,delete u.type,t.type){case"static-gradient":return new cr(Lo({},u,{colorsteps:n}));case"linear-gradient":return new Ir(Lo({},u,{colorsteps:n,angle:r}));case"repeating-linear-gradient":return new Gr(Lo({},u,{colorsteps:n,angle:r}));case"radial-gradient":return new no(Lo({},u,{colorsteps:n,radialType:o,radialPosition:i}));case"repeating-radial-gradient":return new so(Lo({},u,{colorsteps:n,radialType:o,radialPosition:i}));case"conic-gradient":return new So(Lo({},u,{colorsteps:n,angle:r,radialPosition:i}));case"repeating-conic-gradient":return new Do(Lo({},u,{colorsteps:n,angle:r,radialPosition:i}))}return new Wn}},{key:"parse",value:function(t){return new e(t)}},{key:"parseImage",value:function(t){var e=he(t),n=null;return e.str.match(qo).forEach((function(t,r){(t=ge(t,e.matches)).includes("repeating-linear-gradient")?n=Gr.parse(t):t.includes("linear-gradient")?n=Ir.parse(t):t.includes("repeating-radial-gradient")?n=so.parse(t):t.includes("radial")?n=no.parse(t):t.includes("repeating-conic-gradient")?n=Do.parse(t):t.includes("conic")?n=So.parse(t):t.includes("url")&&(n=kr.parse(t))})),n}},{key:"parseStyle",value:function(t){var n=[];if(t["background-image"]){var r=he(t["background-image"]);r.str.match(qo).forEach((function(t,o){var i=null;(t=ge(t,r.matches)).includes("repeating-linear-gradient")?i=Gr.parse(t):t.includes("linear-gradient")?i=Ir.parse(t):t.includes("repeating-radial-gradient")?i=so.parse(t):t.includes("radial-gradient")?i=no.parse(t):t.includes("repeating-conic-gradient")?i=Do.parse(t):t.includes("conic-gradient")?i=So.parse(t):t.includes("url")&&(i=kr.parse(t)),n[o]=new e({type:i.type,image:i})}))}return t["background-repeat"]&&t["background-repeat"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){n[e]&&(n[e].repeat=t)})),t["background-blend-mode"]&&t["background-blend-mode"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){n[e]&&(n[e].blendMode=t)})),t["background-size"]&&t["background-size"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(n[e])if("cover"==t||"contain"===t||"auto"===t)n[e].size=t;else{n[e].size="auto";var r=Mo(t.split(" "),2),o=r[0],i=r[1];n[e].width=Ot.parse(o),n[e].height=Ot.parse(i)}})),t["background-position"]&&t["background-position"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(n[e]){var r=Mo(t.split(" "),2),o=r[0],i=r[1];n[e].x=Ot.parse(o),n[e].y=Ot.parse(i)}})),n}},{key:"toPropertyCSS",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return t.forEach((function(t){k(t.toCSS(e),(function(t,e){n[t]||(n[t]=[]),n[t].push(e)}))})),Y(n)}},{key:"join",value:function(t){return N(e.toPropertyCSS(t.map((function(t){return e.parse(t)}))))}}],(r=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:e.createImage(t.images[0])})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:e.createGradient(t,this.json.image)})}},{key:"getDefaultObject",value:function(){return No(Vo(e.prototype),"getDefaultObject",this).call(this,{itemType:"background-image",checked:!1,blendMode:"normal",size:"auto",repeat:"repeat",width:Ot.percent(100),height:Ot.percent(100),x:Ot.percent(0),y:Ot.percent(0),image:new cr})}},{key:"toCloneObject",value:function(){var t=this.json;return Lo({},No(Vo(e.prototype),"toCloneObject",this).call(this),{checked:t.checked,blendMode:t.blendMode,size:t.size,repeat:t.repeat,width:t.width+"",height:t.height+"",x:t.x+"",y:t.y+"",image:t.image.clone()})}},{key:"convert",value:function(t){return t.x=Ot.parse(t.x),t.y=Ot.parse(t.y),t.width&&(t.width=Ot.parse(t.width)),t.height&&(t.height=Ot.parse(t.height)),t}},{key:"checkField",value:function(t,n){return"repeat"===t?zo.includes(n):No(Vo(e.prototype),"checkField",this).call(this,t,n)}},{key:"toBackgroundImageCSS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.json.image?{"background-image":this.json.image.toString(t)}:{}}},{key:"toBackgroundPositionCSS",value:function(){var t=this.json;return{"background-position":"".concat(t.x," ").concat(t.y)}}},{key:"toBackgroundSizeCSS",value:function(){var t=this.json,e="auto";return"contain"==t.size||"cover"==t.size?e=t.size:t.width.isPercent()&&t.width.isPercent()&&100==+t.width&&100==+t.height||(e="".concat(t.width," ").concat(t.height)),{"background-size":e}}},{key:"toBackgroundRepeatCSS",value:function(){return{"background-repeat":this.json.repeat}}},{key:"toBackgroundBlendCSS",value:function(){return{"background-blend-mode":this.json.blendMode}}},{key:"toCSS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Lo({},this.toBackgroundImageCSS(t),{},this.toBackgroundPositionCSS(),{},this.toBackgroundSizeCSS(),{},this.toBackgroundRepeatCSS(),{},this.toBackgroundBlendCSS());return e}},{key:"toString",value:function(){return w(this.toCSS(),(function(t,e){return"".concat(t,": ").concat(e)})).join(";")}},{key:"toBackgroundCSS",value:function(){var t=this.toCSS();return{background:"".concat(t["background-image"]," ")}}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&Yo(n.prototype,r),o&&Yo(n,o),e}(Xt);function Ho(t,e,n,r){var o={cut:Re(0,0,n.cut,r.cut),percent:jt(t,e,n.percent,r.percent),px:jt(t,e,n.px,r.px),em:jt(t,e,n.em,r.em),unit:on(0,0,n.unit,r.unit),color:nn(0,0,n.color,r.color)};return function(t,e){return new Bn({cut:o.cut(t,e),percent:o.percent(t,e),px:o.px(t,e),em:o.em(t,e),unit:o.unit(t,e),color:o.color(t,e)})}}function Zo(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Math.max(n.length,r.length),i=[],u=0;u<o;u++){var a=n[u],c=r[u];i[u]=a&&c?Ho(t,e,a,c):Re(0,0,a,c)}return function(t,e){return i.map((function(n){return n(t,e)}))}}function Qo(t,e,n,r){var o={angle:jt(t,e,n.angle,r.angle),colorsteps:Zo(t,e,n.colorsteps,r.colorsteps)};return function(t,e){var n=o.colorsteps(t,e);return new Ir({angle:o.angle(t,e),colorsteps:n})}}function $o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}$o(Go={},"center",!0),$o(Go,"top",!0),$o(Go,"left",!0),$o(Go,"right",!0),$o(Go,"bottom",!0);function Jo(t,e){switch(e){case"width":if("center"===t)return"50%";if("left"===t)return"0%";if("right"===t)return"100%";break;case"height":if("center"===t)return"50%";if("top"===t)return"0%";if("bottom"===t)return"100%"}return t}function Ko(t,e,n,r){n.radialPosition[0]=Jo(n.radialPosition[0],"width"),n.radialPosition[1]=Jo(n.radialPosition[1],"height"),r.radialPosition[0]=Jo(r.radialPosition[0],"width"),r.radialPosition[1]=Jo(r.radialPosition[1],"height");var o={radialType:on(0,0,n.radialType,r.radialType),radialPositionX:Pt(t,e,n.radialPosition[0],r.radialPosition[0],"width","self"),radialPositionY:Pt(t,e,n.radialPosition[1],r.radialPosition[1],"height","self"),colorsteps:Zo(t,e,n.colorsteps,r.colorsteps)};return function(t,e){return new no({radialType:o.radialType(t,e),radialPosition:[o.radialPositionX(t,e),o.radialPositionY(t,e)],colorsteps:o.colorsteps(t,e)})}}function Wo(t,e,n,r){var o={angle:jt(t,e,n.angle,r.angle),radialPositionX:Pt(t,e,n.radialPosition[0],r.radialPosition[0],"width","self"),radialPositionY:Pt(t,e,n.radialPosition[1],r.radialPosition[1],"height","self"),colorsteps:Zo(t,e,n.colorsteps,r.colorsteps)};return function(t,e){return new So({angle:o.angle(t,e),radialPosition:[o.radialPositionX(t,e),o.radialPositionY(t,e)],colorsteps:o.colorsteps(t,e)})}}function ti(t,e,n,r){var o={image:function(t,e){return e}};if("url"===n.type||"url"===r.type)o.image=Re(0,0,n,r);else if(n.type!=r.type)o.image=Re(0,0,n,r);else switch(n.type){case"linear-gradient":o.image=Qo(t,e,n,r);break;case"repeating-linear-gradient":o.image=function(t,e,n,r){var o=Qo(t,e,n,r);return function(t,e){var n=o(t,e),r=new Gr({angle:n.angle,colorsteps:n.colorsteps});return console.log(r),r}}(t,e,n,r);break;case"radial-gradient":o.image=Ko(t,e,n,r);break;case"repeating-radial-gradient":o.image=function(t,e,n,r){var o=Ko(t,e,n,r);return function(t,e){var n=o(t,e);return new so({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}(t,e,n,r);break;case"conic-gradient":o.image=Wo(t,e,n,r);break;case"repeating-conic-gradient":o.image=function(t,e,n,r){var o=Wo(t,e,n,r);return function(t,e){var n=o(t,e);return new Do({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}(t,e,n,r)}return function(t,e){return o.image(t,e)}}function ei(t,e,n,r){for(var o=Uo.parseStyle(V(n)),i=Uo.parseStyle(V(r)),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||null,f=i[c]||null;s&&!f?a.push({image:kt(0,0,s.image),size:kt(0,0,s.size),width:kt(0,0,s.width),height:kt(0,0,s.height),x:kt(0,0,s.x),y:kt(0,0,s.y),blendMode:kt(0,0,s.blendMode),repeat:kt(0,0,s.repeat)}):!s&&f?a.push({image:kt(0,0,f.image),size:kt(0,0,f.size),width:kt(0,0,f.width),height:kt(0,0,f.height),x:kt(0,0,f.x),y:kt(0,0,f.y),blendMode:kt(0,0,f.blendMode),repeat:kt(0,0,f.repeat)}):s&&f&&a.push({image:ti(t,e,s.image,f.image),size:on(0,0,s.size,f.size),width:Pt(t,e,s.width,f.width,"width","self"),height:Pt(t,e,s.height,f.height,"height","self"),x:Pt(t,e,s.x,f.x,"width","self"),y:Pt(t,e,s.y,f.y,"height","self"),blendMode:on(0,0,s.blendMode,f.blendMode),repeat:on(0,0,s.repeat,f.repeat)})}return function(t,e){return V(Uo.join(a.map((function(n){return{image:n.image(t,e),size:n.size(t,e),x:n.x(t,e),y:n.y(t,e),width:n.width(t,e),height:n.height(t,e),blendMode:n.blendMode(t,e),repeat:n.repeat(t,e)}}))))}}function ni(t){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ri(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oi(n,!0).forEach((function(e){ui(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oi(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ui(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ai(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function li(t,e,n){return e&&ci(t.prototype,e),n&&ci(t,n),t}function si(t,e){return!e||"object"!==ni(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fi(t,e,n){return(fi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function pi(t){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hi(t,e)}function hi(t,e){return(hi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vi=/((blur|drop\-shadow|hue\-rotate|invert|brightness|contrast|opacity|saturate|sepia)\(([^\)]*)\))/gi,gi=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fi(pi(e.prototype),"getDefaultObject",this).call(this,ii({itemType:"filter"},t))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}],[{key:"parse",value:function(t){var e=Ci[t.type];return e?new e(t):new bi({value:t.type})}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=he(t);return(r.str.match(vi)||[]).forEach((function(t,o){var i=ri(t.split("("),2),u=i[0],a=i[1];if(a=a.split(")")[0],"drop-shadow"===u){var c=a.split(" "),l=c.filter((function(t){return t.includes("@")})).map((function(t){return r.matches[+t.replace("@","")].color})),s=c.filter((function(t){return!t.includes("@")}));n[o]=e.parse({type:u,offsetX:Ot.parse(s[0]),offsetY:Ot.parse(s[1]),blurRadius:Ot.parse(s[2]),color:l[0]||"rgba(0, 0, 0, 1)"})}else n[o]=e.parse({type:u,value:Ot.parse(a)})})),n}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(" ")}}]),e}(Xt),di=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"blur",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return ii({},fi(pi(e.prototype),"toCloneObject",this).call(this),{value:Ot.parse(this.json.value)})}}]),e}(gi);di.spec={title:"Blur",inputType:"range",min:0,max:100,step:1,unit:"px",units:["px","em"],defaultValue:Ot.px(0)};var bi=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"svg",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return ii({},fi(pi(e.prototype),"toCloneObject",this).call(this),{value:Ot.parse(this.json.value)})}},{key:"toString",value:function(){return"url(#".concat(this.json.value||"",")")}}]),e}(gi);bi.spec={title:"SVG",inputType:"select",defaultValue:""};var mi=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"grayscale",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return ii({},fi(pi(e.prototype),"toCloneObject",this).call(this),{value:Ot.parse(this.json.value)})}}]),e}(gi);mi.spec={title:"Grayscale",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(0)};var Oi=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"hue-rotate",value:e.spec.defaultValue})}}]),e}(gi);Oi.spec={title:"Hue",inputType:"range",min:0,max:360,step:1,unit:"deg",units:["deg"],defaultValue:Ot.deg(0)};var ji=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"invert",value:e.spec.defaultValue})}}]),e}(gi);ji.spec={title:"Invert",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(0)};var ki=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"brightness",value:e.spec.defaultValue})}}]),e}(gi);ki.spec={title:"Brightness",inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(100)};var wi=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"contrast",value:e.spec.defaultValue})}}]),e}(gi);wi.spec={title:"Contrast",inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(100)};var Pi=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"opacity",value:e.spec.defaultValue})}}]),e}(gi);Pi.spec={title:"Opacity",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(100)};var Si=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"saturate",value:e.spec.defaultValue})}}]),e}(gi);Si.spec={title:"Saturate",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(100)};var xi=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"sepia",value:e.spec.defaultValue})}}]),e}(gi);xi.spec={title:"Sepia",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Ot.percent(0)};var Ti=function(t){function e(){return ai(this,e),si(this,pi(e).apply(this,arguments))}return yi(e,t),li(e,[{key:"getDefaultObject",value:function(){return fi(pi(e.prototype),"getDefaultObject",this).call(this,{type:"drop-shadow",multi:!0,offsetX:e.spec.offsetX.defaultValue,offsetY:e.spec.offsetY.defaultValue,blurRadius:e.spec.blurRadius.defaultValue,color:e.spec.color.defaultValue})}},{key:"toString",value:function(){var t=this.json;return"drop-shadow(".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color,")")}}]),e}(gi);Ti.spec={offsetX:{title:"Offset X",inputType:"range",min:-100,max:100,step:1,defaultValue:Ot.px(0),unit:"px",units:["px","em"]},offsetY:{title:"Offset Y",inputType:"range",min:-100,max:100,step:1,defaultValue:Ot.px(0),unit:"px",units:["px","em"]},blurRadius:{title:"Blur Radius",inputType:"range",min:0,max:100,step:1,defaultValue:Ot.px(0),unit:"px",units:["px","em","%"]},color:{title:"Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)",unit:"color"}};var Ci={blur:di,grayscale:mi,"hue-rotate":Oi,invert:ji,brightness:ki,contrast:wi,opacity:Pi,saturate:Si,sepia:xi,"drop-shadow":Ti,svg:bi};function Ei(t,e,n,r){var o={type:on(0,0,n.type,r.type),value:Re(0,0,n.value,r.value)};switch(n.type){case"blur":o.value=Pt(t,e,n.value,r.value);break;case"grayscale":case"invert":case"brightness":case"contrast":case"opacity":case"saturate":case"sepia":case"hue-rotate":o.value=jt(t,e,n.value.value,r.value.value,n.value.unit);break;case"drop-shadow":o.offsetX=Pt(t,e,n.offsetX,r.offsetX,"width","self"),o.offsetY=Pt(t,e,n.offsetY,r.offsetY,"height","self"),o.blurRadius=Pt(t,e,n.blurRadius,r.blurRadius,"width","self"),o.spreadRadius=Pt(t,e,n.spreadRadius,r.spreadRadius,"width","self"),o.color=nn(0,0,n.color,r.color)}return function(t,e){return"drop-shadow"===o.type(t,e)?{type:o.type(t,e),offsetX:o.offsetX(t,e),offsetY:o.offsetY(t,e),blurRadius:o.blurRadius(t,e),spreadRadius:o.spreadRadius(t,e),color:o.color(t,e)}:{type:o.type(t,e),value:o.value(t,e)}}}function Ri(t,e,n,r){for(var o=gi.parseStyle(n),i=gi.parseStyle(r),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c],f=i[c];s&&!f?a.push(kt(0,0,s)):!s&&f?a.push(kt(0,0,f)):s.type!=f.type||"svg"===s.type||"svg"===f.type?a.push(Re(0,0,s,f)):a.push(Ei(t,e,s,f))}return function(t,e){return gi.join(a.map((function(n){return n(t,e)})))}}function _i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Di=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parse",value:function(t){var e=t.split(" ").filter((function(t){return t.trim()})).map((function(t){return Ot.parse(t)})),n=Ot.percent(0),r=Ot.percent(0),o=Ot.percent(0),i=Ot.percent(0);return 1===e.length?(n=e[0].clone(),r=e[0].clone(),o=e[0].clone(),i=e[0].clone()):2===e.length?(n=e[0].clone(),r=e[1].clone(),o=e[0].clone(),i=e[1].clone()):3===e.length?(n=e[0].clone(),r=e[1].clone(),o=e[2].clone(),i=e[1].clone()):4===e.length&&(n=e[0].clone(),r=e[1].clone(),o=e[2].clone(),i=e[3].clone()),[e.length,n,r,o,i]}}],(n=null)&&_i(e.prototype,n),r&&_i(e,r),t}();function Ai(t){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ii(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ii(n,!0).forEach((function(e){Xi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ii(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fi(t,e){return!e||"object"!==Ai(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ni(t,e,n){return(Ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vi(t){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bi(t,e){return(Bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gi=/(content\-box|padding\-box|border\-box|margin\-box|view\-box|stroke\-box|fill\-box|none|(inset|circle|ellipse|polygon|path|url)(\(([^\)]*)\))?)/gi,zi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fi(this,Vi(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bi(t,e)}(e,t),n=e,o=[{key:"toCSS",value:function(t){return new e(t).toCSS()}},{key:"toString",value:function(t){return e.toCSS(t)["clip-path"]}},{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var e={};return t?((t.match(Gi)||[]).forEach((function(t,n){if(t.includes("-box"))e.box=t;else{var r=Mi(t.split("("),2),o=r[0],i=r[1];i=i||"",i="none"===o?"":i.split(")")[0],e.type=o,e.value=i}})),e):{}}},{key:"parseStyleForCircle",value:function(t){var e=new Ot("","closest-side"),n="";if((t=t||"50%").includes("at")){var r=Mi(t.split("at").map((function(t){return t.trim()})),2);e=r[0],n=r[1]}else n=t.trim();var o=Mi(n.split(" "),2),i=o[0],u=o[1];return T(u)&&(u=i),{radius:e,x:i=Ot.parse(i),y:u=Ot.parse(u)}}},{key:"parseStyleForEllipse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50% 50%",e="50% 50%",n="";if((t=t||"50%").includes("at")){var r=t.split("at").map((function(t){return t.trim()})),o=Mi(r,2);e=o[0],n=o[1]}else n=t.trim();var i=n.split(" "),u=Mi(i,2),a=u[0],c=u[1];T(c)&&(c=a),a=Ot.parse(a),c=Ot.parse(c);var l=e.split(" "),s=Mi(l,2),f=s[0],p=s[1];return T(p)&&(p=f),{radiusX:f=Ot.parse(f),radiusY:p=Ot.parse(p),x:a,y:c}}},{key:"parseStyleForInset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("round"),n=Mi(e,2),r=n[0],o=n[1],i=Di.parse(r),u=Mi(i,5),a=u[0],c=u[1],l=u[2],s=u[3],f=u[4];if(o)var p=Di.parse(o),y=Mi(p,5),h=y[0],v=y[1],g=y[2],d=y[3],b=y[4];return{isAll:1===a,top:c,right:l,bottom:s,left:f,round:o,isAllRadius:1===h,topRadius:v,rightRadius:g,bottomRadius:d,leftRadius:b}}},{key:"parseStyleForPolygon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(",").filter((function(t){return t.trim()})).map((function(t){var e=Mi(t.trim().split(" "),2),n=e[0],r=e[1];return{x:Ot.parse(n),y:Ot.parse(r)}}))}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ni(Vi(e.prototype),"getDefaultObject",this).call(this,Li({itemType:"clip-path",type:"none",value:""},t))}},{key:"toCloneObject",value:function(){return Li({},Ni(Vi(e.prototype),"toCloneObject",this).call(this),{value:this.json.value})}},{key:"toString",value:function(){var t=this.json.type,e=this.json.value,n=this.json.box,r="";switch(t){case"circle":case"inset":case"ellipse":case"polygon":case"path":r="".concat(t,"(").concat(e,")");break;case"svg":r="url(#".concat(e,")");break;default:r="none"}return n?"".concat(n," ").concat(r):r}},{key:"toCSS",value:function(){return{"clip-path":this.toString()}}}])&&Yi(n.prototype,r),o&&Yi(n,o),e}(Xt);function qi(t,e,n,r){var o=zi.parseStyle(n),i=zi.parseStyle(r),u={type:Re(0,0,o.type,o.type),value:Re(0,0,n,r)};if(o.type==i.type&&"none"!=o)switch(o.type){case"circle":o.value=zi.parseStyleForCircle(o.value),i.value=zi.parseStyleForCircle(i.value),u.value=function(t,e,n,r){var o={};return"closest-side"===n.radius||"farthest-side"===n.radius||"closest-side"===r.radius||"farthest-side"===r.radius?o.radius=Re(0,0,n.radius,r.radius):n.radius.unit===r.radius.unit?o.radius=makeInterpolateNumber(t,e,n.radius.value,r.radius.value,n.radius.unit):o.radius=Pt(t,e,n.radius,r.radius,"width","self"),o.x=Pt(t,e,n.x,r.x,"width","self"),o.y=Pt(t,e,n.y,r.y,"height","self"),function(t,e){var n=o.radius(t,e),r=o.x(t,e),i=o.y(t,e),u="".concat(r," ").concat(i),a=n+"";return a.includes("closest-side")?a="closest-side":a.includes("farthest-side")&&(a="farthest-side"),n?"".concat(a," at ").concat(u):"".concat(u)}}(t,e,o.value,i.value);break;case"ellipse":o.value=zi.parseStyleForEllipse(o.value),i.value=zi.parseStyleForEllipse(i.value),u.value=function(t,e,n,r){var o={radiusX:Pt(t,e,n.radiusX,r.radiusX,"width","self"),radiusY:Pt(t,e,n.radiusY,r.radiusY,"height","self"),x:Pt(t,e,n.x,r.x,"width","self"),y:Pt(t,e,n.y,r.y,"height","self")};return function(t,e){var n=o.radiusX(t,e),r=o.radiusY(t,e),i=o.x(t,e),u=o.y(t,e);return"".concat(n," ").concat(r," at ").concat(i," ").concat(u)}}(t,e,o.value,i.value);break;case"inset":o.value=zi.parseStyleForInset(o.value),i.value=zi.parseStyleForInset(i.value),u.value=function(t,e,n,r){var o={top:jt(t,e,n.top.value,r.top.value,n.top.unit),left:jt(t,e,n.left.value,r.left.value,n.left.unit),right:jt(t,e,n.right.value,r.right.value,n.right.unit),bottom:jt(t,e,n.bottom.value,r.bottom.value,n.bottom.unit),round:Re(0,0,n.round,r.round),topRadius:jt(t,e,n.topRadius.value,r.topRadius.value,n.topRadius.unit),leftRadius:jt(t,e,n.leftRadius.value,r.leftRadius.value,n.leftRadius.unit),rightRadius:jt(t,e,n.rightRadius.value,r.rightRadius.value,n.rightRadius.unit),bottomRadius:jt(t,e,n.bottomRadius.value,r.bottomRadius.value,n.bottomRadius.unit)};return function(t,e){var n=o.top(t,e),r=o.right(t,e),i=o.bottom(t,e),u=o.left(t,e),a=o.round(t,e),c=o.topRadius(t,e),l=o.leftRadius(t,e),s=o.bottomRadius(t,e),f=o.rightRadius(t,e),p=[n,r,i,u].join(" "),y=[c,f,s,l].join(" ");return"".concat(p," ").concat(a&&y.trim()?"round ".concat(y):"")}}(t,e,o.value,i.value);break;case"polygon":o.value=zi.parseStyleForPolygon(o.value),i.value=zi.parseStyleForPolygon(i.value),u.value=function(t,e,n,r){for(var o=Math.max(n.length,r.length),i=[],u=0;u<o;u++){var a=n[u],c=r[u];a&&!c?i.push({x:kt(0,0,a.x),y:kt(0,0,a.y)}):!a&&c?i.push({x:kt(0,0,c.x),y:kt(0,0,c.y)}):i.push({x:Pt(t,e,a.x,c.x,"width","self"),y:Pt(t,e,a.y,c.y,"height","self")})}return function(t,e){return i.map((function(n){return"".concat(n.x(t,e)," ").concat(n.y(t,e))})).join(",")}}(t,e,o.value,i.value);break;case"path":o.value=zi.parseStyleForPath(o.value),i.value=zi.parseStyleForPath(i.value),u.value=makeInterpolateClipPathPath(t,e,o.value,i.value)}return function(t,e){var n=u.type(t,e),r=u.value(t,e);return"none"===n?n:"".concat(n,"(").concat(r,")")}}function Ui(t){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zi(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qi(n,!0).forEach((function(e){Ji(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qi(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ji(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ki(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wi(t,e){return!e||"object"!==Ui(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tu(t,e,n){return(tu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function eu(t){return(eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nu(t,e){return(nu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ru=/((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)|matrix(3d)?|perspective)\(([^\)]*)\))/gi,ou=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Wi(this,eu(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nu(t,e)}(e,t),n=e,o=[{key:"join",value:function(t){var n=t.filter((function(t){return"perspective"===t.type})),r=t.filter((function(t){return"perspective"!==t.type}));return[].concat(Zi(n),Zi(r)).map((function(t){return new e(t).toString()})).join(" ")}},{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=[];return t?((t.match(ru)||[]).forEach((function(t,r){var o=Hi(t.split("("),2),i=o[0],u=o[1],a=(u=u.split(")")[0]).split(",");a=u.includes("matrix")||u.includes("scale")?a.map((function(t){return Ot.number(t.trim())})):a.map((function(t){return Ot.parse(t.trim())})),n[r]=e.parse({type:i,value:a})})),n):n}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tu(eu(e.prototype),"getDefaultObject",this).call(this,$i({itemType:"transform",type:"",value:[]},t))}},{key:"toCloneObject",value:function(){return $i({},tu(eu(e.prototype),"toCloneObject",this).call(this),{value:JSON.parse(JSON.stringify(this.json.value))})}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value.join(", ")||"",")")}},{key:"convert",value:function(t){return(t=tu(eu(e.prototype),"convert",this).call(this,t)).type.includes("matrix")||t.type.includes("scale")?t.value=t.value.map((function(t){return Ot.number(t)})):t.value=t.value.map((function(t){return Ot.parse(t)})),t}},{key:"hasNumberValue",value:function(){var t=this.json.type;return t.includes("matrix")||t.includes("scale")}}])&&Ki(n.prototype,r),o&&Ki(n,o),e}(Xt);function iu(t,e,n,r){for(var o={type:Re(0,0,n.type,r.type)},i=[],u=Math.max(n.value.length,r.value.length),a=0;a<u;a++){var c=n.value[a],l=r.value[a];c&&l?i.push(Pt(t,e,c,l,n.type)):i.push(Pt(t,e,n.value[a]||n.value[a-1]||n.value[a-2],r.value[a]||r.value[a-1]||n.value[a-2],n.type))}return o.value=i,function(t,e){return{type:o.type(t,e),value:o.value.map((function(n){return n(t,e)}))}}}function uu(t,e,n,r){for(var o={type:Re(0,0,n.type,r.type)},i=[],u=Math.max(n.value.length,r.value.length),a=0;a<u;a++){var c=n.value[a],l=r.value[a];if(c&&l)i.push(jt(t,e,c.value,l.value));else{var s=n.value[a].value||n.value[a-1].value||n.value[a-2].value,f=r.value[a].value||r.value[a-1].value||n.value[a-2].value;i.push(jt(t,e,s,f))}}return o.value=i,function(t,e){var n=o.value.map((function(n){return n(t,e)})),r=o.type(t,e);return(r.includes("matrix")||r.includes("scale"))&&(n=n.map((function(t){return Ot.number(t)}))),{type:r,value:n}}}function au(t,e,n,r){for(var o={type:Re(0,0,n.type,r.type)},i=[],u=Math.max(n.value.length,r.value.length),a=0;a<u;a++){var c=n.value[a],l=r.value[a];c&&l?i.push(pn(0,0,c,l)):i.push(pn(0,0,n.value[a]||n.value[a-1]||n.value[a-2],r.value[a]||r.value[a-1]||n.value[a-2]))}return o.value=i,function(t,e){return{type:o.type(t,e),value:o.value.map((function(n){return n(t,e)}))}}}function cu(t,e,n,r){for(var o=ou.parseStyle(n.trim()),i=ou.parseStyle(r.trim()),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];if(l&&!s)a.push(kt(0,0,l));else if(!l&&s)a.push(kt(0,0,s));else if(l.type!=s.type)a.push(Re(0,0,l,s));else switch(l.type){case"skewX":case"skewY":case"translate":case"translateX":case"translateY":case"translateZ":case"translate3d":case"perspective":a.push(iu(t,e,l,s));break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"rotate3d":a.push(au(0,0,l,s));break;case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3d":case"matrix":case"matrix3d":a.push(uu(t,e,l,s))}}return function(t,e){return ou.join(a.map((function(n){return n(t,e)})))}}function lu(t,e,n,r){for(var o=n.split(" ").map((function(t){return Ot.parse(t)})),i=r.split(" ").map((function(t){return Ot.parse(t)})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(Pt(t,e,l,s,"transform-origin"))}return function(t,e){return a.map((function(n){return n(t,e)})).join(" ")}}function su(t,e,n,r){for(var o=n.split(" ").map((function(t){return Ot.parse(t)})),i=r.split(" ").map((function(t){return Ot.parse(t)})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(Pt(t,e,l,s,"perspective-origin"))}return function(t,e){return a.map((function(n){return n(t,e)})).join(" ")}}function fu(t,e,n,r){for(var o=n.split(" ").map((function(t){return+t})),i=r.split(" ").map((function(t){return+t})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(jt(t,e,l,s))}return function(t,e){return a.map((function(n){return n(t,e)})).join(" ")}}function pu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var yu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isEqual",value:function(t,e){return t.x===e.x&&t.y===e.y}},{key:"isFirst",value:function(t){return t&&"M"==t.command}},{key:"getReversePoint",value:function(t,e){var n=t.x-e.x,r=t.y-e.y;return{x:t.x+n,y:t.y+r}}},{key:"getIndexPoint",value:function(t,e){return t[e]}},{key:"getPoint",value:function(e,n){return e.filter((function(e){return t.isEqual(e.startPoint,n)}))[0]}},{key:"getIndex",value:function(e,n){for(var r=-1,o=0,i=e.length;o<i;o++){var u=e[o];if(t.isEqual(u.startPoint,n)){r=o;break}}return r}},{key:"getPointIndex",value:function(e,n){for(var r=-1,o=0,i=e.length;o<i;o++){var u=e[o];if(t.isEqual(u,n)){r=o;break}}return r}},{key:"getLastPoint",value:function(t,e){if(!t.length)return null;for(var n=-1,r=e+1,o=t.length;r<o;r++)if("M"===t[r].command){n=r-1;break}-1==n&&(n=t.length-1),t[n]&&"Z"===t[n].command&&(n-=1);var i=t[n];return i&&(i.index=n),i}},{key:"getFirstPoint",value:function(t,e){for(var n=-1,r=e-1;r>0;r--)if("M"===t[r].command){n=r;break}-1===n&&(n=0);var o=t[n];return o&&(o.index=n),o}},{key:"getPrevPoint",value:function(e,n){var r=n-1;if(r<0)return t.getLastPoint(e,n);var o=e[r];return o&&(o.index=r),o}},{key:"getNextPoint",value:function(e,n){return e[n].connected?t.getFirstPoint(e,n):e[n+1]}}],(n=null)&&pu(e.prototype,n),r&&pu(e,r),t}();function hu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vu(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function gu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var du=/([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g,bu=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,mu={multiply:function(t){return function(e,n){var r=+e[n],o=+e[n+1];return[t[0][0]*r+t[0][1]*r+t[0][2],t[1][0]*o+t[1][1]*o+t[1][2],1]}},translate:function(t,e){return this.multiply([[1,0,t],[0,1,e],[0,0,1]])},rotate:function(t){return this.multiply([[Math.cos(t),Math.sin(t),0][(Math.sin(t),Math.cos(t),0)],[0,0,1]])},scale:function(t,e){return this.multiply([[t,0,0],[0,e,0],[0,0,1]])},skewX:function(t){return this.multiply([[1,t,0],[0,1,0],[0,0,1]])},skewY:function(t){return this.multiply([[1,0,0],[t,1,0],[0,0,1]])},reflectionOrigin:function(){return this.multiply([[-1,0,0],[0,-1,0],[0,0,1]])},reflectionX:function(){return this.multiply([[1,0,0],[0,-1,0],[0,0,1]])},reflectionY:function(){return this.multiply([[-1,0,0],[0,1,0],[0,0,1]])}},Ou=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reset(e)}var e,n,r;return e=t,(n=[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.pathString=t,this.parse()}},{key:"resetSegments",value:function(t){this.segments=t||[],this.pathString=this.joinPath()}},{key:"trim",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.match(bu)||[];return e.filter((function(t){return""!=t}))}},{key:"parse",value:function(){var t=this,e=this.pathString.match(du)||[];this.segments=e.map((function(e){var n=e[0];return{command:n,values:t.trim(e.replace(n,"")).map((function(t){return+t}))}})),this.segments=this.segments.map((function(e,n){switch(e.command){case"c":case"m":case"l":case"q":case"s":case"t":case"v":case"h":for(var r=t.segments[n-1],o=r.values[r.values.length-2],i=r.values[r.values.length-1],u=0,a=e.values.length;u<a;u+=2)e.values[u]+=o,e.values[u+1]+=i;return{command:e.command.toUpperCase(),values:vu(e.values)};default:return e}}))}},{key:"convertGenerator",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e],o=this.segments[e+1],i=r.command,u=r.values;if("M"===i){var a=hu(u,2),c=a[0],l=a[1];t.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:{x:c,y:l},curve:!1})}else if("L"===i)if((k=yu.getPrevPoint(t,t.length)).curve){var s=hu(u,2);c=s[0],l=s[1],t.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:L(k.endPoint),curve:!0})}else{var f=hu(u,2);c=f[0],l=f[1],t.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:{x:c,y:l},curve:!1})}else if("Q"===i){var p=hu(u,4),y=p[0],h=p[1];if(c=p[2],l=p[3],(k=yu.getPrevPoint(t,t.length)).curve){var v={x:c,y:l},g={x:c,y:l},d={x:c,y:l};t.push({command:"L",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1}),k.endPoint={x:y,y:h}}else o&&"L"===o.command?(k.curve=!0,k.endPoint={x:y,y:h},v={x:c,y:l},d={x:c,y:l},g={x:c,y:l},t.push({command:"L",originalCommand:i,curve:!1,startPoint:v,endPoint:g,reversePoint:d})):(v={x:c,y:l},d={x:y,y:h},g={x:c,y:l},t.push({command:i,originalCommand:i,curve:!0,startPoint:v,endPoint:g,reversePoint:d}))}else if("T"===i){var b=hu(u,2);if(c=b[0],l=b[1],(x=segments[e-1])&&"Q"===x.command){var m=hu(x.values,4),O=(y=m[0],h=m[1],m[2]),j=m[3];(k=yu.getPrevPoint(t,t.length)).endPoint=yu.getReversePoint({x:O,y:j},{x:y,y:h}),v={x:c,y:l},g={x:c,y:l},d={x:c,y:l},t.push({command:"L",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1})}}else if("C"===i){var k=yu.getPrevPoint(t,t.length),w=hu(u,6),P=(y=w[0],h=w[1],w[2]),S=w[3];v={x:c=w[4],y:l=w[5]},d={x:P,y:S},g={x:c,y:l},t.push({command:i,originalCommand:i,curve:!0,startPoint:v,endPoint:g,reversePoint:d}),k&&(k.curve=!0,k.endPoint={x:y,y:h})}else if("S"===i){var x,T=hu(u,2);if(c=T[0],l=T[1],(x=segments[e-1])&&"C"===x.command){var C=hu(x.values,4);P=C[0],S=C[1],O=C[2],j=C[3],(k=yu.getPrevPoint(t,t.length)).endPoint=yu.getReversePoint(k.startPoint,k.reversePoint),v={x:c,y:l},g={x:c,y:l},d={x:P,y:S},t.push({command:"Q",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1})}}else if("Z"===i){k=yu.getPrevPoint(t,t.length);var E=yu.getFirstPoint(t,t.length);yu.isEqual(k.startPoint,E.startPoint)&&(k.connected=!0,"C"===k.command&&(E.curve=!0,yu.isEqual(E.endPoint,E.startPoint)&&(E.endPoint=yu.getReversePoint(k.startPoint,k.reversePoint)))),k.close=!0}}return t=t.filter((function(t){return!!t}))}},{key:"length",value:function(){return this.segments.length}},{key:"setSegments",value:function(t,e){this.segments[t]=e}},{key:"getSegments",value:function(t){return C(t)?this.segments[t]:this.segments}},{key:"joinPath",value:function(t){return(t||this.segments).map((function(t){return"".concat(t.command," ").concat(t.values.length?t.values.join(" "):"")})).join("")}},{key:"each",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n){return t.call(e,n)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(e){var n=e.values;switch(e.command){case"M":case"L":var r=t(n,0);e.values=[r[0],r[1]];break;case"V":r=t([+n[0],0]),e.values=[r[0]];break;case"H":r=t([0,+n[0]]),e.values=[r[1]];break;case"C":case"S":case"T":case"Q":for(var o=0,i=n.length;o<i;o+=2)r=t(n,o),e.values[o]=r[0],e.values[o+1]=r[1]}return e}),e)}},{key:"clone",value:function(){return new t(this.joinPath())}},{key:"translate",value:function(t,e){return this._loop(mu.translate(t,e)),this}},{key:"translateTo",value:function(t,e){return this.joinPath(this._loop(mu.translate(t,e),!0))}},{key:"scale",value:function(t,e){return this._loop(mu.scale(t,e)),this}},{key:"scaleTo",value:function(t,e){return this.joinPath(this._loop(mu.scale(t,e),!0))}},{key:"rotate",value:function(t){return this._loop(mu.rotate(t)),this}},{key:"rotateTo",value:function(t){return this.joinPath(this._loop(mu.rotate(t),!0))}},{key:"reflectionOrigin",value:function(t){return this._loop(mu.reflectionOrigin(t)),this}},{key:"reflectionOriginTo",value:function(t){return this.joinPath(this._loop(mu.reflectionOrigin(t),!0))}},{key:"reflectionX",value:function(t){return this._loop(mu.reflectionX(t)),this}},{key:"reflectionXTo",value:function(t){return this.joinPath(this._loop(mu.reflectionX(t),!0))}},{key:"reflectionY",value:function(t){return this._loop(mu.reflectionY(t)),this}},{key:"reflectionYTo",value:function(t){return this.joinPath(this._loop(mu.reflectionY(t),!0))}},{key:"skewX",value:function(t){return this._loop(mu.skewX(t)),this}},{key:"skewXTo",value:function(t){return this.joinPath(this._loop(mu.skewX(t),!0))}},{key:"skewY",value:function(t){return this._loop(mu.skewY(t)),this}},{key:"skewYTo",value:function(t){return this.joinPath(this._loop(mu.skewY(t),!0))}},{key:"toString",value:function(){return this.joinPath()}}])&&gu(e.prototype,n),r&&gu(e,r),t}();function ju(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ku=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pathArray=[]}var e,n,r;return e=t,(n=[{key:"reset",value:function(){this.pathArray=[]}},{key:"getPointString",value:function(t){return t.map((function(t){return"".concat(t.x," ").concat(t.y)})).join(" ")}},{key:"makeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.pathArray.push("".concat(t," ").concat(this.getPointString(e))),this}},{key:"M",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("M",e)}},{key:"L",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("L",e)}},{key:"Q",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("Q",e)}},{key:"C",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("C",e)}},{key:"Z",value:function(){return this.makeString("Z")}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"object";return'<path d="'.concat(this.d,"\" class='").concat(t,"'/>")}},{key:"d",get:function(){return this.pathArray.join(" ").trim()}}])&&ju(e.prototype,n),r&&ju(e,r),t}();function wu(t){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Su(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xu(t,e){return!e||"object"!==wu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tu(t){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cu(t,e){return(Cu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Eu=/[\b\t \,]/g,Ru=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),xu(this,Tu(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cu(t,e)}(e,t),n=e,(r=[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.points=t,this.parse()}},{key:"resetSegments",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=t,this.points=this.joinPoints()}},{key:"parse",value:function(){var t=this.points;E(t)&&(t=t.join(" "));for(var e=t.trim().split(Eu),n=[],r=0,o=e.length;r<o;r+=2)n.push({x:+e[r],y:+e[r+1]});this.segments=n}},{key:"convertGenerator",value:function(){return this.segments}},{key:"length",value:function(){return this.segments.length}},{key:"toPathString",value:function(){for(var t=new ku,e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];0===e?t.M(r):e===n-1?t.L(r).L(this.segments[0]).Z():t.L(r)}return t.d}},{key:"joinPath",value:function(t){return this.joinPoints(t)}},{key:"joinPoints",value:function(t){return(t||this.segments).map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"each",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n){return t.call(e,n)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(e){var n=Pu(t([e.x,e.y],0),2),r=n[0],o=n[1];return e.x=r,e.y=o,e}),e)}},{key:"clone",value:function(){return new e(this.joinPoints())}},{key:"toString",value:function(){return this.joinPoints()}}])&&Su(n.prototype,r),o&&Su(n,o),e}(Ou);function _u(t,e,n,r){for(var o=Math.max(n.length,r.length),i=[],u=n[n.length-1],a=r[r.length-1],c=0;c<o;c++){var l=n[c],s=r[c];l&&!s?i.push(jt(t,e,l,a)):!l&&s?i.push(jt(t,e,u,s)):i.push(jt(t,e,l,s))}return function(t,e){return i.map((function(n){return n(t,e)}))}}function Du(t,e,n,r){for(var o=new Ou,i=new Ou(n),u=new Ou(r),a=Math.max(i.segments.length,u.segments.length),c=[],l=0;l<a;l++){var s=i.segments[l],f=u.segments[l];s.command===f.command?s.values.length===f.values.length?c.push({command:kt(0,0,s.command),values:_u(t,e,s.values,f.values)}):c.push({command:kt(0,0,s.command),values:kt(0,0,s.values)}):c.push({command:Re(0,0,s.command,f.command),values:Re(0,0,s.values,f.values)})}return function(t,e){var n=c.map((function(n){return{command:n.command(t,e),values:n.values(t,e)}}));return o.joinPath(n)}}function Au(t,e,n,r){for(var o=new Ru,i=new Ru(n),u=new Ru(r),a=Math.max(i.segments.length,u.segments.length),c=[],l=i.segments[i.segments.length-1].x,s=i.segments[i.segments.length-1].y,f=u.segments[u.segments.length-1].x,p=u.segments[u.segments.length-1].y,y=0;y<a;y++){var h=i.segments[y],v=u.segments[y];h&&!v?c.push({x:jt(t,e,h.x,f),y:jt(t,e,h.y,p)}):!h&&v?c.push({x:jt(t,e,l,v.x),y:jt(t,e,s,v.y)}):c.push({x:jt(t,e,h.x,v.x),y:jt(t,e,h.y,v.y)})}return function(t,e){return o.joinPoints(c.map((function(n){return{x:n.x(t,e),y:n.y(t,e)}})))}}function Mu(t,e,n,r){var o={x:jt("","",t,n),y:jt("","",e,r)};return function(t,e){return{x:o.x(t,e),y:o.y(t,e)}}}function Iu(t,e,n,r,o,i){var u=[{x:t,y:e},{x:n,y:r},{x:o,y:i}];return function(t,e){return ht(u,e)}}function Lu(t,e,n,r,o,i,u,a){var c=[{x:t,y:e},{x:n,y:r},{x:o,y:i},{x:u,y:a}];return function(t,e){return yt(c,e)}}function Xu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Yu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Vu(t,e,n,r,o){var i=Nu(n.split(",").map((function(t){return t.trim()})),4),u=i[0],a=i[1],c=i[2],l=i[3],s={id:u,distance:Ot.parse(a||"0%"),rotateStatus:c||"auto",rotate:Ot.parse(l||"0deg")},f=function(t,e){return{x:x,y:y}},p=0,h=0;if(o){var v=o.$('[data-id="'.concat(s.id,'"]')),g=v.$("path"),d=v.rect();p=d.left,h=d.top,f=function(t,e,n){var r=function(t){var e=[],n=[];t.forEach((function(t,r){switch(t.command){case"M":var o=Xu(t.values,2),i=o[0],u=o[1];n=[i,u];break;case"m":var a=Xu(n,2),c=a[0],l=a[1],s=Xu(t.values,2);i=s[0],u=s[1];n=[i+=c,u+=l];break;case"L":var f=Xu(n,2),p=(c=f[0],l=f[1],Xu(t.values,2));i=p[0],u=p[1];e.push({command:t.command,values:[c,l,i,u],length:W(c,l,i,u),interpolate:Mu(c,l,i,u)}),n=[i,u];break;case"l":var y=Xu(n,2),h=(c=y[0],l=y[1],Xu(t.values,2));i=h[0],u=h[1];i+=c,u+=l,e.push({command:t.command,values:[c,l,i,u],length:W(c,l,i,u),interpolate:Mu(c,l,i,u)}),n=[i,u];break;case"C":var v=Xu(n,2),g=(c=v[0],l=v[1],Xu(t.values,6)),d=g[0],b=g[1],m=g[2],O=g[3];i=g[4],u=g[5];e.push({command:t.command,values:[c,l,d,b,m,O,i,u],length:lt(c,l,d,b,m,O,i,u),interpolate:Lu(c,l,d,b,m,O,i,u)}),n=[i,u];break;case"c":var j=Xu(n,2),k=(c=j[0],l=j[1],Xu(t.values,6));d=k[0],b=k[1],m=k[2],O=k[3],i=k[4],u=k[5];d+=c,m+=c,i+=c,b+=l,O+=l,u+=l,e.push({command:t.command,values:[c,l,d,b,m,O,i,u],length:lt(c,l,d,b,m,O,i,u),interpolate:Lu(c,l,d,b,m,O,i,u)}),n=[i,u];break;case"Q":var w=Xu(n,2),P=(c=w[0],l=w[1],Xu(t.values,4));d=P[0],b=P[1],i=P[2],u=P[3];e.push({command:t.command,values:[c,l,d,b,i,u],length:st(c,l,d,b,i,u),interpolate:Iu(c,l,d,b,i,u)}),n=[i,u];break;case"q":var S=Xu(n,2),x=(c=S[0],l=S[1],Xu(t.values,4));d=x[0],b=x[1],i=x[2],u=x[3];d+=c,i+=c,b+=l,u+=l,e.push({command:t.command,values:[c,l,d,b,i,u],length:st(c,l,d,b,i,u),interpolate:Iu(c,l,d,b,i,u)}),n=[i,u];break;case"S":var T=Xu(n,2),C=(c=T[0],l=T[1],Xu(t.values,4)),E=(m=C[0],O=C[1],i=C[2],u=C[3],e[e.length-1]);if(["C","c","S","s"].includes(E.command)){var R=Xu(E.values,8),_=(R[0],R[1],R[2],R[3],R[4]),D=R[5],A=R[6],M=R[7],I=yu.getReversePoint({x:A,y:M},{x:_,preC1y:D});d=I.x,b=I.y;e.push({command:t.command,values:[c,l,d,b,m,O,i,u],length:getCubicDist(c,l,d,b,m,O,i,u),interpolate:Lu(c,l,d,b,m,O,i,u)}),n=[i,u];break}case"s":var L=Xu(n,2),X=(c=L[0],l=L[1],Xu(t.values,4));m=X[0],O=X[1],i=X[2],u=X[3];m+=c,i+=c,O+=l,u+=l;E=e[e.length-1];if(["C","c","S","s"].includes(E.command)){var Y=Xu(E.values,8),F=(Y[0],Y[1],Y[2],Y[3],_=Y[4],D=Y[5],A=Y[6],M=Y[7],yu.getReversePoint({x:A,y:M},{x:_,preC1y:D}));d=F.x,b=F.y;e.push({command:t.command,values:[c,l,d,b,m,O,i,u],length:getCubicDist(c,l,d,b,m,O,i,u),interpolate:Lu(c,l,d,b,m,O,i,u)}),n=[i,u];break}case"T":var N=Xu(n,2),V=(c=N[0],l=N[1],Xu(t.values,2));i=V[0],u=V[1],E=e[e.length-1];if(["Q","q","T","t"].includes(E.command)){var B=Xu(E.values,6),G=(B[0],B[1],_=B[2],D=B[3],A=B[4],M=B[5],yu.getReversePoint({x:A,y:M},{x:_,preC1y:D}));d=G.x,b=G.y;e.push({command:t.command,values:[c,l,d,b,i,u],length:st(c,l,d,b,i,u),interpolate:Iu(c,l,d,b,i,u)}),n=[i,u]}break;case"t":var z=Xu(n,2),q=(c=z[0],l=z[1],Xu(t.values,2));i=q[0],u=q[1];i+=c,u+=l;E=e[e.length-1];if(["Q","q","T","t"].includes(E.command)){var U=Xu(E.values,6),H=(U[0],U[1],_=U[2],D=U[3],A=U[4],M=U[5],yu.getReversePoint({x:A,y:M},{x:_,preC1y:D}));d=H.x,b=H.y;e.push({command:t.command,values:[c,l,d,b,i,u],length:st(c,l,d,b,i,u),interpolate:Iu(c,l,d,b,i,u)}),n=[i,u]}}}));var r=0;e.forEach((function(t){r+=t.length}));var o=0;return e.forEach((function(t){t.startT=o/r,t.endT=(o+t.length)/r,t.totalLength=r,o+=t.length})),{totalLength:r,interpolateList:e}}(new Ou(g.attr("d")).segments),o=r.totalLength,i=r.interpolateList,u=s.distance.toPx(o);(e+=u/o)>1&&(e-=1);var a=i[0];0===e?a=i[0]:1===e&&(a=i[i.length-1]);var c=i.find((function(t){return t.startT<=e&&e<t.endT}));c&&(a=c);var l=(e-a.startT)/(a.endT-a.startT),f=n(l);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yu(n,!0).forEach((function(e){Fu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yu(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},a.interpolate(f,l,n),{totalLength:a.totalLength})}}return function(e,n,r){var o=(d=(t.css("transform-origin")||"50% 50%").split(" ").map((function(t){return Ot.parse(t)})))[0].toPx(Ot.parse(t.css("width")).value),i=d[1].toPx(Ot.parse(t.css("height")).value),u=f(e,n,r),a={left:Ot.px(u.x+p-o.value),top:Ot.px(u.y+h-i.value)};if("element"===s.rotateStatus);else{var c=u,l=f(e+1/u.totalLength,n+1/u.totalLength,r),y=tt(l.x-c.x,l.y-c.y),v=Ot.deg(function(t,e){switch(t){case"angle":return s.rotate.value;case"auto angle":return e+s.rotate.value;case"reverse":return e+180;case"auto":return e;default:return}}(s.rotateStatus,y)),g=t.css("transform")||"";if(-1===g.indexOf("rotate"))a.transform="rotate(".concat(v,")");else{var d,b=(d=ou.parseStyle(g)).filter((function(t){return["rotate","rotateZ"].includes(t.type)}));b.length?b[0].value=[v]:d.push({type:"rotate",value:[v]}),a.transform=ou.join(d)}}return a}}function Bu(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Gu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var zu=function(){return function(t,e){}};function qu(t,e,n,r,o){switch(e){case"width":case"left":case"x":return Pt(t,e,n,r,"width",o);case"height":case"top":case"y":return Pt(t,e,n,r,"height",o);case"perspective":case"font-size":case"font-stretch":case"font-weight":case"text-stroke-width":return Pt(t,e,n,r,e,o);case"fill-opacity":case"opacity":case"stroke-dashoffset":return jt(t,e,+n,+r,o);case"background-color":case"color":case"text-fill-color":case"text-stroke-color":case"fill":case"stroke":return nn(0,0,n,r);case"mix-blend-mode":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":return on(0,0,n,r);case"rotate":return pn(0,0,n,r)}var i=function(t){switch(t){case"border-radius":return St;case"box-shadow":return rn;case"text-shadow":return kn;case"background-image":return ei;case"filter":case"backdrop-filter":return Ri;case"clip-path":return qi;case"transform":return cu;case"transform-origin":return lu;case"perspective-origin":return su;case"stroke-dasharray":return fu;case"d":return Du;case"points":return Au;case"offset-path":return Vu}}(e);return i?i(t,e,n,r,o):zu}function Uu(t,e,n,r,o){return qu(t,e,n,r,o)}function Hu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"linear",e=Gu(t.split("(").map((function(t){return t.trim()})),2),n=e[0],r=e[1];r=(r||"").split(")")[0].trim();var o=sn[n];if(o){var i=t.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()}));return o.apply(void 0,Bu(i))}return function(t){var e=ft(t);return function(t){return e(t).y}}(t)}function Zu(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $u=0,Ju=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),D(e))this.el=e;else{var o=document.createElement(e);for(var i in this.uniqId=$u++,n&&(o.className=n),r=r||{})o.setAttribute(i,r[i]);this.el=o}}var e,n,r;return e=t,n=[{key:"data",value:function(t,e){var n=t.split("-").map((function(t,e){return 0===e?t:t.substr(0,1).toUpperCase()+t.substr(1)})).join("");if(1===arguments.length)return this.el.dataset(n);this.el.dataset(n,e)}},{key:"attr",value:function(t,e){return 1==arguments.length?this.el.getAttribute(t):(this.el.setAttribute(t,e),this)}},{key:"attrKeyValue",value:function(t){return e={},n=this.el.getAttribute(t),r=this.val(),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e;var e,n,r}},{key:"attrs",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.el.getAttribute(e)}))}},{key:"styles",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.el.style[e]}))}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"removeStyle",value:function(t){return this.el.style.removeProperty(t),this}},{key:"is",value:function(t){return this.el===(t.el||t)}},{key:"isTag",value:function(t){return this.el.tagName.toLowerCase()===t.toLowerCase()}},{key:"closest",value:function(e){for(var n=this,r=!1;!(r=n.hasClass(e));){if(!n.el.parentNode)return null;n=t.create(n.el.parentNode)}return r?n:null}},{key:"parent",value:function(){return t.create(this.el.parentNode)}},{key:"hasParent",value:function(){return!!this.el.parentNode}},{key:"removeClass",value:function(){var t;return(t=this.el.classList).remove.apply(t,arguments),this}},{key:"hasClass",value:function(t){return!!this.el.classList&&this.el.classList.contains(t)}},{key:"addClass",value:function(){var t;return(t=this.el.classList).add.apply(t,arguments),this}},{key:"onlyOneClass",value:function(t){var e=this.parent().$(".".concat(t));e&&e.removeClass(t),this.addClass(t)}},{key:"toggleClass",value:function(t,e){this.el.classList.toggle(t,e)}},{key:"html",value:function(t){return T(t)?this.el.innerHTML:(_(t)?this.el.innerHTML=t:this.empty().append(t),this)}},{key:"find",value:function(t){return this.el.querySelector(t)}},{key:"$",value:function(e){var n=this.find(e);return n?t.create(n):null}},{key:"findAll",value:function(t){return this.el.querySelectorAll(t)}},{key:"$$",value:function(e){return Zu(this.findAll(e)).map((function(e){return t.create(e)}))}},{key:"empty",value:function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);return this}},{key:"append",value:function(t){return _(t)?this.el.appendChild(document.createTextNode(t)):this.el.appendChild(t.el||t),this}},{key:"prepend",value:function(t){return _(t)?this.el.prepend(document.createTextNode(t)):this.el.prepend(t.el||t),this}},{key:"appendHTML",value:function(e){var n=t.create("div").html(e);this.append(n.createChildrenFragment())}},{key:"createChildrenFragment",value:function(){var t=this.children(),e=document.createDocumentFragment();return t.forEach((function(t){return e.appendChild(t.el)})),e}},{key:"appendTo",value:function(t){return(t.el?t.el:t).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"removeChild",value:function(t){return this.el.removeChild(t.el||t),this}},{key:"text",value:function(e){if(T(e))return this.el.textContent;var n=e;return e instanceof t&&(n=e.text()),this.el.textContent=n,this}},{key:"css",value:function(t,e){if(C(t)&&C(e))this.el.style[t]=e;else if(C(t)){if(_(t))return getComputedStyle(this.el)[t];Object.assign(this.el.style,t)}return this}},{key:"getComputedStyle",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){for(var t=getComputedStyle(this.el),e={},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.forEach((function(n){e[n]=t[n]})),e}))},{key:"getStyleList",value:function(){for(var t=this,e={},n=this.el.style.length,r=0;r<n;r++){var o=this.el.style[r];e[o]=this.el.style[o]}for(var i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];return u.forEach((function(n){e[n]=t.css(n)})),e}},{key:"cssText",value:function(t){return T(t)?this.el.style.cssText:(t!=this.el.tempCssText&&(this.el.style.cssText=t,this.el.tempCssText=t),this)}},{key:"cssArray",value:function(t){return t[0]&&(this.el.style[t[0]]=t[1]),t[2]&&(this.el.style[t[2]]=t[3]),t[4]&&(this.el.style[t[4]]=t[5]),t[6]&&(this.el.style[t[6]]=t[7]),t[8]&&(this.el.style[t[8]]=t[9]),this}},{key:"cssFloat",value:function(t){return parseFloat(this.css(t))}},{key:"cssInt",value:function(t){return parseInt(this.css(t))}},{key:"px",value:function(t,e){return this.css(t,Ot.px(e))}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"offsetRect",value:function(){return{top:this.el.offsetTop,left:this.el.offsetLeft,width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"offset",value:function(){var e=this.rect(),n=t.getScrollTop(),r=t.getScrollLeft();return{top:e.top+n,left:e.left+r}}},{key:"offsetLeft",value:function(){return this.offset().left}},{key:"offsetTop",value:function(){return this.offset().top}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.rect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.rect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.rect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"val",value:function(e){if(T(e))return this.el.value;if(C(e)){var n=e;e instanceof t&&(n=e.val()),this.el.value=n}return this}},{key:"scrollIntoView",value:function(){this.el.scrollIntoView()}},{key:"addScrollLeft",value:function(t){return this.el.scrollLeft+=t,this}},{key:"addScrollTop",value:function(t){return this.el.scrollTop+=t,this}},{key:"setScrollTop",value:function(t){return this.el.scrollTop=t,this}},{key:"setScrollLeft",value:function(t){return this.el.scrollLeft=t,this}},{key:"scrollTop",value:function(){return this.el===document.body?t.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?t.getScrollLeft():this.el.scrollLeft}},{key:"scrollHeight",value:function(){return this.el.scrollHeight}},{key:"scrollWidth",value:function(){return this.el.scrollWidth}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.create(e,n,r);return i.css(o),this.append(i),i}},{key:"firstChild",value:function(){return t.create(this.el.firstElementChild)}},{key:"children",value:function(){var e=this.el.firstElementChild;if(!e)return[];var n=[];do{n.push(t.create(e)),e=e.nextElementSibling}while(e);return n}},{key:"childLength",value:function(){return this.el.children.length}},{key:"replace",value:function(t){return this.el.parentNode&&this.el.parentNode.replaceChild(t.el||t,this.el),this}},{key:"replaceChild",value:function(t,e){return this.el.replaceChild(e.el||e,t.el||t),this}},{key:"value",get:function(){return this.el.value}},{key:"naturalWidth",get:function(){return this.el.naturalWidth}},{key:"naturalHeight",get:function(){return this.el.naturalHeight}}],r=[{key:"create",value:function(e,n,r){return new t(e,n,r)}},{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}},{key:"parse",value:function(t){return DOMParser().parseFromString(t,"text/htmll")}},{key:"body",value:function(){return t.create(document.body)}}],n&&Qu(e.prototype,n),r&&Qu(e,r),t}();function Ku(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ta(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var na=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:"body"};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.animations=e,this.compiledAnimation=[],this.options=n,this.debug=n.debug||!1,this.fps=n.fps||60,this.totalTime=G(this.fps,n.totalTimecode),this.totalTimecode=n.totalTimecode||"00:00:00:00",this.currentTime=0,this.currentTimecode="00:00:00:00",this.startTime=0,this.endTime=this.totalTime,this.initialize()}var e,n,r;return e=t,(n=[{key:"log",value:function(){var t;this.debug&&(t=console).log.apply(t,arguments)}},{key:"searchBySelector",value:function(t,e){return e.$$(t)}},{key:"createContainerElement",value:function(t){return t="body"===t?document.body:t,Ju.create(t)}},{key:"initialize",value:function(){var t=this;this.animations.forEach((function(e){var n=t.createContainerElement(e.container||t.options.container||"body"),r=t.searchBySelector(e.selector,n);e.compiled={},e.properties.forEach((function(o){e.compiled["".concat(o.property)]=t.compiledTimingFunction(r,o,n)}))})),this.log("timeline is initialized.")}},{key:"searchTimelineOffset",value:function(t){var e=[];return this.animations.forEach((function(n){n.properties.forEach((function(r){var o=n.compiled["".concat(r.property)];e.push.apply(e,ta(o.filter((function(e){return!(!e.isOnlyTime||e.startTime!=t)||e.startTime<=t&&t<e.endTime}))))}))})),e.filter((function(t){return t}))}},{key:"parseOffset",value:function(t,e,n){if(E(n)){var r=Wu(n,3),o=r[0],i=r[1],u=r[2];return T(i)&&(i=t.css(e)),{time:o,value:i,timing:u}}return n&&T(n.value)&&(n.value=t.css(e)),n}},{key:"compiledTimingFunction",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=[];return 1===n.keyframes.length?o:(e.forEach((function(e,i){o.push.apply(o,ta(n.keyframes.map((function(o,u){var a=t.parseOffset(e,n.property,o),c=t.parseOffset(e,n.property,n.keyframes[u+1]);c||(c={time:a.time,value:a.value+""});var l={layer:e,layerIndex:i,property:n.property,isResetFunction:t.checkResetInterpolateFunction(n.property),isOnlyTime:a.time===c.time,startTime:a.time,endTime:c.time,startValue:a.value,endValue:c.value,timing:a.timing,interpolateFunction:Uu(e,n.property,a.value,c.value,r),timingFunction:Hu(a.timing)};return l.func=t.makeTimingFunction(l),l})).filter((function(t){return t}))))})),o)}},{key:"makeTimingFunction",value:function(t){return function(e){var n=t.endTime-t.startTime,r=1;return 0!==n&&(r=(e-t.startTime)/n),t.interpolateFunction(t.timingFunction(r),r,t.timingFunction)}}},{key:"checkResetInterpolateFunction",value:function(t){switch(t){case"offset-path":case"background-image":return!0}return!1}},{key:"seek",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};(C(e)||null!==e)&&this.setTimelineCurrentTime(e);var r=1e3*this.currentTime;this.log("seek start : ",r);var o=this.searchTimelineOffset(r).filter(n),i=new WeakMap,u=[];o.forEach((function(t){i.has(t.layer)||(i.set(t.layer,{}),u.push(t.layer));var e=i.get(t.layer);if(t.isResetFunction){var n=t.func(r,t.layer,t.layerIndex);Object.assign(e,n)}else Object.assign(e,Ku({},t.property,t.func(r,t.layer,t.layerIndex)))})),u.forEach((function(e){e.css(i.get(e)),t.log(e,i.get(e))})),this.log("seek end : ",r)}},{key:"getKeyframeList",value:function(t){this.animations.forEach((function(e){e.properties.forEach((function(e){e.keyframes.forEach((function(e){t&&t(e)}))}))}))}},{key:"getSelectedTimelineLastTime",value:function(){var t=0;return this.getKeyframeList((function(e){t=Math.max(e.time,t)})),t}},{key:"getSelectedTimelineFirstTime",value:function(){var t=Number.MAX_SAFE_INTEGER;return this.getKeyframeList((function(e){t=Math.min(e.time,t)})),t}},{key:"getSelectedTimelinePrevTime",value:function(){var t=this,e=this.getSelectedTimelineFirstTime();return this.getKeyframeList((function(n){z(t.fps,n.time)<t.currentTimecode&&(e=Math.max(n.time,e))})),e}},{key:"getSelectedTimelineNextTime",value:function(){var t=this,e=this.getSelectedTimelineLastTime();return this.getKeyframeList((function(n){z(t.fps,keyframe.time)>t.currentTimecode&&(e=Math.min(keyframe.time,e))})),e}},{key:"getTimelineLayerInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:10:00",n=G(t,e);return{fps:t,currentTimecode:z(t,0),totalTimecode:z(t,n),currentTime:0,totalTime:n,displayStartTime:0,displayEndTime:n}}},{key:"setTimelineCurrentTime",value:function(t){var e=this.fps,n=this.totalTimecode,r=t,o=t;+r+""===r&&(o=q(e,r=+r)),o>n&&(o=n);var i=G(e,o);this.currentTime=i,this.currentTimecode=z(e,i)}},{key:"setDisplayTimeDxRate",value:function(t,e,n){var r=t*this.totalTime,o=e+r,i=n+r;o=Math.max(o,0),0===(o=Math.min(o,i))&&(i=n-e),i=Math.max(i,o),(i=Math.min(i,this.totalTime))===this.totalTime&&(o=this.totalTime-(n-e)),this.displayStartTime=o,this.displayEndTime=i}},{key:"setDisplayStartTimeRate",value:function(t){this.displayStartTime=t*this.totalTime}},{key:"setDisplayEndTimeRate",value:function(t){this.displayEndTime=t*this.totalTime}},{key:"setTimelineCurrentTimeRate",value:function(t){var e=this.displayStartTime,n=this.displayEndTime,r=this.fps,o=e+(n-e)*t;this.setTimelineCurrentTime(z(r,o))}},{key:"setTimelineTotalTime",value:function(t){var e=t,n=t;+e+""===e&&(e=+e,n=q(this.fps,e)),G(this.fps,n)<this.displayEndTime&&(this.displayEndTime=G(this.fps,n),this.displayStartTime=0),this.totalTimecode=n,this.totalTime=G(this.fps,n)}},{key:"getTimelineObject",value:function(t){return this.animations.find((function(e){return e.id===t}))}},{key:"getDefaultPropertyValue",value:function(t){switch(t){case"mix-blend-mode":return"normal";case"rotate":return"0deg";case"box-shadow":return"0px 0px 0px 0px rgba(0, 0, 0, 1)";case"text-shadow":return"0px 0px 0px rgba(0, 0, 0, 1)";case"opacity":return 1;default:return""}}},{key:"setFps",value:function(t){this.fps=t,this.currentTimecode=z(t,this.currentTime),this.totalTimecode=z(t,this.totalTime)}}])&&ea(e.prototype,n),r&&ea(e,r),t}();function ra(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fps:60,duration:1e3,container:"body"},n=T(e.fps)?60:+e.fps,r=T(e.container)?"body":e.container,o=T(e.speed)?1:+e.speed,i=T(e.duration)?1e3:+e.duration,u=T(e.iterationCount)?1:+e.iterationCount,a=T(e.direction)?"normal":e.direction,c=!T(e.debug)&&e.debug,l=function(){},s=function(){},f=function(){},p=function(){},y=function(){};M(e.onTick)&&(l=e.onTick),M(e.onStart)&&(s=e.onStart),M(e.onEnd)&&(f=e.onEnd),M(e.onFirst)&&(p=e.onFirst),M(e.onLast)&&(y=e.onLast);var h=new na(t,{debug:c,fps:n,container:r,totalTimecode:z(n,i/1e3)}),v=U({speed:o,duration:i,iterationCount:u,direction:a,startCallback:s,endCallback:f,firstCallback:p,lastCallback:y,tick:function(t,e){h.seek(z(h.fps,t/1e3)),l(t,e,n),c&&console.log("tick : ",h.fps,t,e)}});return{get elapsed(){return v.elapsed},get fps(){return h.fps},get totalTime(){return h.totalTime},get currentTime(){return h.currentTime},play:function(){v.play()},stop:function(){v.stop()},pause:function(){v.pause()}}}n.d(e,"Player",(function(){return ra}));e.default={Player:ra}}])}));