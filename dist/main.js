!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.anipa=t():e.anipa=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"debounce",(function(){return O})),n.d(r,"throttle",(function(){return j})),n.d(r,"keyEach",(function(){return k})),n.d(r,"keyMap",(function(){return w})),n.d(r,"get",(function(){return P})),n.d(r,"defaultValue",(function(){return S})),n.d(r,"isUndefined",(function(){return T})),n.d(r,"isNotUndefined",(function(){return C})),n.d(r,"isArray",(function(){return E})),n.d(r,"isBoolean",(function(){return R})),n.d(r,"isString",(function(){return _})),n.d(r,"isNotString",(function(){return D})),n.d(r,"isObject",(function(){return A})),n.d(r,"isFunction",(function(){return M})),n.d(r,"isNumber",(function(){return I})),n.d(r,"clone",(function(){return L})),n.d(r,"cleanObject",(function(){return X})),n.d(r,"combineKeyArray",(function(){return Y})),n.d(r,"repeat",(function(){return F})),n.d(r,"CSS_TO_STRING",(function(){return N})),n.d(r,"STRING_TO_CSS",(function(){return V}));var o={};n.r(o),n.d(o,"round",(function(){return H})),n.d(o,"degreeToRadian",(function(){return Z})),n.d(o,"radianToDegree",(function(){return Q})),n.d(o,"getXInCircle",(function(){return J})),n.d(o,"getYInCircle",(function(){return K})),n.d(o,"getXYInCircle",(function(){return $})),n.d(o,"getDist",(function(){return W})),n.d(o,"calculateAngle",(function(){return ee})),n.d(o,"uuid",(function(){return ne})),n.d(o,"uuidShort",(function(){return re}));var i={};n.r(i),n.d(i,"ReverseXyz",(function(){return Ye})),n.d(i,"ReverseRGB",(function(){return Fe})),n.d(i,"XYZtoRGB",(function(){return Ne})),n.d(i,"LABtoXYZ",(function(){return Ve})),n.d(i,"PivotXyz",(function(){return Be})),n.d(i,"XYZtoLAB",(function(){return Ge})),n.d(i,"LABtoRGB",(function(){return ze}));var u={};n.r(u),n.d(u,"RGBtoHSV",(function(){return qe})),n.d(u,"RGBtoCMYK",(function(){return Ue})),n.d(u,"RGBtoHSL",(function(){return He})),n.d(u,"c",(function(){return Ze})),n.d(u,"gray",(function(){return Qe})),n.d(u,"RGBtoSimpleGray",(function(){return Je})),n.d(u,"RGBtoGray",(function(){return Ke})),n.d(u,"brightness",(function(){return $e})),n.d(u,"RGBtoYCrCb",(function(){return We})),n.d(u,"PivotRGB",(function(){return et})),n.d(u,"RGBtoXYZ",(function(){return tt})),n.d(u,"RGBtoLAB",(function(){return nt}));var a={};n.r(a),n.d(a,"HUEtoRGB",(function(){return rt})),n.d(a,"HSLtoHSV",(function(){return ot})),n.d(a,"HSLtoRGB",(function(){return it}));var c={};n.r(c),n.d(c,"matches",(function(){return ft})),n.d(c,"convertMatches",(function(){return pt})),n.d(c,"convertMatchesArray",(function(){return yt})),n.d(c,"reverseMatches",(function(){return ht})),n.d(c,"trim",(function(){return gt})),n.d(c,"parse",(function(){return dt})),n.d(c,"parseGradient",(function(){return bt}));var l={};n.r(l),n.d(l,"format",(function(){return Et})),n.d(l,"hex",(function(){return Rt})),n.d(l,"rgb",(function(){return _t})),n.d(l,"hsl",(function(){return Dt}));var s={};n.r(s),n.d(s,"randomNumber",(function(){return At})),n.d(s,"random",(function(){return Mt}));var f={};n.r(f),n.d(f,"CMYKtoRGB",(function(){return It}));var p={};n.r(p),n.d(p,"HSVtoRGB",(function(){return Lt})),n.d(p,"HSVtoHSL",(function(){return Xt}));var h={};n.r(h),n.d(h,"YCrCbtoRGB",(function(){return Yt}));var v={};function g(e){return function(e){if(Array.isArray(e))return e}(e)||b(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=void 0;return function(r,o,i,u,a){n&&clearTimeout(n),n=setTimeout((function(){e(r,o,i,u,a)}),t||300)}}function j(e,t){var n=void 0;return function(r,o,i,u,a){n||(n=setTimeout((function(){e(r,o,i,u,a),n=null}),t||300))}}function k(e,t){Object.keys(e).forEach((function(n,r){t(n,e[n],r)}))}function w(e,t){return Object.keys(e).map((function(n,r){return t(n,e[n],r)}))}function P(e,t,n){var r=S(e[t],t);return M(n)?n(r):r}function S(e,t){return void 0===e?t:e}function T(e){return null==e}function C(e){return!1===T(e)}function E(e){return Array.isArray(e)}function R(e){return"boolean"==typeof e}function _(e){return"string"==typeof e}function D(e){return!1===_(e)}function A(e){return"object"==m(e)&&!E(e)&&!I(e)&&!_(e)&&null!==e}function M(e){return"function"==typeof e}function I(e){return"number"==typeof e}function L(e){return JSON.parse(JSON.stringify(e))}function X(e){var t={};return Object.keys(e).filter((function(t){return!!e[t]})).forEach((function(n){t[n]=e[n]})),t}function Y(e){return Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].join(", "))})),e}function F(e){return d(Array(e))}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e;return Object.keys(n).filter((function(e){return n[e]})).map((function(e){return"".concat(e,": ").concat(n[e])})).join(";"+t)}function V(e){var t={};return(e+="").split(";").forEach((function(e){var n=g(e.split(":").map((function(e){return e.trim()}))),r=n[0],o=n.slice(1);""!=r&&(t[r]=o.join(":"))})),t}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(e,t){if(_(t)){var n=B(t.split(":"),4),r=n[0],o=n[1],i=n[2],u=n[3];return 3600*(r=parseInt(r,10))+60*(o=parseInt(o,10))+(i=parseInt(i,10))+(u=parseInt(u,10))*(1/e)}return I(t)?t/e:0}function z(e,t){var n=Math.floor(t/3600),r=Math.floor(t/60%60),o=Math.floor(t%60),i=Math.round((t-Math.floor(t))*e);return i===e&&(i=0,60===(o+=1)&&60===(r+=1)&&(n+=1)),[n,r,o,i].map((function(e){return(e+"").padStart(2,"0")})).join(":")}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return z(e,G(e,t)-G(e,n))}function U(e){var t={id:0,start:0,speed:e.speed||1,elapsed:e.elapsed||0,duration:e.duration||0,iterationStartCount:1,iterationCount:e.iterationCount||Number.MAX_SAFE_INTEGER,direction:e.direction||"normal",log:[],logIndex:0,tick:e.tick||function(){},startCallback:e.start||function(){},endCallback:e.end||function(){},firstCallback:e.first||function(){},lastCallback:e.last||function(){}},n=function(e){return"normal"===t.direction||"reverse"!==t.direction&&("alternate"===t.direction?t.iterationStartCount%2==1:"alternate-reverse"===t.direction?t.iterationStartCount%2==0:void 0)?e:1-e},r=function(e){var r=!1;null===t.start&&(t.start=e,r=!0);var u=e-t.start;t.elapsed+=u*t.speed,t.start=e,t.elapsed>t.duration&&(t.elapsed=t.duration);var a=n(t.elapsed/t.duration)*t.duration;r&&t.startCallback(a,t),t.log[t.logIndex++]={elapsed:a,dt:t.lastTime-a},t.lastTime=a,t.tick(a,t),t.elapsed===t.duration?i():o()},o=function(){t.id=requestAnimationFrame(r)},i=function(){t.endCallback(t.elapsed,t),t.iterationStartCount++,t.iterationStartCount>t.iterationCount?(t.lastCallback(t.elapsed,t),cancelAnimationFrame(t.id)):(t.start=null,t.elapsed=0,o())},u=function(e){t.elapsed=e,t.tick(t.elapsed,t)};return{play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.start=null,t.iterationStartCount=1,t.log=[],t.lastTime=0,t.logIndex=0,I(e.elapsed)&&(t.elapsed=e.elapsed),I(e.speed)&&(t.speed=e.speed),I(e.duration)&&(t.duration=e.duration),I(e.iterationCount)&&(t.iterationCount=e.iterationCount||Number.MAX_SAFE_INTEGER),_(e.direction)&&(t.direction=e.direction),M(e.tick)&&(t.tick=e.tick),M(e.start)&&(t.startCallback=e.start),M(e.end)&&(t.endCallback=e.end),M(e.first)&&(t.firstCallback=e.first),M(e.last)&&(t.lastCallback=e.last),t.firstCallback(t.elapsed,t),o()},stop:function(){cancelAnimationFrame(t.id)},tick:r,first:function(e){u(0)},last:function(e){u(t.duration)},seek:u,timer:t}}function H(e,t){return t=T(t)?1:t,Math.round(e*t)/t}function Z(e){return e*Math.PI/180}function Q(e){var t=180*e/Math.PI;return t<0&&(t=360+t),t}function J(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+t*Math.cos(Z(e))}function K(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+t*Math.sin(Z(e))}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:J(e,t,n),y:K(e,t,r)}}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Math.sqrt(Math.pow(Math.abs(n-e),2)+Math.pow(Math.abs(r-t),2))}function ee(e,t){return Q(Math.atan2(t,e))}n.r(v),n.d(v,"interpolateRGB",(function(){return Ft})),n.d(v,"interpolateRGBObject",(function(){return Nt})),n.d(v,"scale",(function(){return Vt})),n.d(v,"blend",(function(){return Bt})),n.d(v,"mix",(function(){return Gt})),n.d(v,"contrast",(function(){return zt})),n.d(v,"contrastColor",(function(){return qt})),n.d(v,"gradient",(function(){return Ut})),n.d(v,"scaleHSV",(function(){return Ht})),n.d(v,"scaleH",(function(){return Zt})),n.d(v,"scaleS",(function(){return Qt})),n.d(v,"scaleV",(function(){return Jt}));var te=/[xy]/g;function ne(){var e=(new Date).getTime();return"xxx12-xx-34xx".replace(te,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}function re(){var e=(new Date).getTime();return"idxxxxxxx".replace(te,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}var oe={linear:!0,ease:!0,"ease-in":!0,"ease-out":!0,"ease-in-out":!0},ie=[[0,0,1,1,"linear",!0],[.25,.1,.25,1,"ease",!0],[.42,0,1,1,"ease-in",!0],[0,0,.58,1,"ease-out",!0],[.47,0,.745,.715,"ease-in-sine"],[.39,.575,.565,1,"ease-out-sine"],[.445,.05,.55,.95,"ease-in-out-sine"],[.55,.085,.68,.53,"ease-in-quad"],[.25,.46,.45,.94,"ease-out-quad"],[.455,.03,.515,.955,"ease-in-out-quad"],[.55,.055,.675,.19,"ease-in-cubic"],[.215,.61,.355,1,"ease-out-cubic"],[.645,.045,.355,1,"ease-in-out-cubic"],[.895,.03,.685,.22,"ease-in-quart"],[.165,.84,.44,1,"ease-out-quart"],[.77,0,.175,1,"ease-in-out-quart"],[.6,.04,.98,.335,"ease-in-circ"],[.075,.82,.165,1,"ease-out-circ"],[.785,.135,.15,.86,"ease-in-out-circ"],[.95,.05,.795,.035,"ease-in-expo"],[.19,1,.22,1,"ease-out-expo"],[1,0,0,1,"ease-in-out-expo"],[.755,.05,.855,.06,"ease-in-quint"],[.23,1,.32,1,"ease-out-quint"],[.86,0,.07,1,"ease-in-out-quint"],[.6,-.28,.735,.045,"ease-in-back"],[.175,.885,.32,1.275,"ease-out-back"],[.68,-.55,.265,1.55,"ease-in-out-back"]],ue=function(e){if("string"==typeof e){if(oe[e])return ie.filter((function(t){return t[4]===e}))[0];var t=e.replace("cubic-bezier","").replace("(","").replace(")","").split(",");return t=t.map((function(e){return parseFloat(e.trim())}))}return e},ae=function(e,t,n,r){var o=[e,t,n,r];return function(e){return ye(o,e)}},ce=function(e,t,n){var r=[e,t,n];return function(e){return he(r,e)}},le=function(e,t,n,r,o,i,u,a){for(var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1e3,l=ae({x:e,y:t},{x:n,y:r},{x:o,y:i},{x:u,y:a}),s=0,f=l(0),p=0;p<=c;p++){var y=p/c,h=l(y);s+=W(f.x,f.y,h.x,h.y),f=h}return s},se=function(e,t,n,r,o,i){for(var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3,a=ce({x:e,y:t},{x:n,y:r},{x:o,y:i}),c=0,l=a(0),s=0;s<=u;s++){var f=s/u,p=a(f);c+=W(l.x,l.y,p.x,p.y),l=p}return c},fe=function(e){var t=ue(e),n={x:t[0],y:t[1]},r={x:t[2],y:t[3]};return ae({x:0,y:0},n,r,{x:1,y:1})},pe=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}},ye=function(e,t){var n=pe(e[0],e[1],t),r=pe(e[1],e[2],t),o=pe(e[2],e[3],t),i=pe(n,r,t),u=pe(r,o,t);return pe(i,u,t)},he=function(e,t){var n=pe(e[0],e[1],t),r=pe(e[1],e[2],t);return pe(n,r,t)};function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var de={center:50,top:0,left:0,right:100,bottom:100},be=function e(){ge(this,e)};be.CENTER="center",be.TOP="top",be.RIGHT="right",be.LEFT="left",be.BOTTOM="bottom";var me=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi,Oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(ge(this,e),this.value=t,I(this.value)&&isNaN(this.value))throw new Error("NaN is not able to set");this.unit=n}var t,n,r;return t=e,n=[{key:Symbol.toPrimitive,value:function(e){return"number"==e?this.value:this.toString()}},{key:"toString",value:function(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return"var(--".concat(this.value,")");case"calc":return"calc(".concat(this.value,")");default:return this.value+this.unit}}},{key:"isUnitType",value:function(e){return this.unit===e}},{key:"isCalc",value:function(){return this.isUnitType("calc")}},{key:"isFr",value:function(){return this.isUnitType("fr")}},{key:"isPercent",value:function(){return this.isUnitType("%")}},{key:"isPx",value:function(){return this.isUnitType("px")}},{key:"isEm",value:function(){return this.isUnitType("em")}},{key:"isDeg",value:function(){return this.isUnitType("deg")}},{key:"isTurn",value:function(){return this.isUnitType("turn")}},{key:"isSecond",value:function(){return this.isUnitType("s")}},{key:"isMs",value:function(){return this.isUnitType("ms")}},{key:"isNumber",value:function(){return this.isUnitType("number")}},{key:"isString",value:function(){return this.isUnitType("")}},{key:"isVar",value:function(){return this.isUnitType("--")}},{key:"isNaN",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return I(this.value)&&isNaN(this.value)}))},{key:"set",value:function(e){return this.value=e,this}},{key:"add",value:function(e){return this.value+=+e,this}},{key:"sub",value:function(e){return this.add(-1*e)}},{key:"mul",value:function(e){return this.value*=+e,this}},{key:"div",value:function(e){return this.value/=+e,this}},{key:"mod",value:function(e){return this.value%=+e,this}},{key:"clone",value:function(){return new e(this.value,this.unit)}},{key:"getUnitName",value:function(){return"%"===this.unit?"percent":this.unit}},{key:"toJSON",value:function(){return{value:this.value,unit:this.unit}}},{key:"rate",value:function(e){return e/this.value}},{key:"stringToPercent",value:function(){return C(de[this.value])?e.percent(de[this.value]):e.percent(0)}},{key:"stringToEm",value:function(e){return this.stringToPercent().toEm(e)}},{key:"stringToPx",value:function(e){return this.stringToPercent().toPx(e)}},{key:"toPercent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?this.clone():this.isPx()?e.percent(100*this.value/t):this.isEm()?e.percent(this.value*n*100/t):this.isString()?this.stringToPercent(t):this.isDeg()?e.percent(this.value/360*100):void 0}},{key:"toEm",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?e.em(this.value/100*t/n):this.isPx()?e.em(this.value/n):this.isEm()?this.clone():this.isString()?this.stringToEm(t):void 0}},{key:"toPx",value:function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.isPercent()?e.px(this.value/100*t):this.isPx()?this.clone():this.isEm()?e.px(this.value/100*t/16):this.isString()?this.stringToPx(t):void 0}},{key:"toDeg",value:function(){return this.isDeg()?this.clone():this.isTurn()?e.deg(360*this.value):void 0}},{key:"toTurn",value:function(){return this.isTurn()?this.clone():this.isDeg()?e.turn(this.value/360):void 0}},{key:"toSecond",value:function(){return this.isSecond()?this:this.isMs()?e.second(this.value/1e3):void 0}},{key:"toMs",value:function(){return this.isSecond()?e.ms(1e3*this.value):this.isMs()?this:void 0}},{key:"to",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return"px"===e?this.toPx(t,n):"%"===e||"percent"===e?this.toPercent(t,n):"em"===e?this.toEm(t,n):"deg"===e?this.toDeg():"turn"===e?this.toTurn():void 0}},{key:"toUnit",value:function(t){return new e(this.value,t)}},{key:"calculate",value:function(e,t){var n=this[e];return n?n.call(this,t):this}},{key:"includes",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(this.value)}},{key:"round",value:function(t){return new e(H(this.value,t),this.unit)}},{key:"equals",value:function(e){return this.is(e.value)&&this.isUnitType(e.unit)}},{key:"is",value:function(e){return this.value===e}}],r=[{key:"min",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.shift(),o=0,i=t.length;o<i;o++)r.value>t[o].value&&(r=t[o]);return r}},{key:"max",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.shift(),o=0,i=t.length;o<i;o++)r.value<t[o].value&&(r=t[o]);return r}},{key:"string",value:function(t){return new e(t+"","")}},{key:"number",value:function(t){return new e(+t,"number")}},{key:"px",value:function(t){return new e(+t,"px")}},{key:"em",value:function(t){return new e(+t,"em")}},{key:"percent",value:function(t){return new e(+t,"%")}},{key:"deg",value:function(t){return new e(+t,"deg")}},{key:"turn",value:function(t){return new e(+t,"turn")}},{key:"fr",value:function(t){return new e(+t,"fr")}},{key:"second",value:function(t){return new e(+t,"s")}},{key:"ms",value:function(t){return new e(+t,"ms")}},{key:"var",value:function(t){return new e(t+"","--")}},{key:"calc",value:function(t){return new e(t,"calc")}},{key:"parse",value:function(t){if(_(t=t||e.number(0))){if((t=t.trim()).indexOf("calc(")>-1)return new e(t.split("calc(")[1].split(")")[0],"calc");var n=t.replace(me,"$1 $2").split(" ").map((function(e){return e.trim()}));return+n[0]==n[0]?new e(+n[0],n[1]):new e(n[0])}if(t instanceof e)return t;if(t.unit){if("%"==t.unit||"percent"==t.unit){var r=0;return C(t.percent)?r=t.percent:C(t.value)&&(r=t.value),e.percent(r)}if("px"==t.unit)return r=0,C(t.px)?r=t.px:C(t.value)&&(r=t.value),e.px(r);if("em"==t.unit)return r=0,C(t.em)?r=t.em:C(t.value)&&(r=t.value),e.em(r);if("deg"==t.unit)return r=0,C(t.deg)?r=t.deg:C(t.value)&&(r=t.value),e.deg(r);if("turn"==t.unit)return r=0,C(t.deg)?r=t.turn:C(t.value)&&(r=t.value),e.turn(r);if("s"==t.unit)return r=0,C(t.second)?r=t.second:C(t.value)&&(r=t.value),e.second(r);if("ms"==t.unit)return r=0,C(t.ms)?r=t.ms:C(t.value)&&(r=t.value),e.ms(r);if("number"==t.unit)return r=0,C(t.value)&&(r=t.value),e.number(r);if("--"==t.unit)return r=0,C(t.value)&&(r=t.value),e.var(r);if(""===t.unit||"string"===t.unit)return r="",C(t.str)?r=t.str:C(t.value)&&(r=t.value),e.string(r)}return e.string(t)}}],n&&ve(t.prototype,n),r&&ve(t,r),e}();function je(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"width",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"parent",i=null;return n.isPx()?n:("parent"===o?i=Oe.parse(e.parent().css(r)):"self"===o&&(i=Oe.parse(e.css(r))),i?n.toPx(i.value):n)}function ke(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent",u=Oe.parse(n),a=Oe.parse(r);return function(n,r){if(u.equals(a))return u;var c=je(e,t,u,o,i),l=je(e,t,a,o,i);return 0===r?c:1===r?l:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent";if(n.isPx()&&"px"===r)return n;var u=null;return"parent"===i?u=Oe.parse(e.parent().css(o)).value:"self"===i&&(u=Oe.parse(e.css(o)).value),null!=u?n.to(r,u):n}(e,t,Oe.px(c.value+(l.value-c.value)*n),u.unit,o,i)}}function we(e,t,n,r){var o=V(n),i=V(r),u=[];return Object.keys(o).forEach((function(n){u.push({key:n,value:ke(e,t,o[n],i[n])})})),function(e,t){var n={};return u.forEach((function(r){n[r.key]=r.value(e,t)})),N(n)}}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(n,!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Oe.auto=Oe.string("auto");var Ee=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n instanceof e&&(n=n.toJSON()),this.json=this.convert(Object.assign({},this.getDefaultObject(),n)),this.ref=new Proxy(this,{get:function(e,t){var n=e[t];return M(n)?function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n.apply(e,r)}:n||e.json[t]},set:function(e,n,r){if(r&&r.realVal&&M(r.realVal)&&(r=r.realVal()),!t.checkField(n,r))throw new Error("".concat(r," is invalid as ").concat(n," property value."));return e.json[n]=r,!0}}),this.ref}var t,n,r;return t=e,(n=[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"isAttribute",value:function(){return!1}},{key:"recover",value:function(){}},{key:"setCache",value:function(){}},{key:"is",value:function(){if(!this.json)return!1;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.indexOf(this.json.itemType)>-1}},{key:"isNot",value:function(){return!1===this.is.apply(this,arguments)}},{key:"convert",value:function(e){var t=this;return e.layers.forEach((function(e){e.parent=t.ref})),e}},{key:"checkField",value:function(e,t){return!0}},{key:"toCloneObject",value:function(){return{itemType:this.json.itemType,elementType:this.json.elementType,type:this.json.type,visible:this.json.visible,lock:this.json.lock,selected:this.json.selected,layers:this.json.layers.map((function(e){return e.clone()}))}}},{key:"clone",value:function(){var e=new(0,this.constructor)(this.toCloneObject());return e.parent=this.json.parent,e}},{key:"reset",value:function(t){t instanceof e&&(t=t.toJSON()),this.json=this.convert(Se({},this.json,{},t))}},{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Se({layers:[]},e)}},{key:"add",value:function(e){return this.json.layers.push(e),e.parent=this.ref,e}},{key:"toggle",value:function(e,t){T(t)?this.json[e]=!this.json[e]:this.json[e]=!!t}},{key:"toJSON",value:function(){return this.json}},{key:"resize",value:function(){}},{key:"copy",value:function(){return this.json.parent.copyItem(this.ref)}},{key:"copyItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e.clone();n.setScreenX(n.screenX.value+t),n.setScreenY(n.screenY.value+t);for(var r=this.json.layers,o=-1,i=0,u=r.length;i<u;i++)if(r[i]===e){o=i;break}return o>-1&&this.json.layers.splice(o+1,0,n),n}},{key:"remove",value:function(){this.json.parent.removeItem(this.ref)}},{key:"removeItem",value:function(e){for(var t=this.json.layers,n=-1,r=0,o=t.length;r<o;r++)if(t[r]===e){n=r;break}n>-1&&this.json.layers.splice(n,1)}},{key:"searchById",value:function(e){if(this.id===e)return this.ref;for(var t=0,n=this.layers.length;t<n;t++){var r=this.layers[t];if(r.id===e)return r;var o=r.searchById(e);if(o)return o}return null}},{key:"title",get:function(){return this.json.name||this.getDefaultTitle()}},{key:"id",get:function(){return this.json.id}},{key:"layers",get:function(){return this.json.layers}},{key:"parent",get:function(){return this.json.parent}},{key:"html",get:function(){var e=this.json,t=e.elementType,n=e.id,r=e.layers,o=e.itemType,i=t||"div";return"\n    <".concat(i," class='element-item ").concat(o,"' data-id=\"").concat(n,'">\n      ').concat(r.map((function(e){return e.html})).join(""),"\n    </").concat(i,">\n    ")}},{key:"allLayers",get:function(){return Ce(function e(t){var n=[];return t.layers.length&&t.layers.forEach((function(t){n.push.apply(n,Ce(e(t)))})),n.push(t),n}(this.ref))}}])&&Te(t.prototype,n),r&&Te(t,r),e}();function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),De(this,Ae(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,e),n=t,(r=[{key:"isAttribute",value:function(){return!0}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return N(this.toCSS())}}])&&_e(n.prototype,r),o&&_e(n,o),t}(Ee),Le={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)"};var Xe={isColorName:function(e){return!!Le[e]},getColorByName:function(e){return Le[e]}};function Ye(e){return Math.pow(e,3)>.008856?Math.pow(e,3):(e-16/116)/7.787}function Fe(e){return e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e}function Ne(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.x,t=r.y,n=r.z}var o=e/100,i=t/100,u=n/100,a=3.2406*o+-1.5372*i+-.4986*u,c=-.9689*o+1.8758*i+.0415*u,l=.0557*o+-.204*i+1.057*u;return a=Fe(a),c=Fe(c),l=Fe(l),{r:H(255*a),g:H(255*c),b:H(255*l)}}function Ve(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.l,t=r.a,n=r.b}var o=(e+16)/116,i=t/500+o,u=o-n/200;return o=Ye(o),{x:95.047*(i=Ye(i)),y:100*o,z:108.883*(u=Ye(u))}}function Be(e){return e>.008856?Math.pow(e,1/3):(7.787*e+16)/116}function Ge(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.x,t=r.y,n=r.z}var o=e/95.047,i=t/100,u=n/108.883;return o=Be(o),{l:116*(i=Be(i))-16,a:500*(o-i),b:200*(i-(u=Be(u)))}}function ze(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.l,t=r.a,n=r.b}return Ne(Ve(e,t,n))}function qe(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}var o=e/255,i=t/255,u=n/255,a=Math.max(o,i,u),c=a-Math.min(o,i,u),l=0;0==c?l=0:a==o?l=(i-u)/c%6*60:a==i?l=60*((u-o)/c+2):a==u&&(l=60*((o-i)/c+4)),l<0&&(l=360+l);return{h:l,s:0==a?0:c/a,v:a}}function Ue(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}var o=e/255,i=t/255,u=n/255,a=1-Math.max(o,i,u);return{c:(1-o-a)/(1-a),m:(1-i-a)/(1-a),y:(1-u-a)/(1-a),k:a}}function He(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}e/=255,t/=255,n/=255;var o,i,u=Math.max(e,t,n),a=Math.min(e,t,n),c=(u+a)/2;if(u==a)o=i=0;else{var l=u-a;switch(i=c>.5?l/(2-u-a):l/(u+a),u){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:H(360*o),s:H(100*i),l:H(100*c)}}function Ze(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}return Qe((e+t+n)/3>90?0:255)}function Qe(e){return{r:e,g:e,b:e}}function Je(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}return Qe(Math.ceil((e+t+n)/3))}function Ke(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}return Qe(We(e,t,n).y)}function $e(e,t,n){return Math.ceil(.2126*e+.7152*t+.0722*n)}function We(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}var o=$e(e,t,n);return{y:o,cr:.713*(e-o),cb:.564*(n-o)}}function et(e){return 100*(e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)}function tt(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}var o=e/255,i=t/255,u=n/255;return{x:.4124*(o=et(o))+.3576*(i=et(i))+.1805*(u=et(u)),y:.2126*o+.7152*i+.0722*u,z:.0193*o+.1192*i+.9505*u}}function nt(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}return Ge(tt(e,t,n))}function rt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ot(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.h,t=r.s,n=r.l}var o=it(e,t,n);return qe(o.r,o.g,o.b)}function it(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.h,t=r.s,n=r.l}var o,i,u;if(e/=360,n/=100,0==(t/=100))o=i=u=n;else{var a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=rt(c,a,e+1/3),i=rt(c,a,e),u=rt(c,a,e-1/3)}return{r:H(255*o),g:H(255*i),b:H(255*u)}}function ut(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(n,!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=/(#(?:[\da-f]{3}){1,2}|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function ft(e){var t=e.match(st),n=[];if(!t)return n;for(var r=0,o=t.length;r<o;r++)if(t[r].indexOf("#")>-1||t[r].indexOf("rgb")>-1||t[r].indexOf("hsl")>-1)n.push({color:t[r]});else{var i=Xe.getColorByName(t[r]);i&&n.push({color:t[r],nameColor:i})}var u={next:0};return n.forEach((function(t){var n=e.indexOf(t.color,u.next);t.startIndex=n,t.endIndex=n+t.color.length,u.next=t.endIndex})),n}function pt(e){var t=ft(e);return t.forEach((function(t,n){e=e.replace(t.color,"@"+n)})),{str:e,matches:t}}function yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=pt(e);return n.str.split(t).map((function(e,t){return e=gt(e),n.matches[t]&&(e=e.replace("@"+t,n.matches[t].color)),e}))}function ht(e,t){return t.forEach((function(t,n){e=e.replace("@"+n,t.color)})),e}var vt=/^\s+|\s+$/g;function gt(e){return e.replace(vt,"")}function dt(e){if(_(e)){if(Xe.isColorName(e)&&(e=Xe.getColorByName(e)),e.indexOf("rgb(")>-1){for(var t=0,n=(r=e.replace("rgb(","").replace(")","").split(",")).length;t<n;t++)r[t]=parseInt(gt(r[t]),10);return i=ct({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:1},{},He(i))}if(e.indexOf("rgba(")>-1){for(t=0,n=(r=e.replace("rgba(","").replace(")","").split(",")).length;t<n;t++)r[t]=n-1==t?parseFloat(gt(r[t])):parseInt(gt(r[t]),10);return i=ct({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:r[3]},{},He(i))}if(e.indexOf("hsl(")>-1){for(t=0,n=(r=e.replace("hsl(","").replace(")","").split(",")).length;t<n;t++)r[t]=parseFloat(gt(r[t]));return i=ct({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:1},{},it(i))}if(e.indexOf("hsla(")>-1){for(t=0,n=(r=e.replace("hsla(","").replace(")","").split(",")).length;t<n;t++)r[t]=n-1==t?parseFloat(gt(r[t])):parseInt(gt(r[t]),10);return i=ct({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:r[3]},{},it(i))}if(0==e.indexOf("#")){var r=[];if(3==(e=e.replace("#","")).length)for(t=0,n=e.length;t<n;t++){var o=e.substr(t,1);r.push(parseInt(o+o,16))}else for(t=0,n=e.length;t<n;t+=2)r.push(parseInt(e.substr(t,2),16));return i=ct({},i={type:"hex",r:r[0],g:r[1],b:r[2],a:1},{},He(i))}}else if(I(e)){var i;if(0<=e&&e<=16777215)return i=ct({},i={type:"hex",r:(16711680&e)>>16,g:(65280&e)>>8,b:(255&e)>>0,a:1},{},He(i));if(0<=e&&e<=4294967295)return i=ct({},i={type:"hex",r:(4278190080&e)>>24,g:(16711680&e)>>16,b:(65280&e)>>8,a:(255&e)/255},{},He(i))}return e}function bt(e){_(e)&&(e=yt(e));var t=(e=e.map((function(e){if(_(e)){var t=pt(e),n=gt(t.str).split(" ");return n[1]?n[1].indexOf("%")>-1?n[1]=parseFloat(n[1].replace(/%/,""))/100:n[1]=parseFloat(n[1]):n[1]="*",n[0]=ht(n[0],t.matches),n}if(Array.isArray(e))return e[1]?_(e[1])&&(e[1].indexOf("%")>-1?e[1]=parseFloat(e[1].replace(/%/,""))/100:e[1]=+e[1]):e[1]="*",ut(e)}))).filter((function(e){return"*"===e[1]})).length;if(t>0){var n=(1-e.filter((function(e){return"*"!=e[1]&&1!=e[1]})).map((function(e){return e[1]})).reduce((function(e,t){return e+t}),0))/t;e.forEach((function(t,r){"*"==t[1]&&r>0&&(e.length-1==r||(t[1]=n))}))}return e}function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e,t,n){return(Pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=St(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wt(this,St(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(t,e),n=t,o=[{key:"parse",value:function(e){return new t(e)}},{key:"parseStyle",value:function(e){var n=[];if(!e)return n;var r=pt(e);return n=r.str.split(",").filter((function(e){return e.trim()})).map((function(e){var n=e.split(" "),o=n.filter((function(e){return"inset"===e})),i=n.filter((function(e){return e.includes("@")})).map((function(e){return r.matches[+e.replace("@","")].color})),u=n.filter((function(e){return"inset"!==e&&!e.includes("@")}));return t.parse({inset:!!o.length,color:i[0]||"rgba(0, 0, 0, 1)",offsetX:Oe.parse(u[0]||"0px"),offsetY:Oe.parse(u[1]||"0px"),blurRadius:Oe.parse(u[2]||"0px"),spreadRadius:Oe.parse(u[3]||"0px")})}))}},{key:"join",value:function(e){return e.map((function(e){return t.parse(e)})).join(", ")}}],(r=[{key:"getDefaultObject",value:function(){return Pt(St(t.prototype),"getDefaultObject",this).call(this,{itemType:"box-shadow",inset:!1,offsetX:Oe.px(0),offsetY:Oe.px(0),blurRadius:Oe.px(0),spreadRadius:Oe.px(0),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){var e=this.json;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(n,!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Pt(St(t.prototype),"toCloneObject",this).call(this),{inset:e.inset,offsetX:e.offsetX+"",offsetY:e.offsetY+"",blurRadius:e.blurRadius+"",spreadRadius:e.spreadRadius+"",color:e.color})}},{key:"convert",value:function(e){return(e=Pt(St(t.prototype),"convert",this).call(this,e)).offsetX=Oe.parse(e.offsetX),e.offsetY=Oe.parse(e.offsetY),e.blurRadius=Oe.parse(e.blurRadius),e.spreadRadius=Oe.parse(e.spreadRadius),e}},{key:"toCSS",value:function(){return{"box-shadow":this.toString()}}},{key:"toString",value:function(){var e=this.json;return"".concat(e.inset?"inset ":"").concat(e.offsetX," ").concat(e.offsetY," ").concat(e.blurRadius," ").concat(e.spreadRadius," ").concat(e.color)}}])&&kt(n.prototype,r),o&&kt(n,o),t}(Ie);function Ct(e,t,n,r){return function(e,t){return 1===t?r:n}}function Et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]}),"hex"==t?Rt(e):"rgb"==t?_t(e,n):"hsl"==t?Dt(e):e}function Rt(e){Array.isArray(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]});var t=e.r.toString(16);e.r<16&&(t="0"+t);var n=e.g.toString(16);e.g<16&&(n="0"+n);var r=e.b.toString(16);return e.b<16&&(r="0"+r),"#".concat(t).concat(n).concat(r)}function _t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(E(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]}),!T(e))return 1==e.a||T(e.a)?isNaN(e.r)?t:"rgb(".concat(e.r,",").concat(e.g,",").concat(e.b,")"):"rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(e.a,")")}function Dt(e){return E(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]}),1==e.a||T(e.a)?"hsl(".concat(e.h,",").concat(e.s,"%,").concat(e.l,"%)"):"hsla(".concat(e.h,",").concat(e.s,"%,").concat(e.l,"%,").concat(e.a,")")}function At(e,t){return Math.floor(Math.random()*(t-e+1))+e}function Mt(){return _t({r:At(0,255),g:At(0,255),b:At(0,255)})}function It(e,t,n,r){if(1==arguments.length){var o=arguments[0];e=o.c,t=o.m,n=o.y,r=o.k}return{r:255*(1-e)*(1-r),g:255*(1-t)*(1-r),b:255*(1-n)*(1-r)}}function Lt(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.h,t=r.s,n=r.v}var o=e,i=n;o>=360&&(o=0);var u=t*i,a=u*(1-Math.abs(o/60%2-1)),c=i-u,l=[];return 0<=o&&o<60?l=[u,a,0]:60<=o&&o<120?l=[a,u,0]:120<=o&&o<180?l=[0,u,a]:180<=o&&o<240?l=[0,a,u]:240<=o&&o<300?l=[a,0,u]:300<=o&&o<360&&(l=[u,0,a]),{r:H(255*(l[0]+c)),g:H(255*(l[1]+c)),b:H(255*(l[2]+c))}}function Xt(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.h,t=r.s,n=r.v}var o=Lt(e,t,n);return He(o.r,o.g,o.b)}function Yt(e,t,n,r){if(1==arguments.length){var o=arguments[0];e=o.y,t=o.cr,n=o.cb;r=(r=o.bit)||0}var i=e+1.402*(t-r),u=e-.344*(n-r)-.714*(t-r),a=e+1.772*(n-r);return{r:Math.ceil(i),g:Math.ceil(u),b:Math.ceil(a)}}function Ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=Nt(e,t,n);return Et(o,o.a<1?"rgb":r)}function Nt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return{r:H(e.r+(t.r-e.r)*n),g:H(e.g+(t.g-e.g)*n),b:H(e.b+(t.b-e.b)*n),a:H(e.a+(t.a-e.a)*n,100)}}function Vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!e)return[];_(e)&&(e=yt(e));for(var n=(e=e||[]).length,r=[],o=0;o<n-1;o++)for(var i=0;i<t;i++)r.push(Bt(e[o],e[o+1],i/t));return r}function Bt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return Ft(dt(e),dt(t),n,r)}function Gt(e,t){return Bt(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex")}function zt(e){return e=dt(e),(Math.round(299*e.r)+Math.round(587*e.g)+Math.round(114*e.b))/1e3}function qt(e){return zt(e)>=128?"black":"white"}function Ut(e){for(var t=[],n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:10)-((e=bt(e)).length-1),r=n,o=1,i=e.length;o<i;o++){var u=e[o-1][0],a=e[o][0],c=1==o?e[o][1]:e[o][1]-e[o-1][1],l=o==e.length-1?r:Math.floor(c*n);t=t.concat(Vt([u,a],l),[a]),r-=l}return t}function Ht(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,a=qe(dt(e)),c=(i-o)*u/n,l=[],s=1;s<=n;s++)a[t]=Math.abs((u-c*s)/u),l.push(Et(Lt(a),r));return l}function Zt(e){return Ht(e,"h",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:360,1)}function Qt(e){return Ht(e,"s",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)}function Jt(e){return Ht(e,"v",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Vt.parula=function(e){return Vt(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],e)},Vt.jet=function(e){return Vt(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],e)},Vt.hsv=function(e){return Vt(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],e)},Vt.hot=function(e){return Vt(["#0b0000","#ff0000","#ffff00","#ffffff"],e)},Vt.pink=function(e){return Vt(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],e)},Vt.bone=function(e){return Vt(["#000000","#4a4a68","#a6c6c6","#ffffff"],e)},Vt.copper=function(e){return Vt(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],e)};var Wt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(n,!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,{},l,{},o,{},v,{},c,{},h,{},u,{},f,{},p,{},a,{},i,{},r);function en(e,t,n,r){var o=Wt.parse(n),i=Wt.parse(r);return function(e,t){return 0===t?n:1===t?r:Ft(o,i,e,"rgb")}}function tn(e,t,n,r){for(var o=Tt.parseStyle(n),i=Tt.parseStyle(r),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||Tt.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[c]||Tt.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0];a.push({inset:Ct(0,0,s.inset,f.inset),offsetX:ke(e,t,s.offsetX,f.offsetX),offsetY:ke(e,t,s.offsetY,f.offsetY),blurRadius:ke(e,t,s.blurRadius,f.blurRadius),spreadRadius:ke(e,t,s.spreadRadius,f.spreadRadius),color:en(0,0,s.color,f.color)})}return function(e,t){return Tt.join(a.map((function(n){return{inset:n.inset(e,t),offsetX:n.offsetX(e,t),offsetY:n.offsetY(e,t),blurRadius:n.blurRadius(e,t),spreadRadius:n.spreadRadius(e,t),color:n.color(e,t)}})))}}function nn(e,t,n,r){return Ct(0,0,n,r)}var rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return e=+e,function(n){var r=1/e;return"start"==t?r*Math.ceil(n/r):"end"==t?r*Math.floor(n/r):void 0}};function on(){return rn(1,"start")}function un(){return rn(1,"end")}var an=function(){return function(e){return Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1}},cn={step:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return rn(e,t)},"step-start":on,"step-end":un,stepStart:on,stepEnd:un,"ease-out-elastic":an,easeOutElastic:an};function ln(e,t,n){return n.toDeg()}function sn(e,t,n,r){var o=Oe.parse(n),i=Oe.parse(r);return function(e,t){var n=ln(0,0,o),r=ln(0,0,i);return 0===t?n:1===t?r:Oe.deg(n.value+(r.value-n.value)*e).to(o.unit)}}function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t){return!t||"object"!==fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gn(e,t,n){return(gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vn(this,dn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(t,e),n=t,o=[{key:"parse",value:function(e){return new t(e)}},{key:"parseStyle",value:function(e){var n=pt(e);return n.str.split(",").filter((function(e){return e.trim()})).map((function(e){var r=e.split(" "),o=r.filter((function(e){return e.includes("@")})).map((function(e){return n.matches[+e.replace("@","")].color})),i=r.filter((function(e){return!e.includes("@")}));return t.parse({color:o[0]||"rgba(0, 0, 0, 1)",offsetX:Oe.parse(i[0]||"0px"),offsetY:Oe.parse(i[1]||"0px"),blurRadius:Oe.parse(i[2]||"0px")})}))}},{key:"join",value:function(e){return e.map((function(e){return t.parse(e)})).join(", ")}}],(r=[{key:"getDefaultObject",value:function(){return gn(dn(t.prototype),"getDefaultObject",this).call(this,{itemType:"text-shadow",offsetX:Oe.px(0),offsetY:Oe.px(0),blurRadius:Oe.px(0),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(n,!0).forEach((function(t){yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},gn(dn(t.prototype),"toCloneObject",this).call(this),{offsetX:this.json.offsetX+"",offsetY:this.json.offsetY+"",blurRadius:this.json.blurRadius+"",color:this.json.color})}},{key:"convert",value:function(e){return(e=gn(dn(t.prototype),"convert",this).call(this,e)).offsetX=Oe.parse(e.offsetX),e.offsetY=Oe.parse(e.offsetY),e.blurRadius=Oe.parse(e.blurRadius),e}},{key:"toCSS",value:function(){return{"text-shadow":this.toString()}}},{key:"toString",value:function(){var e=this.json;return"".concat(e.offsetX," ").concat(e.offsetY," ").concat(e.blurRadius," ").concat(e.color)}}])&&hn(n.prototype,r),o&&hn(n,o),t}(Ie);function On(e,t,n,r){for(var o=mn.parseStyle(n),i=mn.parseStyle(r),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||mn.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[c]||mn.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0];a.push({offsetX:ke(e,t,s.offsetX,f.offsetX,"width","self"),offsetY:ke(e,t,s.offsetY,f.offsetY,"height","self"),blurRadius:ke(e,t,s.blurRadius,f.blurRadius,"radius"),color:en(0,0,s.color,f.color)})}return function(e,t){return mn.join(a.map((function(n){return{offsetX:n.offsetX(e,t),offsetY:n.offsetY(e,t),blurRadius:n.blurRadius(e,t),color:n.color(e,t)}})))}}function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(n,!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tn(e,t,n){return(Tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xn(this,Cn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(t,e),n=t,(r=[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tn(Cn(t.prototype),"getDefaultObject",this).call(this,wn({itemType:"image-resource",type:"image"},e))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}])&&Sn(n.prototype,r),o&&Sn(n,o),t}(Ie);function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(n,!0).forEach((function(t){Mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xn(e,t,n){return(Xn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ln(this,Yn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,e),n=t,o=[{key:"parse",value:function(e){var n=[],r=pt(e),o=r.str.split(" ").filter((function(e){return e.trim()})),i=+o[0].replace("@",""),u=r.matches[i].color;if(1===o.length)n.push(new t({color:u,unit:"%",percent:0}));else if(2===o.length){var a=Oe.parse(o[1]),c={unit:a.unit};a.isPercent()?c.percent=a.value:a.isPx()?c.px=a.value:a.isEm()&&(c.em=a.value),n.push(new t(An({color:u},c)))}else 3===o.length&&[1,2].forEach((function(e){var r=Oe.parse(o[e]),i={unit:r.unit};r.isPercent()?i.percent=r.value:r.isPx()?i.px=r.value:r.isEm()&&(i.em=r.value),n.push(new t(An({color:u},i)))}));return n}}],(r=[{key:"getDefaultObject",value:function(){return Xn(Yn(t.prototype),"getDefaultObject",this).call(this,{cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",prevColorStep:null})}},{key:"toCloneObject",value:function(){return An({},Xn(Yn(t.prototype),"toCloneObject",this).call(this),{cut:this.json.cut,percent:this.json.percent,unit:this.json.unit,px:this.json.px,em:this.json.em,color:this.json.color})}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"getUnit",value:function(){return"%"==this.json.unit?"percent":this.json.unit}},{key:"add",value:function(e){var t=this.getUnit();return this.json[t]+=+e,this}},{key:"sub",value:function(e){var t=this.getUnit();return this.json[t]-=+e,this}},{key:"mul",value:function(e){var t=this.getUnit();return this.json[t]*=+e,this}},{key:"div",value:function(e){var t=this.getUnit();return this.json[t]/=+e,this}},{key:"mod",value:function(e){var t=this.getUnit();return this.json[t]%=+e,this}},{key:"toLength",value:function(e){return Oe.parse(this.json)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():""}},{key:"toString",value:function(){var e=this.json.cut?this.getPrevLength():"";return"".concat(this.json.color," ").concat(e," ").concat(this.toLength())}},{key:"reset",value:function(e){Xn(Yn(t.prototype),"reset",this).call(this,e),this.parent()&&this.parent().sortColorStep()}},{key:"isPx",get:function(){return"px"==this.json.unit}},{key:"isPercent",get:function(){return"%"==this.json.unit||"percent"===this.json.unit}},{key:"isEm",get:function(){return"em"==this.json.unit}}])&&In(n.prototype,r),o&&In(n,o),t}(Ee);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(n,!0).forEach((function(t){zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e,t,n){return(Hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jn={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Kn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Un(this,Zn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(t,e),n=t,o=[{key:"random",value:function(){var e=Math.floor(1e3*Math.random())%360;return"linear-gradient(".concat(e,"deg, ").concat(Wt.random()," 0%, ").concat(Wt.random()," 100%)")}}],(r=[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Hn(Zn(t.prototype),"getDefaultObject",this).call(this,Gn({type:"gradient",colorsteps:[]},e))}},{key:"toCloneObject",value:function(){return Gn({},Hn(Zn(t.prototype),"toCloneObject",this).call(this),{colorsteps:this.json.colorsteps.map((function(e){return e.clone()}))})}},{key:"convert",value:function(e){return e.colorsteps=e.colorsteps.map((function(e){return new Nn(e)})),e}},{key:"calculateAngle",value:function(){var e=this.json.angle;return T(Jn[e])?e:Jn[e]||0}},{key:"addColorStep",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.json.colorsteps.push(e),t&&this.sortColorStep(),e}},{key:"insertColorStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(216,216,216,0)",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(216,216,216,1)",r=this.colorsteps;if(r.length){if(e<r[0].percent)return r[0].index=1,void this.addColorStep(new Nn({index:0,color:r[0].color,percent:e}));var o=r.length-1;if(r[o].percent<e){var i=r[o].color,u=r[o].index+1;this.addColorStep(new Nn({index:u,color:i,percent:e}))}else for(var a=0,c=r.length-1;a<c;a++){var l=r[a],s=r[a+1];if(l.percent<=e&&e<=s.percent)return i=Wt.mix(l.color,s.color,(e-l.percent)/(s.percent-l.percent),"rgb"),void this.addColorStep(new Nn({index:l.index+1,color:i,percent:e}))}}else this.addColorStepList([new Nn({color:t,percent:e,index:0}),new Nn({color:n,percent:100,index:100})])}},{key:"sortColorStep",value:function(){var e=this.colorsteps;e.sort((function(e,t){return e.percent>t.percent?1:e.percent<t.percent?-1:e.percent==t.percent?e.index===t.index?0:e.index>t.index?1:-1:void 0})),e.forEach((function(e,t){e.index=100*t}))}},{key:"addColorStepList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){e.addColorStep(t,!1)})),this.sortColorStep()}},{key:"getColorStep",value:function(e){return this.json.colorsteps.filter((function(t){return t.id==e}))[0]}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"getColorString",value:function(){var e=this.colorsteps;return e.length?e.map((function(t,n){return t.prevColorStep=t.cut&&n>0?e[n-1]:null,t})).map((function(e){return"".concat(e)})).join(","):""}},{key:"colorsteps",get:function(){return this.json.colorsteps}}])&&qn(n.prototype,r),o&&qn(n,o),t}(Rn);function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rr(e,t,n){return(rr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=or(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ur=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nr(this,or(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(t,e),n=t,o=[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return new t({colorsteps:[new Nn({color:e,percent:0,index:0})]})}}],(r=[{key:"getDefaultObject",value:function(){return rr(or(t.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new Nn({color:"red",percent:0,index:0})]})}},{key:"toCloneObject",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(n,!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},rr(or(t.prototype),"toCloneObject",this).call(this),{static:!0})}},{key:"toString",value:function(){var e=this.json.colorsteps[0].color;return"linear-gradient(to right, ".concat(e,", ").concat(e,")")}},{key:"isStatic",value:function(){return!0}}])&&tr(n.prototype,r),o&&tr(n,o),t}(Kn);function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(n,!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t,n){return t&&pr(e.prototype,t),n&&pr(e,n),e}function hr(e,t){return!t||"object"!==ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vr(e,t,n){return(vr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mr=["jpg","jpeg","png","gif","svg"];var Or=function(e){function t(){return fr(this,t),hr(this,gr(t).apply(this,arguments))}return dr(t,e),yr(t,[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vr(gr(t.prototype),"getDefaultObject",this).call(this,lr({type:"url",url:"",datauri:""},e))}},{key:"toCloneObject",value:function(){return lr({},vr(gr(t.prototype),"toCloneObject",this).call(this),{url:this.json.url,datauri:this.json.datauri})}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.json;if(!e)return"url(".concat(t.url,")")}}],[{key:"parse",value:function(e){return new t({url:e.split("(")[1].split(")")[0]})}},{key:"isImageFile",value:function(e){return mr.includes(e)}}]),t}(Rn);function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(n,!0).forEach((function(t){Sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return!t||"object"!==jr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e,t,n){return(Cr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Er(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _r={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},Dr={"to top":"0","to top right":"45","to right":"90","to bottom right":"135","to bottom":"180","to bottom left":"225","to left":"270","to top left":"315"},Ar=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tr(this,Er(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(t,e),n=t,o=[{key:"toLinearGradient",value:function(e){return 0===e.length?"none":new t({angle:"to right",colorsteps:e})+""}},{key:"parse",value:function(e){var n=pt(e),r=0,o=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()})).forEach((function(e,t){e.includes("@")?(e=ht(e,n.matches),o.push.apply(o,kr(Nn.parse(e)))):r=T(Dr[e])?Oe.parse(e):Oe.deg(+Dr[e])})),new t({angle:r.value,colorsteps:o})}}],(r=[{key:"getDefaultObject",value:function(e){return Cr(Er(t.prototype),"getDefaultObject",this).call(this,Pr({type:"linear-gradient",angle:0},e))}},{key:"toCloneObject",value:function(){return Pr({},Cr(Er(t.prototype),"toCloneObject",this).call(this),{angle:this.json.angle})}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var e=this.getColorString(),t="";return I(t=this.json.angle||0)&&(t=_r["".concat(t)]||t),I(t)&&(t="".concat(t=t>360?t%360:t,"deg")),"".concat(this.json.type,"(").concat(t,", ").concat(e,")")}}])&&xr(n.prototype,r),o&&xr(n,o),t}(Kn);function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xr(e,t,n){return(Xr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fr(e,t){return(Fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nr,Vr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lr(this,Yr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fr(e,t)}(t,e),n=t,o=[{key:"parse",value:function(e){var n=Ar.parse(e);return new t({angle:n.angle,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return Xr(Yr(t.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}])&&Ir(n.prototype,r),o&&Ir(n,o),t}(Ar);function Br(e){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function zr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(n,!0).forEach((function(t){$r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zr(e,t){return!t||"object"!==Br(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qr(e,t,n){return(Qr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Jr(e){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wr=($r(Nr={},"center",!0),$r(Nr,"top",!0),$r(Nr,"left",!0),$r(Nr,"right",!0),$r(Nr,"bottom",!0),Nr),eo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zr(this,Jr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(t,e),n=t,o=[{key:"parse",value:function(e){var n=pt(e),r="ellipse",o=[be.CENTER,be.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()})).forEach((function(e,t){if(e.includes("@"))e=ht(e,n.matches),i.push.apply(i,zr(Nn.parse(e)));else{if(e.includes("at")){var u=Gr(e.split("at").map((function(e){return e.trim()})),2);r=u[0],o=u[1]}else r=e;if(_(o)){var a=o.split(" ");if(1===a.length){var c=Oe.parse(a[0]);o=c.isString()?[c.value,c.value]:[c.clone(),c.clone()]}else 2===a.length&&(o=a.map((function(e){var t=Oe.parse(e);return t.isString()?t.value:t.clone()})))}}})),new t({radialType:r,radialPosition:o,colorsteps:i})}}],(r=[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qr(Jr(t.prototype),"getDefaultObject",this).call(this,Ur({type:"radial-gradient",radialType:"ellipse",radialPosition:[be.CENTER,be.CENTER]},e))}},{key:"toCloneObject",value:function(){return Ur({},Qr(Jr(t.prototype),"toCloneObject",this).call(this),{radialType:this.json.radialType,radialPosition:L(this.json.radialPosition)})}},{key:"isRadial",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var e,t=this.getColorString(),n=this.json,r=n.radialType,o=n.radialPosition||["center","center"];return e=(o=Wr[o]?o:o.join(" "))?"".concat(r," at ").concat(o):r,"".concat(n.type||"radial-gradient","(").concat(e,", ").concat(t,")")}}])&&Hr(n.prototype,r),o&&Hr(n,o),t}(Kn);function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e,t){return!t||"object"!==to(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oo(e,t,n){return(oo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=io(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function io(e){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uo(e,t){return(uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ao,co=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ro(this,io(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uo(e,t)}(t,e),n=t,o=[{key:"parse",value:function(e){var n=eo.parse(e);return new t({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return oo(io(t.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}])&&no(n.prototype,r),o&&no(n,o),t}(eo);function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function so(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fo(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(n,!0).forEach((function(t){Oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vo(e,t){return!t||"object"!==lo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function go(e,t,n){return(go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jo=(Oo(ao={},"center",!0),Oo(ao,"top",!0),Oo(ao,"left",!0),Oo(ao,"right",!0),Oo(ao,"bottom",!0),ao),ko={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},wo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vo(this,bo(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,e),n=t,o=[{key:"parse",value:function(e){var n=pt(e),r="0deg",o=[be.CENTER,be.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()})).forEach((function(e,t){if(e.includes("@"))e=ht(e=e.split(" ").map((function(e){return e.trim()})).map((function(e){return e.includes("deg")?Oe.parse(e).toPercent():e})).join(" "),n.matches),i.push.apply(i,fo(Nn.parse(e)));else{if(e.includes("at")){var u=so(e.split("at").map((function(e){return e.trim()})),2);r=u[0],o=u[1]}else r=e;if(_(o)){var a=o.split(" ");if(1===a.length){var c=Oe.parse(a[0]);o=c.isString()?[c.value,c.value]:[c.clone(),c.clone()]}else 2===a.length&&(o=a.map((function(e){var t=Oe.parse(e);return t.isString()?t.value:t})))}_(r)&&r.includes("from")&&(r=r.split("from")[1],r=T(ko[r])?Oe.parse(r):Oe.deg(+ko[r]))}})),new t({angle:r.value,radialPosition:o,colorsteps:i})}}],(r=[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return go(bo(t.prototype),"getDefaultObject",this).call(this,yo({type:"conic-gradient",angle:0,radialPosition:[be.CENTER,be.CENTER]},e))}},{key:"toCloneObject",value:function(){return yo({},go(bo(t.prototype),"toCloneObject",this).call(this),{angle:this.json.angle,radialPosition:L(this.json.radialPosition)})}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){if(0===this.colorsteps.length)return"";var e=this.colorsteps;return e?(e.sort((function(e,t){return e.percent==t.percent?0:e.percent>t.percent?1:-1})),e.map((function(t,n){return t.prevColorStep=t.cut&&n>0?e[n-1]:null,t})).map((function(e){var t=Math.floor(3.6*e.percent),n="";if(e.cut&&e.prevColorStep){var r=Math.floor(3.6*e.prevColorStep.percent);n="".concat(r,"deg")}return"".concat(e.color," ").concat(n," ").concat(t,"deg")})).join(",")):""}},{key:"toString",value:function(){var e=this.getColorString(),t=[],n=this.json,r=n.angle,o=n.radialPosition||be.CENTER;o=jo[o]?o:o.join(" "),C(r)&&(r=+(ko[r]||r),t.push("from ".concat(r,"deg"))),o&&t.push("at ".concat(o));var i=t.length?t.join(" ")+",":"";return"".concat(n.type,"(").concat(i," ").concat(e,")")}}])&&ho(n.prototype,r),o&&ho(n,o),t}(Kn);function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xo(e,t){return!t||"object"!==Po(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function To(e,t,n){return(To="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Co(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eo(e,t){return(Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ro=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xo(this,Co(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}(t,e),n=t,o=[{key:"parse",value:function(e){var n=wo.parse(e);return new t({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return To(Co(t.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[be.CENTER,be.CENTER]})}}])&&So(n.prototype,r),o&&So(n,o),t}(wo);function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Do(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(n,!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xo(e,t){return!t||"object"!==_o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yo(e,t,n){return(Yo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Fo(e){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vo,Bo=["repeat","no-repeat","repeat-x","repeat-y"],Go=/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi,zo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xo(this,Fo(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}(t,e),n=t,o=[{key:"createImage",value:function(e){return new Or({url:e})}},{key:"createGradient",value:function(e,t){var n=e.colorsteps||t.colorsteps,r=e.angle||t.angle,o=e.radialType||t.radialType,i=e.radialPosition||t.radialPosition,u=t.toJSON();switch(delete u.itemType,delete u.type,e.type){case"static-gradient":return new ur(Mo({},u,{colorsteps:n}));case"linear-gradient":return new Ar(Mo({},u,{colorsteps:n,angle:r}));case"repeating-linear-gradient":return new Vr(Mo({},u,{colorsteps:n,angle:r}));case"radial-gradient":return new eo(Mo({},u,{colorsteps:n,radialType:o,radialPosition:i}));case"repeating-radial-gradient":return new co(Mo({},u,{colorsteps:n,radialType:o,radialPosition:i}));case"conic-gradient":return new wo(Mo({},u,{colorsteps:n,angle:r,radialPosition:i}));case"repeating-conic-gradient":return new Ro(Mo({},u,{colorsteps:n,angle:r,radialPosition:i}))}return new Kn}},{key:"parse",value:function(e){return new t(e)}},{key:"parseImage",value:function(e){var t=pt(e),n=null;return t.str.match(Go).forEach((function(e,r){(e=ht(e,t.matches)).includes("repeating-linear-gradient")?n=Vr.parse(e):e.includes("linear-gradient")?n=Ar.parse(e):e.includes("repeating-radial-gradient")?n=co.parse(e):e.includes("radial")?n=eo.parse(e):e.includes("repeating-conic-gradient")?n=Ro.parse(e):e.includes("conic")?n=wo.parse(e):e.includes("url")&&(n=Or.parse(e))})),n}},{key:"parseStyle",value:function(e){var n=[];if(e["background-image"]){var r=pt(e["background-image"]);r.str.match(Go).forEach((function(e,o){var i=null;(e=ht(e,r.matches)).includes("repeating-linear-gradient")?i=Vr.parse(e):e.includes("linear-gradient")?i=Ar.parse(e):e.includes("repeating-radial-gradient")?i=co.parse(e):e.includes("radial-gradient")?i=eo.parse(e):e.includes("repeating-conic-gradient")?i=Ro.parse(e):e.includes("conic-gradient")?i=wo.parse(e):e.includes("url")&&(i=Or.parse(e)),n[o]=new t({type:i.type,image:i})}))}return e["background-repeat"]&&e["background-repeat"].split(",").map((function(e){return e.trim()})).forEach((function(e,t){n[t]&&(n[t].repeat=e)})),e["background-blend-mode"]&&e["background-blend-mode"].split(",").map((function(e){return e.trim()})).forEach((function(e,t){n[t]&&(n[t].blendMode=e)})),e["background-size"]&&e["background-size"].split(",").map((function(e){return e.trim()})).forEach((function(e,t){if(n[t])if("cover"==e||"contain"===e||"auto"===e)n[t].size=e;else{n[t].size="auto";var r=Do(e.split(" "),2),o=r[0],i=r[1];n[t].width=Oe.parse(o),n[t].height=Oe.parse(i)}})),e["background-position"]&&e["background-position"].split(",").map((function(e){return e.trim()})).forEach((function(e,t){if(n[t]){var r=Do(e.split(" "),2),o=r[0],i=r[1];n[t].x=Oe.parse(o),n[t].y=Oe.parse(i)}})),n}},{key:"toPropertyCSS",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return e.forEach((function(e){k(e.toCSS(t),(function(e,t){n[e]||(n[e]=[]),n[e].push(t)}))})),Y(n)}},{key:"join",value:function(e){return N(t.toPropertyCSS(e.map((function(e){return t.parse(e)}))))}}],(r=[{key:"addImageResource",value:function(e){return this.clear("image-resource"),this.addItem("image-resource",e)}},{key:"addGradient",value:function(e){return this.addImageResource(e)}},{key:"setImageUrl",value:function(e){e.images&&e.images.length&&this.reset({type:"image",image:t.createImage(e.images[0])})}},{key:"setGradient",value:function(e){this.reset({type:e.type,image:t.createGradient(e,this.json.image)})}},{key:"getDefaultObject",value:function(){return Yo(Fo(t.prototype),"getDefaultObject",this).call(this,{itemType:"background-image",checked:!1,blendMode:"normal",size:"auto",repeat:"repeat",width:Oe.percent(100),height:Oe.percent(100),x:Oe.percent(0),y:Oe.percent(0),image:new ur})}},{key:"toCloneObject",value:function(){var e=this.json;return Mo({},Yo(Fo(t.prototype),"toCloneObject",this).call(this),{checked:e.checked,blendMode:e.blendMode,size:e.size,repeat:e.repeat,width:e.width+"",height:e.height+"",x:e.x+"",y:e.y+"",image:e.image.clone()})}},{key:"convert",value:function(e){return e.x=Oe.parse(e.x),e.y=Oe.parse(e.y),e.width&&(e.width=Oe.parse(e.width)),e.height&&(e.height=Oe.parse(e.height)),e}},{key:"checkField",value:function(e,n){return"repeat"===e?Bo.includes(n):Yo(Fo(t.prototype),"checkField",this).call(this,e,n)}},{key:"toBackgroundImageCSS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.json.image?{"background-image":this.json.image.toString(e)}:{}}},{key:"toBackgroundPositionCSS",value:function(){var e=this.json;return{"background-position":"".concat(e.x," ").concat(e.y)}}},{key:"toBackgroundSizeCSS",value:function(){var e=this.json,t="auto";return"contain"==e.size||"cover"==e.size?t=e.size:e.width.isPercent()&&e.width.isPercent()&&100==+e.width&&100==+e.height||(t="".concat(e.width," ").concat(e.height)),{"background-size":t}}},{key:"toBackgroundRepeatCSS",value:function(){return{"background-repeat":this.json.repeat}}},{key:"toBackgroundBlendCSS",value:function(){return{"background-blend-mode":this.json.blendMode}}},{key:"toCSS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Mo({},this.toBackgroundImageCSS(e),{},this.toBackgroundPositionCSS(),{},this.toBackgroundSizeCSS(),{},this.toBackgroundRepeatCSS(),{},this.toBackgroundBlendCSS());return t}},{key:"toString",value:function(){return w(this.toCSS(),(function(e,t){return"".concat(e,": ").concat(t)})).join(";")}},{key:"toBackgroundCSS",value:function(){var e=this.toCSS();return{background:"".concat(e["background-image"]," ")}}},{key:"image",get:function(){return this.json.image},set:function(e){this.json.image=e}}])&&Lo(n.prototype,r),o&&Lo(n,o),t}(Ie);function qo(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return function(e,t){if(0===t)return n;if(1===t)return r;var i=n+(r-n)*e;return o?i+o:i}}function Uo(e,t,n,r){var o={cut:Ct(0,0,n.cut,r.cut),percent:qo(e,t,n.percent,r.percent),px:qo(e,t,n.px,r.px),em:qo(e,t,n.em,r.em),unit:nn(0,0,n.unit,r.unit),color:en(0,0,n.color,r.color)};return function(e,t){return new Nn({cut:o.cut(e,t),percent:o.percent(e,t),px:o.px(e,t),em:o.em(e,t),unit:o.unit(e,t),color:o.color(e,t)})}}function Ho(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Math.max(n.length,r.length),i=[],u=0;u<o;u++){var a=n[u],c=r[u];i[u]=a&&c?Uo(e,t,a,c):Ct(0,0,a,c)}return function(e,t){return i.map((function(n){return n(e,t)}))}}function Zo(e,t,n,r){var o={angle:qo(e,t,n.angle,r.angle),colorsteps:Ho(e,t,n.colorsteps,r.colorsteps)};return function(e,t){var n=o.colorsteps(e,t);return new Ar({angle:o.angle(e,t),colorsteps:n})}}function Qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Qo(Vo={},"center",!0),Qo(Vo,"top",!0),Qo(Vo,"left",!0),Qo(Vo,"right",!0),Qo(Vo,"bottom",!0);function Jo(e,t){switch(t){case"width":if("center"===e)return"50%";if("left"===e)return"0%";if("right"===e)return"100%";break;case"height":if("center"===e)return"50%";if("top"===e)return"0%";if("bottom"===e)return"100%"}return e}function Ko(e,t,n,r){n.radialPosition[0]=Jo(n.radialPosition[0],"width"),n.radialPosition[1]=Jo(n.radialPosition[1],"height"),r.radialPosition[0]=Jo(r.radialPosition[0],"width"),r.radialPosition[1]=Jo(r.radialPosition[1],"height");var o={radialType:nn(0,0,n.radialType,r.radialType),radialPositionX:ke(e,t,n.radialPosition[0],r.radialPosition[0],"width","self"),radialPositionY:ke(e,t,n.radialPosition[1],r.radialPosition[1],"height","self"),colorsteps:Ho(e,t,n.colorsteps,r.colorsteps)};return function(e,t){return new eo({radialType:o.radialType(e,t),radialPosition:[o.radialPositionX(e,t),o.radialPositionY(e,t)],colorsteps:o.colorsteps(e,t)})}}function $o(e,t,n,r){var o={angle:qo(e,t,n.angle,r.angle),radialPositionX:ke(e,t,n.radialPosition[0],r.radialPosition[0],"width","self"),radialPositionY:ke(e,t,n.radialPosition[1],r.radialPosition[1],"height","self"),colorsteps:Ho(e,t,n.colorsteps,r.colorsteps)};return function(e,t){return new wo({angle:o.angle(e,t),radialPosition:[o.radialPositionX(e,t),o.radialPositionY(e,t)],colorsteps:o.colorsteps(e,t)})}}function Wo(e,t,n,r){var o={image:function(e,t){return t}};if("url"===n.type||"url"===r.type)o.image=Ct(0,0,n,r);else if(n.type!=r.type)o.image=Ct(0,0,n,r);else switch(n.type){case"linear-gradient":o.image=Zo(e,t,n,r);break;case"repeating-linear-gradient":o.image=function(e,t,n,r){var o=Zo(e,t,n,r);return function(e,t){var n=o(e,t),r=new Vr({angle:n.angle,colorsteps:n.colorsteps});return console.log(r),r}}(e,t,n,r);break;case"radial-gradient":o.image=Ko(e,t,n,r);break;case"repeating-radial-gradient":o.image=function(e,t,n,r){var o=Ko(e,t,n,r);return function(e,t){var n=o(e,t);return new co({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}(e,t,n,r);break;case"conic-gradient":o.image=$o(e,t,n,r);break;case"repeating-conic-gradient":o.image=function(e,t,n,r){var o=$o(e,t,n,r);return function(e,t){var n=o(e,t);return new Ro({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}(e,t,n,r)}return function(e,t){return o.image(e,t)}}function ei(e,t,n){return function(e,t){return n}}function ti(e,t,n,r){for(var o=zo.parseStyle(V(n)),i=zo.parseStyle(V(r)),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c]||null,f=i[c]||null;s&&!f?a.push({image:ei(0,0,s.image),size:ei(0,0,s.size),width:ei(0,0,s.width),height:ei(0,0,s.height),x:ei(0,0,s.x),y:ei(0,0,s.y),blendMode:ei(0,0,s.blendMode),repeat:ei(0,0,s.repeat)}):!s&&f?a.push({image:ei(0,0,f.image),size:ei(0,0,f.size),width:ei(0,0,f.width),height:ei(0,0,f.height),x:ei(0,0,f.x),y:ei(0,0,f.y),blendMode:ei(0,0,f.blendMode),repeat:ei(0,0,f.repeat)}):s&&f&&a.push({image:Wo(e,t,s.image,f.image),size:nn(0,0,s.size,f.size),width:ke(e,t,s.width,f.width,"width","self"),height:ke(e,t,s.height,f.height,"height","self"),x:ke(e,t,s.x,f.x,"width","self"),y:ke(e,t,s.y,f.y,"height","self"),blendMode:nn(0,0,s.blendMode,f.blendMode),repeat:nn(0,0,s.repeat,f.repeat)})}return function(e,t){return V(zo.join(a.map((function(n){return{image:n.image(e,t),size:n.size(e,t),x:n.x(e,t),y:n.y(e,t),width:n.width(e,t),height:n.height(e,t),blendMode:n.blendMode(e,t),repeat:n.repeat(e,t)}}))))}}function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(n,!0).forEach((function(t){ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function li(e,t,n){return t&&ci(e.prototype,t),n&&ci(e,n),e}function si(e,t){return!t||"object"!==ni(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fi(e,t,n){return(fi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hi(e,t)}function hi(e,t){return(hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vi=/((blur|drop\-shadow|hue\-rotate|invert|brightness|contrast|opacity|saturate|sepia)\(([^\)]*)\))/gi,gi=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fi(pi(t.prototype),"getDefaultObject",this).call(this,ii({itemType:"filter"},e))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}],[{key:"parse",value:function(e){var t=Ci[e.type];return t?new t(e):new bi({value:e.type})}},{key:"parseStyle",value:function(e){var n=[];if(!e)return n;var r=pt(e);return(r.str.match(vi)||[]).forEach((function(e,o){var i=ri(e.split("("),2),u=i[0],a=i[1];if(a=a.split(")")[0],"drop-shadow"===u){var c=a.split(" "),l=c.filter((function(e){return e.includes("@")})).map((function(e){return r.matches[+e.replace("@","")].color})),s=c.filter((function(e){return!e.includes("@")}));n[o]=t.parse({type:u,offsetX:Oe.parse(s[0]),offsetY:Oe.parse(s[1]),blurRadius:Oe.parse(s[2]),color:l[0]||"rgba(0, 0, 0, 1)"})}else n[o]=t.parse({type:u,value:Oe.parse(a)})})),n}},{key:"join",value:function(e){return e.map((function(e){return t.parse(e)})).join(" ")}}]),t}(Ie),di=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"blur",value:t.spec.defaultValue})}},{key:"toCloneObject",value:function(){return ii({},fi(pi(t.prototype),"toCloneObject",this).call(this),{value:Oe.parse(this.json.value)})}}]),t}(gi);di.spec={title:"Blur",inputType:"range",min:0,max:100,step:1,unit:"px",units:["px","em"],defaultValue:Oe.px(0)};var bi=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"svg",value:t.spec.defaultValue})}},{key:"toCloneObject",value:function(){return ii({},fi(pi(t.prototype),"toCloneObject",this).call(this),{value:Oe.parse(this.json.value)})}},{key:"toString",value:function(){return"url(#".concat(this.json.value||"",")")}}]),t}(gi);bi.spec={title:"SVG",inputType:"select",defaultValue:""};var mi=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"grayscale",value:t.spec.defaultValue})}},{key:"toCloneObject",value:function(){return ii({},fi(pi(t.prototype),"toCloneObject",this).call(this),{value:Oe.parse(this.json.value)})}}]),t}(gi);mi.spec={title:"Grayscale",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(0)};var Oi=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"hue-rotate",value:t.spec.defaultValue})}}]),t}(gi);Oi.spec={title:"Hue",inputType:"range",min:0,max:360,step:1,unit:"deg",units:["deg"],defaultValue:Oe.deg(0)};var ji=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"invert",value:t.spec.defaultValue})}}]),t}(gi);ji.spec={title:"Invert",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(0)};var ki=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"brightness",value:t.spec.defaultValue})}}]),t}(gi);ki.spec={title:"Brightness",inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(100)};var wi=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"contrast",value:t.spec.defaultValue})}}]),t}(gi);wi.spec={title:"Contrast",inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(100)};var Pi=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"opacity",value:t.spec.defaultValue})}}]),t}(gi);Pi.spec={title:"Opacity",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(100)};var Si=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"saturate",value:t.spec.defaultValue})}}]),t}(gi);Si.spec={title:"Saturate",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(100)};var xi=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"sepia",value:t.spec.defaultValue})}}]),t}(gi);xi.spec={title:"Sepia",inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:Oe.percent(0)};var Ti=function(e){function t(){return ai(this,t),si(this,pi(t).apply(this,arguments))}return yi(t,e),li(t,[{key:"getDefaultObject",value:function(){return fi(pi(t.prototype),"getDefaultObject",this).call(this,{type:"drop-shadow",multi:!0,offsetX:t.spec.offsetX.defaultValue,offsetY:t.spec.offsetY.defaultValue,blurRadius:t.spec.blurRadius.defaultValue,color:t.spec.color.defaultValue})}},{key:"toString",value:function(){var e=this.json;return"drop-shadow(".concat(e.offsetX," ").concat(e.offsetY," ").concat(e.blurRadius," ").concat(e.color,")")}}]),t}(gi);Ti.spec={offsetX:{title:"Offset X",inputType:"range",min:-100,max:100,step:1,defaultValue:Oe.px(0),unit:"px",units:["px","em"]},offsetY:{title:"Offset Y",inputType:"range",min:-100,max:100,step:1,defaultValue:Oe.px(0),unit:"px",units:["px","em"]},blurRadius:{title:"Blur Radius",inputType:"range",min:0,max:100,step:1,defaultValue:Oe.px(0),unit:"px",units:["px","em","%"]},color:{title:"Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)",unit:"color"}};var Ci={blur:di,grayscale:mi,"hue-rotate":Oi,invert:ji,brightness:ki,contrast:wi,opacity:Pi,saturate:Si,sepia:xi,"drop-shadow":Ti,svg:bi};function Ei(e,t,n,r){var o={type:nn(0,0,n.type,r.type),value:Ct(0,0,n.value,r.value)};switch(n.type){case"blur":o.value=ke(e,t,n.value,r.value);break;case"grayscale":case"invert":case"brightness":case"contrast":case"opacity":case"saturate":case"sepia":case"hue-rotate":o.value=qo(e,t,n.value.value,r.value.value,n.value.unit);break;case"drop-shadow":o.offsetX=ke(e,t,n.offsetX,r.offsetX,"width","self"),o.offsetY=ke(e,t,n.offsetY,r.offsetY,"height","self"),o.blurRadius=ke(e,t,n.blurRadius,r.blurRadius,"width","self"),o.spreadRadius=ke(e,t,n.spreadRadius,r.spreadRadius,"width","self"),o.color=en(0,0,n.color,r.color)}return function(e,t){return"drop-shadow"===o.type(e,t)?{type:o.type(e,t),offsetX:o.offsetX(e,t),offsetY:o.offsetY(e,t),blurRadius:o.blurRadius(e,t),spreadRadius:o.spreadRadius(e,t),color:o.color(e,t)}:{type:o.type(e,t),value:o.value(e,t)}}}function Ri(e,t,n,r){for(var o=gi.parseStyle(n),i=gi.parseStyle(r),u=Math.max(o.length,i.length),a=[],c=0,l=u;c<l;c++){var s=o[c],f=i[c];s&&!f?a.push(ei(0,0,s)):!s&&f?a.push(ei(0,0,f)):s.type!=f.type||"svg"===s.type||"svg"===f.type?a.push(Ct(0,0,s,f)):a.push(Ei(e,t,s,f))}return function(e,t){return gi.join(a.map((function(n){return n(e,t)})))}}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Di=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parse",value:function(e){var t=e.split(" ").filter((function(e){return e.trim()})).map((function(e){return Oe.parse(e)})),n=Oe.percent(0),r=Oe.percent(0),o=Oe.percent(0),i=Oe.percent(0);return 1===t.length?(n=t[0].clone(),r=t[0].clone(),o=t[0].clone(),i=t[0].clone()):2===t.length?(n=t[0].clone(),r=t[1].clone(),o=t[0].clone(),i=t[1].clone()):3===t.length?(n=t[0].clone(),r=t[1].clone(),o=t[2].clone(),i=t[1].clone()):4===t.length&&(n=t[0].clone(),r=t[1].clone(),o=t[2].clone(),i=t[3].clone()),[t.length,n,r,o,i]}}],(n=null)&&_i(t.prototype,n),r&&_i(t,r),e}();function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(n,!0).forEach((function(t){Xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fi(e,t){return!t||"object"!==Ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ni(e,t,n){return(Ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Vi(e){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bi(e,t){return(Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gi=/(content\-box|padding\-box|border\-box|margin\-box|view\-box|stroke\-box|fill\-box|none|(inset|circle|ellipse|polygon|path|url)(\(([^\)]*)\))?)/gi,zi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fi(this,Vi(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}(t,e),n=t,o=[{key:"toCSS",value:function(e){return new t(e).toCSS()}},{key:"toString",value:function(e){return t.toCSS(e)["clip-path"]}},{key:"parse",value:function(e){return new t(e)}},{key:"parseStyle",value:function(e){var t={};return e?((e.match(Gi)||[]).forEach((function(e,n){if(e.includes("-box"))t.box=e;else{var r=Mi(e.split("("),2),o=r[0],i=r[1];i=i||"",i="none"===o?"":i.split(")")[0],t.type=o,t.value=i}})),t):{}}},{key:"parseStyleForCircle",value:function(e){var t=new Oe("","closest-side"),n="";if((e=e||"50%").includes("at")){var r=Mi(e.split("at").map((function(e){return e.trim()})),2);t=r[0],n=r[1]}else n=e.trim();var o=Mi(n.split(" "),2),i=o[0],u=o[1];return T(u)&&(u=i),{radius:t,x:i=Oe.parse(i),y:u=Oe.parse(u)}}},{key:"parseStyleForEllipse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50% 50%",t="50% 50%",n="";if((e=e||"50%").includes("at")){var r=e.split("at").map((function(e){return e.trim()})),o=Mi(r,2);t=o[0],n=o[1]}else n=e.trim();var i=n.split(" "),u=Mi(i,2),a=u[0],c=u[1];T(c)&&(c=a),a=Oe.parse(a),c=Oe.parse(c);var l=t.split(" "),s=Mi(l,2),f=s[0],p=s[1];return T(p)&&(p=f),{radiusX:f=Oe.parse(f),radiusY:p=Oe.parse(p),x:a,y:c}}},{key:"parseStyleForInset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("round"),n=Mi(t,2),r=n[0],o=n[1],i=Di.parse(r),u=Mi(i,5),a=u[0],c=u[1],l=u[2],s=u[3],f=u[4];if(o)var p=Di.parse(o),y=Mi(p,5),h=y[0],v=y[1],g=y[2],d=y[3],b=y[4];return{isAll:1===a,top:c,right:l,bottom:s,left:f,round:o,isAllRadius:1===h,topRadius:v,rightRadius:g,bottomRadius:d,leftRadius:b}}},{key:"parseStyleForPolygon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(",").filter((function(e){return e.trim()})).map((function(e){var t=Mi(e.trim().split(" "),2),n=t[0],r=t[1];return{x:Oe.parse(n),y:Oe.parse(r)}}))}}],(r=[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ni(Vi(t.prototype),"getDefaultObject",this).call(this,Li({itemType:"clip-path",type:"none",value:""},e))}},{key:"toCloneObject",value:function(){return Li({},Ni(Vi(t.prototype),"toCloneObject",this).call(this),{value:this.json.value})}},{key:"toString",value:function(){var e=this.json.type,t=this.json.value,n=this.json.box,r="";switch(e){case"circle":case"inset":case"ellipse":case"polygon":case"path":r="".concat(e,"(").concat(t,")");break;case"svg":r="url(#".concat(t,")");break;default:r="none"}return n?"".concat(n," ").concat(r):r}},{key:"toCSS",value:function(){return{"clip-path":this.toString()}}}])&&Yi(n.prototype,r),o&&Yi(n,o),t}(Ie);function qi(e,t,n,r){var o=zi.parseStyle(n),i=zi.parseStyle(r),u={type:Ct(0,0,o.type,o.type),value:Ct(0,0,n,r)};if(o.type==i.type&&"none"!=o)switch(o.type){case"circle":o.value=zi.parseStyleForCircle(o.value),i.value=zi.parseStyleForCircle(i.value),u.value=function(e,t,n,r){var o={};return"closest-side"===n.radius||"farthest-side"===n.radius||"closest-side"===r.radius||"farthest-side"===r.radius?o.radius=Ct(0,0,n.radius,r.radius):n.radius.unit===r.radius.unit?o.radius=makeInterpolateNumber(e,t,n.radius.value,r.radius.value,n.radius.unit):o.radius=ke(e,t,n.radius,r.radius,"width","self"),o.x=ke(e,t,n.x,r.x,"width","self"),o.y=ke(e,t,n.y,r.y,"height","self"),function(e,t){var n=o.radius(e,t),r=o.x(e,t),i=o.y(e,t),u="".concat(r," ").concat(i),a=n+"";return a.includes("closest-side")?a="closest-side":a.includes("farthest-side")&&(a="farthest-side"),n?"".concat(a," at ").concat(u):"".concat(u)}}(e,t,o.value,i.value);break;case"ellipse":o.value=zi.parseStyleForEllipse(o.value),i.value=zi.parseStyleForEllipse(i.value),u.value=function(e,t,n,r){var o={radiusX:ke(e,t,n.radiusX,r.radiusX,"width","self"),radiusY:ke(e,t,n.radiusY,r.radiusY,"height","self"),x:ke(e,t,n.x,r.x,"width","self"),y:ke(e,t,n.y,r.y,"height","self")};return function(e,t){var n=o.radiusX(e,t),r=o.radiusY(e,t),i=o.x(e,t),u=o.y(e,t);return"".concat(n," ").concat(r," at ").concat(i," ").concat(u)}}(e,t,o.value,i.value);break;case"inset":o.value=zi.parseStyleForInset(o.value),i.value=zi.parseStyleForInset(i.value),u.value=function(e,t,n,r){var o={top:qo(e,t,n.top.value,r.top.value,n.top.unit),left:qo(e,t,n.left.value,r.left.value,n.left.unit),right:qo(e,t,n.right.value,r.right.value,n.right.unit),bottom:qo(e,t,n.bottom.value,r.bottom.value,n.bottom.unit),round:Ct(0,0,n.round,r.round),topRadius:qo(e,t,n.topRadius.value,r.topRadius.value,n.topRadius.unit),leftRadius:qo(e,t,n.leftRadius.value,r.leftRadius.value,n.leftRadius.unit),rightRadius:qo(e,t,n.rightRadius.value,r.rightRadius.value,n.rightRadius.unit),bottomRadius:qo(e,t,n.bottomRadius.value,r.bottomRadius.value,n.bottomRadius.unit)};return function(e,t){var n=o.top(e,t),r=o.right(e,t),i=o.bottom(e,t),u=o.left(e,t),a=o.round(e,t),c=o.topRadius(e,t),l=o.leftRadius(e,t),s=o.bottomRadius(e,t),f=o.rightRadius(e,t),p=[n,r,i,u].join(" "),y=[c,f,s,l].join(" ");return"".concat(p," ").concat(a&&y.trim()?"round ".concat(y):"")}}(e,t,o.value,i.value);break;case"polygon":o.value=zi.parseStyleForPolygon(o.value),i.value=zi.parseStyleForPolygon(i.value),u.value=function(e,t,n,r){for(var o=Math.max(n.length,r.length),i=[],u=0;u<o;u++){var a=n[u],c=r[u];a&&!c?i.push({x:ei(0,0,a.x),y:ei(0,0,a.y)}):!a&&c?i.push({x:ei(0,0,c.x),y:ei(0,0,c.y)}):i.push({x:ke(e,t,a.x,c.x,"width","self"),y:ke(e,t,a.y,c.y,"height","self")})}return function(e,t){return i.map((function(n){return"".concat(n.x(e,t)," ").concat(n.y(e,t))})).join(",")}}(e,t,o.value,i.value);break;case"path":o.value=zi.parseStyleForPath(o.value),i.value=zi.parseStyleForPath(i.value),u.value=makeInterpolateClipPathPath(e,t,o.value,i.value)}return function(e,t){var n=u.type(e,t),r=u.value(e,t);return"none"===n?n:"".concat(n,"(").concat(r,")")}}function Ui(e){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(n,!0).forEach((function(t){Ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t){return!t||"object"!==Ui(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eu(e,t,n){return(eu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tu(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function tu(e){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nu(e,t){return(nu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ru=/((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)|matrix(3d)?|perspective)\(([^\)]*)\))/gi,ou=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wi(this,tu(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nu(e,t)}(t,e),n=t,o=[{key:"join",value:function(e){var n=e.filter((function(e){return"perspective"===e.type})),r=e.filter((function(e){return"perspective"!==e.type}));return[].concat(Zi(n),Zi(r)).map((function(e){return new t(e).toString()})).join(" ")}},{key:"parse",value:function(e){return new t(e)}},{key:"parseStyle",value:function(e){var n=[];return e?((e.match(ru)||[]).forEach((function(e,r){var o=Hi(e.split("("),2),i=o[0],u=o[1],a=(u=u.split(")")[0]).split(",");a=u.includes("matrix")||u.includes("scale")?a.map((function(e){return Oe.number(e.trim())})):a.map((function(e){return Oe.parse(e.trim())})),n[r]=t.parse({type:i,value:a})})),n):n}}],(r=[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return eu(tu(t.prototype),"getDefaultObject",this).call(this,Ji({itemType:"transform",type:"",value:[]},e))}},{key:"toCloneObject",value:function(){return Ji({},eu(tu(t.prototype),"toCloneObject",this).call(this),{value:JSON.parse(JSON.stringify(this.json.value))})}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value.join(", ")||"",")")}},{key:"convert",value:function(e){return(e=eu(tu(t.prototype),"convert",this).call(this,e)).type.includes("matrix")||e.type.includes("scale")?e.value=e.value.map((function(e){return Oe.number(e)})):e.value=e.value.map((function(e){return Oe.parse(e)})),e}},{key:"hasNumberValue",value:function(){var e=this.json.type;return e.includes("matrix")||e.includes("scale")}}])&&$i(n.prototype,r),o&&$i(n,o),t}(Ie);function iu(e,t,n,r){for(var o={type:Ct(0,0,n.type,r.type)},i=[],u=Math.max(n.value.length,r.value.length),a=0;a<u;a++){var c=n.value[a],l=r.value[a];c&&l?i.push(ke(e,t,c,l,n.type)):i.push(ke(e,t,n.value[a]||n.value[a-1]||n.value[a-2],r.value[a]||r.value[a-1]||n.value[a-2],n.type))}return o.value=i,function(e,t){return{type:o.type(e,t),value:o.value.map((function(n){return n(e,t)}))}}}function uu(e,t,n,r){for(var o={type:Ct(0,0,n.type,r.type)},i=[],u=Math.max(n.value.length,r.value.length),a=0;a<u;a++){var c=n.value[a],l=r.value[a];if(c&&l)i.push(qo(e,t,c.value,l.value));else{var s=n.value[a].value||n.value[a-1].value||n.value[a-2].value,f=r.value[a].value||r.value[a-1].value||n.value[a-2].value;i.push(qo(e,t,s,f))}}return o.value=i,function(e,t){var n=o.value.map((function(n){return n(e,t)})),r=o.type(e,t);return(r.includes("matrix")||r.includes("scale"))&&(n=n.map((function(e){return Oe.number(e)}))),{type:r,value:n}}}function au(e,t,n,r){for(var o={type:Ct(0,0,n.type,r.type)},i=[],u=Math.max(n.value.length,r.value.length),a=0;a<u;a++){var c=n.value[a],l=r.value[a];c&&l?i.push(sn(0,0,c,l)):i.push(sn(0,0,n.value[a]||n.value[a-1]||n.value[a-2],r.value[a]||r.value[a-1]||n.value[a-2]))}return o.value=i,function(e,t){return{type:o.type(e,t),value:o.value.map((function(n){return n(e,t)}))}}}function cu(e,t,n,r){for(var o=ou.parseStyle(n.trim()),i=ou.parseStyle(r.trim()),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];if(l&&!s)a.push(ei(0,0,l));else if(!l&&s)a.push(ei(0,0,s));else if(l.type!=s.type)a.push(Ct(0,0,l,s));else switch(l.type){case"skewX":case"skewY":case"translate":case"translateX":case"translateY":case"translateZ":case"translate3d":case"perspective":a.push(iu(e,t,l,s));break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"rotate3d":a.push(au(0,0,l,s));break;case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3d":case"matrix":case"matrix3d":a.push(uu(e,t,l,s))}}return function(e,t){return ou.join(a.map((function(n){return n(e,t)})))}}function lu(e,t,n,r){for(var o=n.split(" ").map((function(e){return Oe.parse(e)})),i=r.split(" ").map((function(e){return Oe.parse(e)})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(ke(e,t,l,s,"transform-origin"))}return function(e,t){return a.map((function(n){return n(e,t)})).join(" ")}}function su(e,t,n,r){for(var o=n.split(" ").map((function(e){return Oe.parse(e)})),i=r.split(" ").map((function(e){return Oe.parse(e)})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(ke(e,t,l,s,"perspective-origin"))}return function(e,t){return a.map((function(n){return n(e,t)})).join(" ")}}function fu(e,t,n,r){for(var o=n.split(" ").map((function(e){return+e})),i=r.split(" ").map((function(e){return+e})),u=Math.max(o.length,i.length),a=[],c=0;c<u;c++){var l=o[c],s=i[c];a.push(qo(e,t,l,s))}return function(e,t){return a.map((function(n){return n(e,t)})).join(" ")}}function pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isEqual",value:function(e,t){return e.x===t.x&&e.y===t.y}},{key:"isFirst",value:function(e){return e&&"M"==e.command}},{key:"getReversePoint",value:function(e,t){var n=e.x-t.x,r=e.y-t.y;return{x:e.x+n,y:e.y+r}}},{key:"getIndexPoint",value:function(e,t){return e[t]}},{key:"getPoint",value:function(t,n){return t.filter((function(t){return e.isEqual(t.startPoint,n)}))[0]}},{key:"getIndex",value:function(t,n){for(var r=-1,o=0,i=t.length;o<i;o++){var u=t[o];if(e.isEqual(u.startPoint,n)){r=o;break}}return r}},{key:"getPointIndex",value:function(t,n){for(var r=-1,o=0,i=t.length;o<i;o++){var u=t[o];if(e.isEqual(u,n)){r=o;break}}return r}},{key:"getLastPoint",value:function(e,t){if(!e.length)return null;for(var n=-1,r=t+1,o=e.length;r<o;r++)if("M"===e[r].command){n=r-1;break}-1==n&&(n=e.length-1),e[n]&&"Z"===e[n].command&&(n-=1);var i=e[n];return i&&(i.index=n),i}},{key:"getFirstPoint",value:function(e,t){for(var n=-1,r=t-1;r>0;r--)if("M"===e[r].command){n=r;break}-1===n&&(n=0);var o=e[n];return o&&(o.index=n),o}},{key:"getPrevPoint",value:function(t,n){var r=n-1;if(r<0)return e.getLastPoint(t,n);var o=t[r];return o&&(o.index=r),o}},{key:"getNextPoint",value:function(t,n){return t[n].connected?e.getFirstPoint(t,n):t[n+1]}}],(n=null)&&pu(t.prototype,n),r&&pu(t,r),e}();function hu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vu(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var du=/([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g,bu=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,mu={multiply:function(e){return function(t,n){var r=+t[n],o=+t[n+1];return[e[0][0]*r+e[0][1]*r+e[0][2],e[1][0]*o+e[1][1]*o+e[1][2],1]}},translate:function(e,t){return this.multiply([[1,0,e],[0,1,t],[0,0,1]])},rotate:function(e){return this.multiply([[Math.cos(e),Math.sin(e),0][(Math.sin(e),Math.cos(e),0)],[0,0,1]])},scale:function(e,t){return this.multiply([[e,0,0],[0,t,0],[0,0,1]])},skewX:function(e){return this.multiply([[1,e,0],[0,1,0],[0,0,1]])},skewY:function(e){return this.multiply([[1,0,0],[e,1,0],[0,0,1]])},reflectionOrigin:function(){return this.multiply([[-1,0,0],[0,-1,0],[0,0,1]])},reflectionX:function(){return this.multiply([[1,0,0],[0,-1,0],[0,0,1]])},reflectionY:function(){return this.multiply([[-1,0,0],[0,1,0],[0,0,1]])}},Ou=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset(t)}var t,n,r;return t=e,(n=[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.pathString=e,this.parse()}},{key:"resetSegments",value:function(e){this.segments=e||[],this.pathString=this.joinPath()}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(bu)||[];return t.filter((function(e){return""!=e}))}},{key:"parse",value:function(){var e=this,t=this.pathString.match(du)||[];this.segments=t.map((function(t){var n=t[0];return{command:n,values:e.trim(t.replace(n,"")).map((function(e){return+e}))}})),this.segments=this.segments.map((function(t,n){switch(t.command){case"c":case"m":case"l":case"q":case"s":case"t":case"v":case"h":for(var r=e.segments[n-1],o=r.values[r.values.length-2],i=r.values[r.values.length-1],u=0,a=t.values.length;u<a;u+=2)t.values[u]+=o,t.values[u+1]+=i;return{command:t.command.toUpperCase(),values:vu(t.values)};default:return t}}))}},{key:"convertGenerator",value:function(){for(var e=[],t=0,n=this.segments.length;t<n;t++){var r=this.segments[t],o=this.segments[t+1],i=r.command,u=r.values;if("M"===i){var a=hu(u,2),c=a[0],l=a[1];e.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:{x:c,y:l},curve:!1})}else if("L"===i)if((k=yu.getPrevPoint(e,e.length)).curve){var s=hu(u,2);c=s[0],l=s[1],e.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:L(k.endPoint),curve:!0})}else{var f=hu(u,2);c=f[0],l=f[1],e.push({command:i,originalCommand:i,startPoint:{x:c,y:l},endPoint:{x:c,y:l},reversePoint:{x:c,y:l},curve:!1})}else if("Q"===i){var p=hu(u,4),y=p[0],h=p[1];if(c=p[2],l=p[3],(k=yu.getPrevPoint(e,e.length)).curve){var v={x:c,y:l},g={x:c,y:l},d={x:c,y:l};e.push({command:"L",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1}),k.endPoint={x:y,y:h}}else o&&"L"===o.command?(k.curve=!0,k.endPoint={x:y,y:h},v={x:c,y:l},d={x:c,y:l},g={x:c,y:l},e.push({command:"L",originalCommand:i,curve:!1,startPoint:v,endPoint:g,reversePoint:d})):(v={x:c,y:l},d={x:y,y:h},g={x:c,y:l},e.push({command:i,originalCommand:i,curve:!0,startPoint:v,endPoint:g,reversePoint:d}))}else if("T"===i){var b=hu(u,2);if(c=b[0],l=b[1],(x=segments[t-1])&&"Q"===x.command){var m=hu(x.values,4),O=(y=m[0],h=m[1],m[2]),j=m[3];(k=yu.getPrevPoint(e,e.length)).endPoint=yu.getReversePoint({x:O,y:j},{x:y,y:h}),v={x:c,y:l},g={x:c,y:l},d={x:c,y:l},e.push({command:"L",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1})}}else if("C"===i){var k=yu.getPrevPoint(e,e.length),w=hu(u,6),P=(y=w[0],h=w[1],w[2]),S=w[3];v={x:c=w[4],y:l=w[5]},d={x:P,y:S},g={x:c,y:l},e.push({command:i,originalCommand:i,curve:!0,startPoint:v,endPoint:g,reversePoint:d}),k&&(k.curve=!0,k.endPoint={x:y,y:h})}else if("S"===i){var x,T=hu(u,2);if(c=T[0],l=T[1],(x=segments[t-1])&&"C"===x.command){var C=hu(x.values,4);P=C[0],S=C[1],O=C[2],j=C[3],(k=yu.getPrevPoint(e,e.length)).endPoint=yu.getReversePoint(k.startPoint,k.reversePoint),v={x:c,y:l},g={x:c,y:l},d={x:P,y:S},e.push({command:"Q",originalCommand:i,startPoint:v,endPoint:g,reversePoint:d,curve:!1})}}else if("Z"===i){k=yu.getPrevPoint(e,e.length);var E=yu.getFirstPoint(e,e.length);yu.isEqual(k.startPoint,E.startPoint)&&(k.connected=!0,"C"===k.command&&(E.curve=!0,yu.isEqual(E.endPoint,E.startPoint)&&(E.endPoint=yu.getReversePoint(k.startPoint,k.reversePoint)))),k.close=!0}}return e=e.filter((function(e){return!!e}))}},{key:"length",value:function(){return this.segments.length}},{key:"setSegments",value:function(e,t){this.segments[e]=t}},{key:"getSegments",value:function(e){return C(e)?this.segments[e]:this.segments}},{key:"joinPath",value:function(e){return(e||this.segments).map((function(e){return"".concat(e.command," ").concat(e.values.length?e.values.join(" "):"")})).join("")}},{key:"each",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n){return e.call(t,n)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(t){var n=t.values;switch(t.command){case"M":case"L":var r=e(n,0);t.values=[r[0],r[1]];break;case"V":r=e([+n[0],0]),t.values=[r[0]];break;case"H":r=e([0,+n[0]]),t.values=[r[1]];break;case"C":case"S":case"T":case"Q":for(var o=0,i=n.length;o<i;o+=2)r=e(n,o),t.values[o]=r[0],t.values[o+1]=r[1]}return t}),t)}},{key:"clone",value:function(){return new e(this.joinPath())}},{key:"translate",value:function(e,t){return this._loop(mu.translate(e,t)),this}},{key:"translateTo",value:function(e,t){return this.joinPath(this._loop(mu.translate(e,t),!0))}},{key:"scale",value:function(e,t){return this._loop(mu.scale(e,t)),this}},{key:"scaleTo",value:function(e,t){return this.joinPath(this._loop(mu.scale(e,t),!0))}},{key:"rotate",value:function(e){return this._loop(mu.rotate(e)),this}},{key:"rotateTo",value:function(e){return this.joinPath(this._loop(mu.rotate(e),!0))}},{key:"reflectionOrigin",value:function(e){return this._loop(mu.reflectionOrigin(e)),this}},{key:"reflectionOriginTo",value:function(e){return this.joinPath(this._loop(mu.reflectionOrigin(e),!0))}},{key:"reflectionX",value:function(e){return this._loop(mu.reflectionX(e)),this}},{key:"reflectionXTo",value:function(e){return this.joinPath(this._loop(mu.reflectionX(e),!0))}},{key:"reflectionY",value:function(e){return this._loop(mu.reflectionY(e)),this}},{key:"reflectionYTo",value:function(e){return this.joinPath(this._loop(mu.reflectionY(e),!0))}},{key:"skewX",value:function(e){return this._loop(mu.skewX(e)),this}},{key:"skewXTo",value:function(e){return this.joinPath(this._loop(mu.skewX(e),!0))}},{key:"skewY",value:function(e){return this._loop(mu.skewY(e)),this}},{key:"skewYTo",value:function(e){return this.joinPath(this._loop(mu.skewY(e),!0))}},{key:"toString",value:function(){return this.joinPath()}}])&&gu(t.prototype,n),r&&gu(t,r),e}();function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ku=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pathArray=[]}var t,n,r;return t=e,(n=[{key:"reset",value:function(){this.pathArray=[]}},{key:"getPointString",value:function(e){return e.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" ")}},{key:"makeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.pathArray.push("".concat(e," ").concat(this.getPointString(t))),this}},{key:"M",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.makeString("M",t)}},{key:"L",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.makeString("L",t)}},{key:"Q",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.makeString("Q",t)}},{key:"C",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.makeString("C",t)}},{key:"Z",value:function(){return this.makeString("Z")}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"object";return'<path d="'.concat(this.d,"\" class='").concat(e,"'/>")}},{key:"d",get:function(){return this.pathArray.join(" ").trim()}}])&&ju(t.prototype,n),r&&ju(t,r),e}();function wu(e){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xu(e,t){return!t||"object"!==wu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tu(e){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cu(e,t){return(Cu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Eu=/[\b\t \,]/g,Ru=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xu(this,Tu(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cu(e,t)}(t,e),n=t,(r=[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.points=e,this.parse()}},{key:"resetSegments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=e,this.points=this.joinPoints()}},{key:"parse",value:function(){var e=this.points;E(e)&&(e=e.join(" "));for(var t=e.trim().split(Eu),n=[],r=0,o=t.length;r<o;r+=2)n.push({x:+t[r],y:+t[r+1]});this.segments=n}},{key:"convertGenerator",value:function(){return this.segments}},{key:"length",value:function(){return this.segments.length}},{key:"toPathString",value:function(){for(var e=new ku,t=0,n=this.segments.length;t<n;t++){var r=this.segments[t];0===t?e.M(r):t===n-1?e.L(r).L(this.segments[0]).Z():e.L(r)}return e.d}},{key:"joinPath",value:function(e){return this.joinPoints(e)}},{key:"joinPoints",value:function(e){return(e||this.segments).map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"each",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n){return e.call(t,n)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(t){var n=Pu(e([t.x,t.y],0),2),r=n[0],o=n[1];return t.x=r,t.y=o,t}),t)}},{key:"clone",value:function(){return new t(this.joinPoints())}},{key:"toString",value:function(){return this.joinPoints()}}])&&Su(n.prototype,r),o&&Su(n,o),t}(Ou);function _u(e,t,n,r){for(var o=Math.max(n.length,r.length),i=[],u=n[n.length-1],a=r[r.length-1],c=0;c<o;c++){var l=n[c],s=r[c];l&&!s?i.push(qo(e,t,l,a)):!l&&s?i.push(qo(e,t,u,s)):i.push(qo(e,t,l,s))}return function(e,t){return i.map((function(n){return n(e,t)}))}}function Du(e,t,n,r){for(var o=new Ou,i=new Ou(n),u=new Ou(r),a=Math.max(i.segments.length,u.segments.length),c=[],l=0;l<a;l++){var s=i.segments[l],f=u.segments[l];s.command===f.command?s.values.length===f.values.length?c.push({command:ei(0,0,s.command),values:_u(e,t,s.values,f.values)}):c.push({command:ei(0,0,s.command),values:ei(0,0,s.values)}):c.push({command:Ct(0,0,s.command,f.command),values:Ct(0,0,s.values,f.values)})}return function(e,t){var n=c.map((function(n){return{command:n.command(e,t),values:n.values(e,t)}}));return o.joinPath(n)}}function Au(e,t,n,r){for(var o=new Ru,i=new Ru(n),u=new Ru(r),a=Math.max(i.segments.length,u.segments.length),c=[],l=i.segments[i.segments.length-1].x,s=i.segments[i.segments.length-1].y,f=u.segments[u.segments.length-1].x,p=u.segments[u.segments.length-1].y,y=0;y<a;y++){var h=i.segments[y],v=u.segments[y];h&&!v?c.push({x:qo(e,t,h.x,f),y:qo(e,t,h.y,p)}):!h&&v?c.push({x:qo(e,t,l,v.x),y:qo(e,t,s,v.y)}):c.push({x:qo(e,t,h.x,v.x),y:qo(e,t,h.y,v.y)})}return function(e,t){return o.joinPoints(c.map((function(n){return{x:n.x(e,t),y:n.y(e,t)}})))}}function Mu(e,t,n,r){var o={x:qo("","",e,n),y:qo("","",t,r)};return function(e,t){return{x:o.x(e,t),y:o.y(e,t)}}}function Iu(e,t,n,r,o,i){var u=[{x:e,y:t},{x:n,y:r},{x:o,y:i}];return function(e,t){return he(u,t)}}function Lu(e,t,n,r,o,i,u,a){var c=[{x:e,y:t},{x:n,y:r},{x:o,y:i},{x:u,y:a}];return function(e,t){return ye(c,t)}}function Xu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Vu(e,t,n,r){var o=Nu(n.split(",").map((function(e){return e.trim()})),4),i=o[0],u=o[1],a=o[2],c=o[3],l={id:i,distance:Oe.parse(u||"0%"),rotateStatus:a||"auto",rotate:Oe.parse(c||"0deg")},s=function(e,t){return{x:x,y:y}},f=0,p=0;if(artboard){var h={d:"path info"};f=h.screenX.value,p=h.screenY.value,s=function(e,t,n){var r=function(e){var t=[],n=[];e.forEach((function(e,r){switch(e.command){case"M":var o=Xu(e.values,2),i=o[0],u=o[1];n=[i,u];break;case"m":var a=Xu(n,2),c=a[0],l=a[1],s=Xu(e.values,2);i=s[0],u=s[1];n=[i+=c,u+=l];break;case"L":var f=Xu(n,2),p=(c=f[0],l=f[1],Xu(e.values,2));i=p[0],u=p[1];t.push({command:e.command,values:[c,l,i,u],length:W(c,l,i,u),interpolate:Mu(c,l,i,u)}),n=[i,u];break;case"l":var y=Xu(n,2),h=(c=y[0],l=y[1],Xu(e.values,2));i=h[0],u=h[1];i+=c,u+=l,t.push({command:e.command,values:[c,l,i,u],length:W(c,l,i,u),interpolate:Mu(c,l,i,u)}),n=[i,u];break;case"C":var v=Xu(n,2),g=(c=v[0],l=v[1],Xu(e.values,6)),d=g[0],b=g[1],m=g[2],O=g[3];i=g[4],u=g[5];t.push({command:e.command,values:[c,l,d,b,m,O,i,u],length:le(c,l,d,b,m,O,i,u),interpolate:Lu(c,l,d,b,m,O,i,u)}),n=[i,u];break;case"c":var j=Xu(n,2),k=(c=j[0],l=j[1],Xu(e.values,6));d=k[0],b=k[1],m=k[2],O=k[3],i=k[4],u=k[5];d+=c,m+=c,i+=c,b+=l,O+=l,u+=l,t.push({command:e.command,values:[c,l,d,b,m,O,i,u],length:le(c,l,d,b,m,O,i,u),interpolate:Lu(c,l,d,b,m,O,i,u)}),n=[i,u];break;case"Q":var w=Xu(n,2),P=(c=w[0],l=w[1],Xu(e.values,4));d=P[0],b=P[1],i=P[2],u=P[3];t.push({command:e.command,values:[c,l,d,b,i,u],length:se(c,l,d,b,i,u),interpolate:Iu(c,l,d,b,i,u)}),n=[i,u];break;case"q":var S=Xu(n,2),x=(c=S[0],l=S[1],Xu(e.values,4));d=x[0],b=x[1],i=x[2],u=x[3];d+=c,i+=c,b+=l,u+=l,t.push({command:e.command,values:[c,l,d,b,i,u],length:se(c,l,d,b,i,u),interpolate:Iu(c,l,d,b,i,u)}),n=[i,u];break;case"S":var T=Xu(n,2),C=(c=T[0],l=T[1],Xu(e.values,4)),E=(m=C[0],O=C[1],i=C[2],u=C[3],t[t.length-1]);if(["C","c","S","s"].includes(E.command)){var R=Xu(E.values,8),_=(R[0],R[1],R[2],R[3],R[4]),D=R[5],A=R[6],M=R[7],I=yu.getReversePoint({x:A,y:M},{x:_,preC1y:D});d=I.x,b=I.y;t.push({command:e.command,values:[c,l,d,b,m,O,i,u],length:getCubicDist(c,l,d,b,m,O,i,u),interpolate:Lu(c,l,d,b,m,O,i,u)}),n=[i,u];break}case"s":var L=Xu(n,2),X=(c=L[0],l=L[1],Xu(e.values,4));m=X[0],O=X[1],i=X[2],u=X[3];m+=c,i+=c,O+=l,u+=l;E=t[t.length-1];if(["C","c","S","s"].includes(E.command)){var Y=Xu(E.values,8),F=(Y[0],Y[1],Y[2],Y[3],_=Y[4],D=Y[5],A=Y[6],M=Y[7],yu.getReversePoint({x:A,y:M},{x:_,preC1y:D}));d=F.x,b=F.y;t.push({command:e.command,values:[c,l,d,b,m,O,i,u],length:getCubicDist(c,l,d,b,m,O,i,u),interpolate:Lu(c,l,d,b,m,O,i,u)}),n=[i,u];break}case"T":var N=Xu(n,2),V=(c=N[0],l=N[1],Xu(e.values,2));i=V[0],u=V[1],E=t[t.length-1];if(["Q","q","T","t"].includes(E.command)){var B=Xu(E.values,6),G=(B[0],B[1],_=B[2],D=B[3],A=B[4],M=B[5],yu.getReversePoint({x:A,y:M},{x:_,preC1y:D}));d=G.x,b=G.y;t.push({command:e.command,values:[c,l,d,b,i,u],length:se(c,l,d,b,i,u),interpolate:Iu(c,l,d,b,i,u)}),n=[i,u]}break;case"t":var z=Xu(n,2),q=(c=z[0],l=z[1],Xu(e.values,2));i=q[0],u=q[1];i+=c,u+=l;E=t[t.length-1];if(["Q","q","T","t"].includes(E.command)){var U=Xu(E.values,6),H=(U[0],U[1],_=U[2],D=U[3],A=U[4],M=U[5],yu.getReversePoint({x:A,y:M},{x:_,preC1y:D}));d=H.x,b=H.y;t.push({command:e.command,values:[c,l,d,b,i,u],length:se(c,l,d,b,i,u),interpolate:Iu(c,l,d,b,i,u)}),n=[i,u]}}}));var r=0;t.forEach((function(e){r+=e.length}));var o=0;return t.forEach((function(e){e.startT=o/r,e.endT=(o+e.length)/r,e.totalLength=r,o+=e.length})),{totalLength:r,interpolateList:t}}(new Ou(h.d).segments),o=r.totalLength,i=r.interpolateList,u=l.distance.toPx(o);(t+=u/o)>1&&(t-=1);var a=i[0];0===t?a=i[0]:1===t&&(a=i[i.length-1]);var c=i.find((function(e){return e.startT<=t&&t<e.endT}));c&&(a=c);var s=(t-a.startT)/(a.endT-a.startT),f=n(s);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yu(n,!0).forEach((function(t){Fu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yu(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.interpolate(f,s,n),{totalLength:a.totalLength})}}return function(t,n,r){var o=(e["transform-origin"]||"50% 50%").split(" ").map((function(e){return Oe.parse(e)})),i=o[0].toPx(e.width.value),u=o[1].toPx(e.height.value),c=s(t,n,r),y={x:c.x+f-i.value,y:c.y+p-u.value};if(e.setScreenX(y.x),e.setScreenY(y.y),"element"===l.rotateStatus);else{var h=c,v=s(t+1/c.totalLength,n+1/c.totalLength,r),g=ee(v.x-h.x,v.y-h.y),d=Oe.deg(function(e){switch(a){case"angle":return l.rotate.value;case"auto angle":return e+l.rotate.value;case"reverse":return e+180;case"auto":return e;default:return}}(g));e.rotate=d}return y}}function Bu(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Gu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var zu=function(){return function(e,t){}};function qu(e,t,n,r){switch(t){case"width":case"left":case"x":return ke(e,t,n,r,"width");case"height":case"top":case"y":return ke(e,t,n,r,"height");case"perspective":case"font-size":case"font-stretch":case"font-weight":case"text-stroke-width":return ke(e,t,n,r,t);case"fill-opacity":case"opacity":case"stroke-dashoffset":return qo(e,t,+n,+r);case"background-color":case"color":case"text-fill-color":case"text-stroke-color":case"fill":case"stroke":return en(0,0,n,r);case"mix-blend-mode":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":return nn(0,0,n,r);case"rotate":return sn(0,0,n,r)}var o=function(e){switch(e){case"border-radius":return we;case"box-shadow":return tn;case"text-shadow":return On;case"background-image":return ti;case"filter":case"backdrop-filter":return Ri;case"clip-path":return qi;case"transform":return cu;case"transform-origin":return lu;case"perspective-origin":return su;case"stroke-dasharray":return fu;case"d":return Du;case"points":return Au;case"offset-path":return Vu}}(t);return o?o(e,t,n,r):zu}function Uu(e,t,n,r){return qu(e,t,n,r)}function Hu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"linear",t=Gu(e.split("(").map((function(e){return e.trim()})),2),n=t[0],r=t[1];r=(r||"").split(")")[0].trim();var o=cn[n];if(o){var i=e.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()}));return o.apply(void 0,Bu(i))}return function(e){var t=fe(e);return function(e){return t(e).y}}(e)}function Zu(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ju=0,Ku=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),D(t))this.el=t;else{var o=document.createElement(t);for(var i in this.uniqId=Ju++,n&&(o.className=n),r=r||{})o.setAttribute(i,r[i]);this.el=o}}var t,n,r;return t=e,n=[{key:"data",value:function(e,t){var n=e.split("-").map((function(e,t){return 0===t?e:e.substr(0,1).toUpperCase()+e.substr(1)})).join("");if(1===arguments.length)return this.el.dataset(n);this.el.dataset(n,t)}},{key:"attr",value:function(e,t){return 1==arguments.length?this.el.getAttribute(e):(this.el.setAttribute(e,t),this)}},{key:"attrKeyValue",value:function(e){return t={},n=this.el.getAttribute(e),r=this.val(),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r}},{key:"attrs",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map((function(t){return e.el.getAttribute(t)}))}},{key:"styles",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map((function(t){return e.el.style[t]}))}},{key:"removeAttr",value:function(e){return this.el.removeAttribute(e),this}},{key:"removeStyle",value:function(e){return this.el.style.removeProperty(e),this}},{key:"is",value:function(e){return this.el===(e.el||e)}},{key:"isTag",value:function(e){return this.el.tagName.toLowerCase()===e.toLowerCase()}},{key:"closest",value:function(t){for(var n=this,r=!1;!(r=n.hasClass(t));){if(!n.el.parentNode)return null;n=e.create(n.el.parentNode)}return r?n:null}},{key:"parent",value:function(){return e.create(this.el.parentNode)}},{key:"hasParent",value:function(){return!!this.el.parentNode}},{key:"removeClass",value:function(){var e;return(e=this.el.classList).remove.apply(e,arguments),this}},{key:"hasClass",value:function(e){return!!this.el.classList&&this.el.classList.contains(e)}},{key:"addClass",value:function(){var e;return(e=this.el.classList).add.apply(e,arguments),this}},{key:"onlyOneClass",value:function(e){var t=this.parent().$(".".concat(e));t&&t.removeClass(e),this.addClass(e)}},{key:"toggleClass",value:function(e,t){this.el.classList.toggle(e,t)}},{key:"html",value:function(e){return T(e)?this.el.innerHTML:(_(e)?this.el.innerHTML=e:this.empty().append(e),this)}},{key:"find",value:function(e){return this.el.querySelector(e)}},{key:"$",value:function(t){var n=this.find(t);return n?e.create(n):null}},{key:"findAll",value:function(e){return this.el.querySelectorAll(e)}},{key:"$$",value:function(t){return Zu(this.findAll(t)).map((function(t){return e.create(t)}))}},{key:"empty",value:function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);return this}},{key:"append",value:function(e){return _(e)?this.el.appendChild(document.createTextNode(e)):this.el.appendChild(e.el||e),this}},{key:"prepend",value:function(e){return _(e)?this.el.prepend(document.createTextNode(e)):this.el.prepend(e.el||e),this}},{key:"appendHTML",value:function(t){var n=e.create("div").html(t);this.append(n.createChildrenFragment())}},{key:"createChildrenFragment",value:function(){var e=this.children(),t=document.createDocumentFragment();return e.forEach((function(e){return t.appendChild(e.el)})),t}},{key:"appendTo",value:function(e){return(e.el?e.el:e).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"removeChild",value:function(e){return this.el.removeChild(e.el||e),this}},{key:"text",value:function(t){if(T(t))return this.el.textContent;var n=t;return t instanceof e&&(n=t.text()),this.el.textContent=n,this}},{key:"css",value:function(e,t){if(C(e)&&C(t))this.el.style[e]=t;else if(C(e)){if(_(e))return getComputedStyle(this.el)[e];Object.assign(this.el.style,e)}return this}},{key:"getComputedStyle",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=getComputedStyle(this.el),t={},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.forEach((function(n){t[n]=e[n]})),t}))},{key:"getStyleList",value:function(){for(var e=this,t={},n=this.el.style.length,r=0;r<n;r++){var o=this.el.style[r];t[o]=this.el.style[o]}for(var i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];return u.forEach((function(n){t[n]=e.css(n)})),t}},{key:"cssText",value:function(e){return T(e)?this.el.style.cssText:(e!=this.el.tempCssText&&(this.el.style.cssText=e,this.el.tempCssText=e),this)}},{key:"cssArray",value:function(e){return e[0]&&(this.el.style[e[0]]=e[1]),e[2]&&(this.el.style[e[2]]=e[3]),e[4]&&(this.el.style[e[4]]=e[5]),e[6]&&(this.el.style[e[6]]=e[7]),e[8]&&(this.el.style[e[8]]=e[9]),this}},{key:"cssFloat",value:function(e){return parseFloat(this.css(e))}},{key:"cssInt",value:function(e){return parseInt(this.css(e))}},{key:"px",value:function(e,t){return this.css(e,Oe.px(t))}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"offsetRect",value:function(){return{top:this.el.offsetTop,left:this.el.offsetLeft,width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"offset",value:function(){var t=this.rect(),n=e.getScrollTop(),r=e.getScrollLeft();return{top:t.top+n,left:t.left+r}}},{key:"offsetLeft",value:function(){return this.offset().left}},{key:"offsetTop",value:function(){return this.offset().top}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.rect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.rect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.rect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"val",value:function(t){if(T(t))return this.el.value;if(C(t)){var n=t;t instanceof e&&(n=t.val()),this.el.value=n}return this}},{key:"scrollIntoView",value:function(){this.el.scrollIntoView()}},{key:"addScrollLeft",value:function(e){return this.el.scrollLeft+=e,this}},{key:"addScrollTop",value:function(e){return this.el.scrollTop+=e,this}},{key:"setScrollTop",value:function(e){return this.el.scrollTop=e,this}},{key:"setScrollLeft",value:function(e){return this.el.scrollLeft=e,this}},{key:"scrollTop",value:function(){return this.el===document.body?e.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?e.getScrollLeft():this.el.scrollLeft}},{key:"scrollHeight",value:function(){return this.el.scrollHeight}},{key:"scrollWidth",value:function(){return this.el.scrollWidth}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.create(t,n,r);return i.css(o),this.append(i),i}},{key:"firstChild",value:function(){return e.create(this.el.firstElementChild)}},{key:"children",value:function(){var t=this.el.firstElementChild;if(!t)return[];var n=[];do{n.push(e.create(t)),t=t.nextElementSibling}while(t);return n}},{key:"childLength",value:function(){return this.el.children.length}},{key:"replace",value:function(e){return this.el.parentNode&&this.el.parentNode.replaceChild(e.el||e,this.el),this}},{key:"replaceChild",value:function(e,t){return this.el.replaceChild(t.el||t,e.el||e),this}},{key:"value",get:function(){return this.el.value}},{key:"naturalWidth",get:function(){return this.el.naturalWidth}},{key:"naturalHeight",get:function(){return this.el.naturalHeight}}],r=[{key:"create",value:function(t,n,r){return new e(t,n,r)}},{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}},{key:"parse",value:function(e){return DOMParser().parseFromString(e,"text/htmll")}},{key:"body",value:function(){return e.create(document.body)}}],n&&Qu(t.prototype,n),r&&Qu(t,r),e}();function $u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ea(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var na=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:"body"};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.animations=t,this.compiledAnimation=[],this.options=n,this.debug=n.debug||!1,this.fps=n.fps||60,this.totalTime=G(this.fps,n.totalTimecode),this.totalTimecode=n.totalTimecode||"00:00:00:00",this.currentTime=0,this.currentTimecode="00:00:00:00",this.startTime=0,this.endTime=this.totalTime,this.initialize()}var t,n,r;return t=e,(n=[{key:"log",value:function(){var e;this.debug&&(e=console).log.apply(e,arguments)}},{key:"searchBySelector",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";t="body"===t?document.body:t;var n=Ku.create(t);return n.$$(e)}},{key:"initialize",value:function(){var e=this;this.animations.forEach((function(t){var n=t.container||e.options.container||"body",r=e.searchBySelector(t.selector,n);t.compiled={},t.properties.forEach((function(n){t.compiled["".concat(n.property)]=e.compiledTimingFunction(r,n)}))})),this.log("timeline is initialized.")}},{key:"searchTimelineOffset",value:function(e){var t=[];return this.animations.forEach((function(n){n.properties.forEach((function(r){var o=n.compiled["".concat(r.property)];t.push.apply(t,ea(o.filter((function(t){return!(!t.isOnlyTime||t.startTime!=e)||t.startTime<=e&&e<t.endTime}))))}))})),t.filter((function(e){return e}))}},{key:"parseOffset",value:function(e,t,n){if(E(n)){var r=Wu(n,3),o=r[0],i=r[1],u=r[2];return T(i)&&(i=e.css(t)),{time:o,value:i,timing:u}}return n&&T(n.value)&&(n.value=e.css(t)),n}},{key:"compiledTimingFunction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=[];return 1===n.keyframes.length?r:(t.forEach((function(t,o){r.push.apply(r,ea(n.keyframes.map((function(r,i){var u=e.parseOffset(t,n.property,r),a=e.parseOffset(t,n.property,n.keyframes[i+1]);a||(a={time:u.time,value:u.value+""});var c={layer:t,layerIndex:o,property:n.property,isResetFunction:e.checkResetInterpolateFunction(n.property),isOnlyTime:u.time===a.time,startTime:u.time,endTime:a.time,startValue:u.value,endValue:a.value,timing:u.timing,interpolateFunction:Uu(t,n.property,u.value,a.value),timingFunction:Hu(u.timing)};return c.func=e.makeTimingFunction(c),c})).filter((function(e){return e}))))})),r)}},{key:"makeTimingFunction",value:function(e){return function(t){var n=e.endTime-e.startTime,r=1;return 0!==n&&(r=(t-e.startTime)/n),e.interpolateFunction(e.timingFunction(r),r,e.timingFunction)}}},{key:"checkResetInterpolateFunction",value:function(e){switch(e){case"offset-path":case"background-image":return!0}return!1}},{key:"seek",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};(C(t)||null!==t)&&this.setTimelineCurrentTime(t);var r=1e3*this.currentTime;this.log("seek start : ",r);var o=this.searchTimelineOffset(r).filter(n),i=new WeakMap,u=[];o.forEach((function(e){i.has(e.layer)||(i.set(e.layer,{}),u.push(e.layer));var t=i.get(e.layer);if(e.isResetFunction){var n=e.func(r,e.layer,e.layerIndex);Object.assign(t,n)}else Object.assign(t,$u({},e.property,e.func(r,e.layer,e.layerIndex)))})),u.forEach((function(t){t.css(i.get(t)),e.log(t,i.get(t))})),this.log("seek end : ",r)}},{key:"getKeyframeList",value:function(e){this.animations.forEach((function(t){t.properties.forEach((function(t){t.keyframes.forEach((function(t){e&&e(t)}))}))}))}},{key:"getSelectedTimelineLastTime",value:function(){var e=0;return this.getKeyframeList((function(t){e=Math.max(t.time,e)})),e}},{key:"getSelectedTimelineFirstTime",value:function(){var e=Number.MAX_SAFE_INTEGER;return this.getKeyframeList((function(t){e=Math.min(t.time,e)})),e}},{key:"getSelectedTimelinePrevTime",value:function(){var e=this,t=this.getSelectedTimelineFirstTime();return this.getKeyframeList((function(n){z(e.fps,n.time)<e.currentTimecode&&(t=Math.max(n.time,t))})),t}},{key:"getSelectedTimelineNextTime",value:function(){var e=this,t=this.getSelectedTimelineLastTime();return this.getKeyframeList((function(n){z(e.fps,keyframe.time)>e.currentTimecode&&(t=Math.min(keyframe.time,t))})),t}},{key:"getTimelineLayerInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:10:00",n=G(e,t);return{fps:e,currentTimecode:z(e,0),totalTimecode:z(e,n),currentTime:0,totalTime:n,displayStartTime:0,displayEndTime:n}}},{key:"setTimelineCurrentTime",value:function(e){var t=this.fps,n=this.totalTimecode,r=e,o=e;+r+""===r&&(o=q(t,r=+r)),o>n&&(o=n);var i=G(t,o);this.currentTime=i,this.currentTimecode=z(t,i)}},{key:"setDisplayTimeDxRate",value:function(e,t,n){var r=e*this.totalTime,o=t+r,i=n+r;o=Math.max(o,0),0===(o=Math.min(o,i))&&(i=n-t),i=Math.max(i,o),(i=Math.min(i,this.totalTime))===this.totalTime&&(o=this.totalTime-(n-t)),this.displayStartTime=o,this.displayEndTime=i}},{key:"setDisplayStartTimeRate",value:function(e){this.displayStartTime=e*this.totalTime}},{key:"setDisplayEndTimeRate",value:function(e){this.displayEndTime=e*this.totalTime}},{key:"setTimelineCurrentTimeRate",value:function(e){var t=this.displayStartTime,n=this.displayEndTime,r=this.fps,o=t+(n-t)*e;this.setTimelineCurrentTime(z(r,o))}},{key:"setTimelineTotalTime",value:function(e){var t=e,n=e;+t+""===t&&(t=+t,n=q(this.fps,t)),G(this.fps,n)<this.displayEndTime&&(this.displayEndTime=G(this.fps,n),this.displayStartTime=0),this.totalTimecode=n,this.totalTime=G(this.fps,n)}},{key:"getTimelineObject",value:function(e){return this.animations.find((function(t){return t.id===e}))}},{key:"getDefaultPropertyValue",value:function(e){switch(e){case"mix-blend-mode":return"normal";case"rotate":return"0deg";case"box-shadow":return"0px 0px 0px 0px rgba(0, 0, 0, 1)";case"text-shadow":return"0px 0px 0px rgba(0, 0, 0, 1)";case"opacity":return 1;default:return""}}},{key:"setFps",value:function(e){this.fps=e,this.currentTimecode=z(e,this.currentTime),this.totalTimecode=z(e,this.totalTime)}}])&&ta(t.prototype,n),r&&ta(t,r),e}();function ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fps:60,duration:1e3,container:"body"},n=T(t.fps)?60:+t.fps,r=T(t.container)?"body":t.container,o=T(t.speed)?1:+t.speed,i=T(t.duration)?1e3:+t.duration,u=T(t.iterationCount)?1:+t.iterationCount,a=T(t.direction)?"normal":t.direction,c=!T(t.debug)&&t.debug,l=function(){},s=function(){},f=function(){},p=function(){},y=function(){};M(t.onTick)&&(l=t.onTick),M(t.onStart)&&(s=t.onStart),M(t.onEnd)&&(f=t.onEnd),M(t.onFirst)&&(p=t.onFirst),M(t.onLast)&&(y=t.onLast);var h=new na(e,{debug:c,fps:n,container:r,totalTimecode:z(n,i/1e3)}),v=U({speed:o,duration:i,iterationCount:u,direction:a,startCallback:s,endCallback:f,firstCallback:p,lastCallback:y,tick:function(e,t){h.seek(z(h.fps,e/1e3)),l(e,t,n),c&&console.log("tick : ",h.fps,e,t)}});return{get elapsed(){return v.elapsed},get fps(){return h.fps},get totalTime(){return h.totalTime},get currentTime(){return h.currentTime},play:function(){v.play()},stop:function(){v.stop()},pause:function(){v.pause()}}}n.d(t,"Player",(function(){return ra}));t.default={Player:ra}}])}));